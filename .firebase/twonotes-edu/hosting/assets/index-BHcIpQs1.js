(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var zd={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function eb(){if(kv)return Ll;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Uv;function tb(){return Uv||(Uv=1,zd.exports=eb()),zd.exports}var Z=tb(),jd={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function nb(){if(zv)return je;zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,$={};function H(x,se,ge){this.props=x,this.context=se,this.refs=$,this.updater=ge||N}H.prototype.isReactComponent={},H.prototype.setState=function(x,se){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,se,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=H.prototype;function ee(x,se,ge){this.props=x,this.context=se,this.refs=$,this.updater=ge||N}var ie=ee.prototype=new X;ie.constructor=ee,L(ie,H.prototype),ie.isPureReactComponent=!0;var _e=Array.isArray,k={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function O(x,se,ge,fe,me,xe){return ge=xe.ref,{$$typeof:i,type:x,key:se,ref:ge!==void 0?ge:null,props:xe}}function A(x,se){return O(x.type,se,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function I(x){var se={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ge){return se[ge]})}var V=/\/+/g;function j(x,se){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):se.toString(36)}function D(){}function St(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(se){x.status==="pending"&&(x.status="fulfilled",x.value=se)},function(se){x.status==="pending"&&(x.status="rejected",x.reason=se)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function qe(x,se,ge,fe,me){var xe=typeof x;(xe==="undefined"||xe==="boolean")&&(x=null);var ze=!1;if(x===null)ze=!0;else switch(xe){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(x.$$typeof){case i:case e:ze=!0;break;case E:return ze=x._init,qe(ze(x._payload),se,ge,fe,me)}}if(ze)return me=me(x),ze=fe===""?"."+j(x,0):fe,_e(me)?(ge="",ze!=null&&(ge=ze.replace(V,"$&/")+"/"),qe(me,se,ge,"",function(Ge){return Ge})):me!=null&&(b(me)&&(me=A(me,ge+(me.key==null||x&&x.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+ze)),se.push(me)),1;ze=0;var Dt=fe===""?".":fe+":";if(_e(x))for(var et=0;et<x.length;et++)fe=x[et],xe=Dt+j(fe,et),ze+=qe(fe,se,ge,xe,me);else if(et=R(x),typeof et=="function")for(x=et.call(x),et=0;!(fe=x.next()).done;)fe=fe.value,xe=Dt+j(fe,et++),ze+=qe(fe,se,ge,xe,me);else if(xe==="object"){if(typeof x.then=="function")return qe(St(x),se,ge,fe,me);throw se=String(x),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ue(x,se,ge){if(x==null)return x;var fe=[],me=0;return qe(x,fe,"","",function(xe){return se.call(ge,xe,me++)}),fe}function Ie(x){if(x._status===-1){var se=x._result;se=se(),se.then(function(ge){(x._status===0||x._status===-1)&&(x._status=1,x._result=ge)},function(ge){(x._status===0||x._status===-1)&&(x._status=2,x._result=ge)}),x._status===-1&&(x._status=0,x._result=se)}if(x._status===1)return x._result.default;throw x._result}var Te=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Be(){}return je.Children={map:ue,forEach:function(x,se,ge){ue(x,function(){se.apply(this,arguments)},ge)},count:function(x){var se=0;return ue(x,function(){se++}),se},toArray:function(x){return ue(x,function(se){return se})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},je.Component=H,je.Fragment=n,je.Profiler=o,je.PureComponent=ee,je.StrictMode=a,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,je.act=function(){throw Error("act(...) is not supported in production builds of React.")},je.cache=function(x){return function(){return x.apply(null,arguments)}},je.cloneElement=function(x,se,ge){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var fe=L({},x.props),me=x.key,xe=void 0;if(se!=null)for(ze in se.ref!==void 0&&(xe=void 0),se.key!==void 0&&(me=""+se.key),se)!he.call(se,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&se.ref===void 0||(fe[ze]=se[ze]);var ze=arguments.length-2;if(ze===1)fe.children=ge;else if(1<ze){for(var Dt=Array(ze),et=0;et<ze;et++)Dt[et]=arguments[et+2];fe.children=Dt}return O(x.type,me,void 0,void 0,xe,fe)},je.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},je.createElement=function(x,se,ge){var fe,me={},xe=null;if(se!=null)for(fe in se.key!==void 0&&(xe=""+se.key),se)he.call(se,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(me[fe]=se[fe]);var ze=arguments.length-2;if(ze===1)me.children=ge;else if(1<ze){for(var Dt=Array(ze),et=0;et<ze;et++)Dt[et]=arguments[et+2];me.children=Dt}if(x&&x.defaultProps)for(fe in ze=x.defaultProps,ze)me[fe]===void 0&&(me[fe]=ze[fe]);return O(x,xe,void 0,void 0,null,me)},je.createRef=function(){return{current:null}},je.forwardRef=function(x){return{$$typeof:m,render:x}},je.isValidElement=b,je.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:Ie}},je.memo=function(x,se){return{$$typeof:y,type:x,compare:se===void 0?null:se}},je.startTransition=function(x){var se=k.T,ge={};k.T=ge;try{var fe=x(),me=k.S;me!==null&&me(ge,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Be,Te)}catch(xe){Te(xe)}finally{k.T=se}},je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},je.use=function(x){return k.H.use(x)},je.useActionState=function(x,se,ge){return k.H.useActionState(x,se,ge)},je.useCallback=function(x,se){return k.H.useCallback(x,se)},je.useContext=function(x){return k.H.useContext(x)},je.useDebugValue=function(){},je.useDeferredValue=function(x,se){return k.H.useDeferredValue(x,se)},je.useEffect=function(x,se){return k.H.useEffect(x,se)},je.useId=function(){return k.H.useId()},je.useImperativeHandle=function(x,se,ge){return k.H.useImperativeHandle(x,se,ge)},je.useInsertionEffect=function(x,se){return k.H.useInsertionEffect(x,se)},je.useLayoutEffect=function(x,se){return k.H.useLayoutEffect(x,se)},je.useMemo=function(x,se){return k.H.useMemo(x,se)},je.useOptimistic=function(x,se){return k.H.useOptimistic(x,se)},je.useReducer=function(x,se,ge){return k.H.useReducer(x,se,ge)},je.useRef=function(x){return k.H.useRef(x)},je.useState=function(x){return k.H.useState(x)},je.useSyncExternalStore=function(x,se,ge){return k.H.useSyncExternalStore(x,se,ge)},je.useTransition=function(){return k.H.useTransition()},je.version="19.0.0",je}var jv;function Lm(){return jv||(jv=1,jd.exports=nb()),jd.exports}var Q=Lm(),Bd={exports:{}},Pl={},Hd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function rb(){return Bv||(Bv=1,function(i){function e(ue,Ie){var Te=ue.length;ue.push(Ie);e:for(;0<Te;){var Be=Te-1>>>1,x=ue[Be];if(0<o(x,Ie))ue[Be]=Ie,ue[Te]=x,Te=Be;else break e}}function n(ue){return ue.length===0?null:ue[0]}function a(ue){if(ue.length===0)return null;var Ie=ue[0],Te=ue.pop();if(Te!==Ie){ue[0]=Te;e:for(var Be=0,x=ue.length,se=x>>>1;Be<se;){var ge=2*(Be+1)-1,fe=ue[ge],me=ge+1,xe=ue[me];if(0>o(fe,Te))me<x&&0>o(xe,fe)?(ue[Be]=xe,ue[me]=Te,Be=me):(ue[Be]=fe,ue[ge]=Te,Be=ge);else if(me<x&&0>o(xe,Te))ue[Be]=xe,ue[me]=Te,Be=me;else break e}}return Ie}function o(ue,Ie){var Te=ue.sortIndex-Ie.sortIndex;return Te!==0?Te:ue.id-Ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,R=3,N=!1,L=!1,$=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ie(ue){for(var Ie=n(y);Ie!==null;){if(Ie.callback===null)a(y);else if(Ie.startTime<=ue)a(y),Ie.sortIndex=Ie.expirationTime,e(g,Ie);else break;Ie=n(y)}}function _e(ue){if($=!1,ie(ue),!L)if(n(g)!==null)L=!0,St();else{var Ie=n(y);Ie!==null&&qe(_e,Ie.startTime-ue)}}var k=!1,he=-1,O=5,A=-1;function b(){return!(i.unstable_now()-A<O)}function I(){if(k){var ue=i.unstable_now();A=ue;var Ie=!0;try{e:{L=!1,$&&($=!1,X(he),he=-1),N=!0;var Te=R;try{t:{for(ie(ue),S=n(g);S!==null&&!(S.expirationTime>ue&&b());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,R=S.priorityLevel;var x=Be(S.expirationTime<=ue);if(ue=i.unstable_now(),typeof x=="function"){S.callback=x,ie(ue),Ie=!0;break t}S===n(g)&&a(g),ie(ue)}else a(g);S=n(g)}if(S!==null)Ie=!0;else{var se=n(y);se!==null&&qe(_e,se.startTime-ue),Ie=!1}}break e}finally{S=null,R=Te,N=!1}Ie=void 0}}finally{Ie?V():k=!1}}}var V;if(typeof ee=="function")V=function(){ee(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,D=j.port2;j.port1.onmessage=I,V=function(){D.postMessage(null)}}else V=function(){H(I,0)};function St(){k||(k=!0,V())}function qe(ue,Ie){he=H(function(){ue(i.unstable_now())},Ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ue){ue.callback=null},i.unstable_continueExecution=function(){L||N||(L=!0,St())},i.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ue?Math.floor(1e3/ue):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ue){switch(R){case 1:case 2:case 3:var Ie=3;break;default:Ie=R}var Te=R;R=Ie;try{return ue()}finally{R=Te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ue,Ie){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Te=R;R=ue;try{return Ie()}finally{R=Te}},i.unstable_scheduleCallback=function(ue,Ie,Te){var Be=i.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Be+Te:Be):Te=Be,ue){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=Te+x,ue={id:E++,callback:Ie,priorityLevel:ue,startTime:Te,expirationTime:x,sortIndex:-1},Te>Be?(ue.sortIndex=Te,e(y,ue),n(g)===null&&ue===n(y)&&($?(X(he),he=-1):$=!0,qe(_e,Te-Be))):(ue.sortIndex=x,e(g,ue),L||N||(L=!0,St())),ue},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(ue){var Ie=R;return function(){var Te=R;R=Ie;try{return ue.apply(this,arguments)}finally{R=Te}}}}(qd)),qd}var Hv;function ib(){return Hv||(Hv=1,Hd.exports=rb()),Hd.exports}var Fd={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function ab(){if(qv)return Tn;qv=1;var i=Lm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Tn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Tn.flushSync=function(g){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=E,a.d.f()}},Tn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},Tn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Tn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:N}):E==="script"&&a.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Tn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},Tn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);a.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Tn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},Tn.requestFormReset=function(g){a.d.r(g)},Tn.unstable_batchedUpdates=function(g,y){return g(y)},Tn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Tn.version="19.0.0",Tn}var Fv;function B0(){if(Fv)return Fd.exports;Fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fd.exports=ab(),Fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function sb(){if(Gv)return Pl;Gv=1;var i=ib(),e=Lm(),n=B0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),_e=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function he(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return r=t.displayName||null,r!==null?r:A(t.type)||"Memo";case ee:r=t._payload,t=t._init;try{return A(t(r))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,j;function D(t){if(V===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",j=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+j}var St=!1;function qe(t,r){if(!t||St)return"";St=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var G=W}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(W){G=W}t.call(ae.prototype)}}else{try{throw Error()}catch(W){G=W}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&G&&typeof W.stack=="string")return[W.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),U=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?D(s):""}function ue(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=qe(t.type,!1),t;case 11:return t=qe(t.type.render,!1),t;case 1:return t=qe(t.type,!0),t;default:return""}}function Ie(t){try{var r="";do r+=ue(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Te(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Be(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function x(t){if(Te(t)!==t)throw Error(a(188))}function se(t){var r=t.alternate;if(!r){if(r=Te(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return x(h),t;if(d===l)return x(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function ge(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=ge(t),r!==null)return r;t=t.sibling}return null}var fe=Array.isArray,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},ze=[],Dt=-1;function et(t){return{current:t}}function Ge(t){0>Dt||(t.current=ze[Dt],ze[Dt]=null,Dt--)}function $e(t,r){Dt++,ze[Dt]=t.current,t.current=r}var Wt=et(null),mr=et(null),zt=et(null),Ir=et(null);function Dr(t,r){switch($e(zt,r),$e(mr,t),$e(Wt,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?fv(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=fv(t),r=dv(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ge(Wt),$e(Wt,r)}function Kn(){Ge(Wt),Ge(mr),Ge(zt)}function Va(t){t.memoizedState!==null&&$e(Ir,t);var r=Wt.current,s=dv(r,t.type);r!==s&&($e(mr,t),$e(Wt,s))}function Ui(t){mr.current===t&&(Ge(Wt),Ge(mr)),Ir.current===t&&(Ge(Ir),Nl._currentValue=xe)}var zi=Object.prototype.hasOwnProperty,ti=i.unstable_scheduleCallback,Mn=i.unstable_cancelCallback,ni=i.unstable_shouldYield,ji=i.unstable_requestPaint,Zt=i.unstable_now,kn=i.unstable_getCurrentPriorityLevel,mt=i.unstable_ImmediatePriority,Vt=i.unstable_UserBlockingPriority,Un=i.unstable_NormalPriority,Is=i.unstable_LowPriority,xn=i.unstable_IdlePriority,Ds=i.log,Nr=i.unstable_setDisableYieldValue,gr=null,Jt=null;function Bi(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(gr,t,void 0,(t.current.flags&128)===128)}catch{}}function Rn(t){if(typeof Ds=="function"&&Nr(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(gr,t)}catch{}}var en=Math.clz32?Math.clz32:La,ri=Math.log,Ns=Math.LN2;function La(t){return t>>>=0,t===0?32:31-(ri(t)/Ns|0)|0}var Qn=128,pr=4194304;function _n(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function un(t,r){var s=t.pendingLanes;if(s===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=_n(s):(d&=T,d!==0?l=_n(d):t||(_=T&~_,_!==0&&(l=_n(_))))):(T=s&~h,T!==0?l=_n(T):d!==0?l=_n(d):t||(_=s&~_,_!==0&&(l=_n(_)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:l}function Or(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Hi(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M(){var t=Qn;return Qn<<=1,(Qn&4194176)===0&&(Qn=128),t}function z(){var t=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),t}function K(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function te(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ce(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(s=_&~s;0<s;){var J=31-en(s),ae=1<<J;T[J]=0,C[J]=-1;var G=U[J];if(G!==null)for(U[J]=null,J=0;J<G.length;J++){var W=G[J];W!==null&&(W.lane&=-536870913)}s&=~ae}l!==0&&Re(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Re(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-en(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function Ae(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-en(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function we(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Se(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Ov(t.type))}function de(t,r){var s=me.p;try{return me.p=t,r()}finally{me.p=s}}var ye=Math.random().toString(36).slice(2),ve="__reactFiber$"+ye,Ne="__reactProps$"+ye,st="__reactContainer$"+ye,bt="__reactEvents$"+ye,yt="__reactListeners$"+ye,at="__reactHandles$"+ye,wt="__reactResources$"+ye,Cn="__reactMarker$"+ye;function zn(t){delete t[ve],delete t[Ne],delete t[bt],delete t[yt],delete t[at]}function Lt(t){var r=t[ve];if(r)return r;for(var s=t.parentNode;s;){if(r=s[st]||s[ve]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=pv(t);t!==null;){if(s=t[ve])return s;t=pv(t)}return r}t=s,s=t.parentNode}return null}function jt(t){if(t=t[ve]||t[st]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function $n(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function Vn(t){var r=t[wt];return r||(r=t[wt]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(t){t[Cn]=!0}var Mr=new Set,yr={};function He(t,r){ht(t,r),ht(t+"Capture",r)}function ht(t,r){for(yr[t]=r,t=0;t<r.length;t++)Mr.add(r[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ii=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_t={},Yn={};function Pa(t){return zi.call(Yn,t)?!0:zi.call(_t,t)?!1:ii.test(t)?Yn[t]=!0:(_t[t]=!0,!1)}function xr(t,r,s){if(Pa(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function qi(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Xn(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function In(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _u(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qh(t){var r=_u(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ka(t){t._valueTracker||(t._valueTracker=qh(t))}function jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=_u(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ai=/[\n"\\]/g;function Nt(t){return t.replace(ai,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fi(t,r,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+In(r)):t.value!==""+In(r)&&(t.value=""+In(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Ms(t,_,In(r)):s!=null?Ms(t,_,In(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+In(T):t.removeAttribute("name")}function Ua(t,r,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+In(s):"",r=r!=null?""+In(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ms(t,r,s){r==="number"&&Os(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ot(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+In(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function za(t,r,s){if(r!=null&&(r=""+In(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+In(s):""}function Gi(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=In(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Wn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Fh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Fh.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Eu(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Bo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Bo(t,d,r[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vr(t){return Kh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zn=null;function xs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var si=null,oi=null;function li(t){var r=jt(t);if(r&&(t=r.stateNode)){var s=t[Ne]||null;e:switch(t=r.stateNode,r.type){case"input":if(Fi(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Nt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[Ne]||null;if(!h)throw Error(a(90));Fi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&jo(l)}break e;case"textarea":za(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ot(t,!!s.multiple,r,!1)}}}var qo=!1;function Tu(t,r,s){if(qo)return t(r,s);qo=!0;try{var l=t(r);return l}finally{if(qo=!1,(si!==null||oi!==null)&&(fc(),si&&(r=si,t=oi,oi=si=null,li(r),t)))for(r=0;r<t.length;r++)li(t[r])}}function ja(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Ne]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Jn=!1;if(tn)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Jn=!1}var Lr=null,Ki=null,ui=null;function Fo(){if(ui)return ui;var t,r=Ki,s=r.length,l,h="value"in Lr?Lr.value:Lr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return ui=h.slice(t,1<l?1-l:void 0)}function Pr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function kr(){return!0}function Go(){return!1}function nn(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?kr:Go,this.isPropagationStopped=Go,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),r}var ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=nn(ft),Ha=I({},ft,{view:0,detail:0}),wu=nn(Ha),Ls,Ps,Ur,qa=I({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ur&&(Ur&&t.type==="mousemove"?(Ls=t.screenX-Ur.screenX,Ps=t.screenY-Ur.screenY):Ps=Ls=0,Ur=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Ps}}),er=nn(qa),Su=I({},qa,{dataTransfer:0}),Qh=nn(Su),Fa=I({},Ha,{relatedTarget:0}),ks=nn(Fa),Ko=I({},ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Us=nn(Ko),bu=I({},ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zs=nn(bu),$h=I({},ft,{data:0}),Qo=nn($h),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ru[t])?!!r[t]:!1}function Ka(){return $o}var Cu=I({},Ha,{key:function(t){if(t.key){var r=Ga[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),js=nn(Cu),Iu=I({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=nn(Iu),ci=I({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),Du=nn(ci),Nu=I({},ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=nn(Nu),Mu=I({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bs=nn(Mu),Dn=I({},ft,{newState:0,oldState:0}),xu=nn(Dn),Vu=[9,13,27,32],zr=tn&&"CompositionEvent"in window,c=null;tn&&"documentMode"in document&&(c=document.documentMode);var p=tn&&"TextEvent"in window&&!c,v=tn&&(!zr||c&&8<c&&11>=c),w=" ",q=!1;function Y(t,r){switch(t){case"keyup":return Vu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Gt(t,r){switch(t){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(q=!0,w);case"textInput":return t=r.data,t===w&&q?null:t;default:return null}}function nt(t,r){if(tt)return t==="compositionend"||!zr&&Y(t,r)?(t=Fo(),ui=Ki=Lr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!rn[t.type]:r==="textarea"}function hi(t,r,s,l){si?oi?oi.push(l):oi=[l]:si=l,r=yc(r,"onChange"),0<r.length&&(s=new Vs("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var cn=null,jr=null;function Xo(t){ov(t,0)}function Lu(t){var r=$n(t);if(jo(r))return t}function Pg(t,r){if(t==="change")return r}var kg=!1;if(tn){var Yh;if(tn){var Xh="oninput"in document;if(!Xh){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),Xh=typeof Ug.oninput=="function"}Yh=Xh}else Yh=!1;kg=Yh&&(!document.documentMode||9<document.documentMode)}function zg(){cn&&(cn.detachEvent("onpropertychange",jg),jr=cn=null)}function jg(t){if(t.propertyName==="value"&&Lu(jr)){var r=[];hi(r,jr,t,xs(t)),Tu(Xo,r)}}function Nw(t,r,s){t==="focusin"?(zg(),cn=r,jr=s,cn.attachEvent("onpropertychange",jg)):t==="focusout"&&zg()}function Ow(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(jr)}function Mw(t,r){if(t==="click")return Lu(r)}function xw(t,r){if(t==="input"||t==="change")return Lu(r)}function Vw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var jn=typeof Object.is=="function"?Object.is:Vw;function Wo(t,r){if(jn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!zi.call(r,h)||!jn(t[h],r[h]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hg(t,r){var s=Bg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Bg(s)}}function qg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?qg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Os(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Os(t.document)}return r}function Wh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Lw(t,r){var s=Fg(r);r=t.focusedElem;var l=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&qg(r.ownerDocument.documentElement,r)){if(l!==null&&Wh(r)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=Hg(r,d);var _=Hg(r,l);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(t),s.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pw=tn&&"documentMode"in document&&11>=document.documentMode,Hs=null,Zh=null,Zo=null,Jh=!1;function Gg(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jh||Hs==null||Hs!==Os(l)||(l=Hs,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=yc(Zh,"onSelect"),0<l.length&&(r=new Vs("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Hs)))}function Qa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var qs={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},ef={},Kg={};tn&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function $a(t){if(ef[t])return ef[t];if(!qs[t])return t;var r=qs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Kg)return ef[t]=r[s];return t}var Qg=$a("animationend"),$g=$a("animationiteration"),Yg=$a("animationstart"),kw=$a("transitionrun"),Uw=$a("transitionstart"),zw=$a("transitioncancel"),Xg=$a("transitionend"),Wg=new Map,Zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vr(t,r){Wg.set(t,r),He(r,[t])}var tr=[],Fs=0,tf=0;function Pu(){for(var t=Fs,r=tf=Fs=0;r<t;){var s=tr[r];tr[r++]=null;var l=tr[r];tr[r++]=null;var h=tr[r];tr[r++]=null;var d=tr[r];if(tr[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Jg(s,h,d)}}function ku(t,r,s,l){tr[Fs++]=t,tr[Fs++]=r,tr[Fs++]=s,tr[Fs++]=l,tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,r,s,l){return ku(t,r,s,l),Uu(t)}function Qi(t,r){return ku(t,null,null,r),Uu(t)}function Jg(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&r!==null&&t.tag===3&&(d=t.stateNode,h=31-en(s),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[r]:t.push(r),r.lane=s|536870912)}function Uu(t){if(50<Sl)throw Sl=0,ud=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Gs={},ep=new WeakMap;function nr(t,r){if(typeof t=="object"&&t!==null){var s=ep.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Ie(r)},ep.set(t,r),r)}return{value:t,source:r,stack:Ie(r)}}var Ks=[],Qs=0,zu=null,ju=0,rr=[],ir=0,Ya=null,fi=1,di="";function Xa(t,r){Ks[Qs++]=ju,Ks[Qs++]=zu,zu=t,ju=r}function tp(t,r,s){rr[ir++]=fi,rr[ir++]=di,rr[ir++]=Ya,Ya=t;var l=fi;t=di;var h=32-en(l)-1;l&=~(1<<h),s+=1;var d=32-en(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,fi=1<<32-en(r)+h|s<<h|l,di=d+t}else fi=1<<d|s<<h|l,di=t}function rf(t){t.return!==null&&(Xa(t,1),tp(t,1,0))}function af(t){for(;t===zu;)zu=Ks[--Qs],Ks[Qs]=null,ju=Ks[--Qs],Ks[Qs]=null;for(;t===Ya;)Ya=rr[--ir],rr[ir]=null,di=rr[--ir],rr[ir]=null,fi=rr[--ir],rr[ir]=null}var Nn=null,hn=null,lt=!1,_r=null,Br=!1,sf=Error(a(519));function Wa(t){var r=Error(a(418,""));throw tl(nr(r,t)),sf}function np(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[ve]=t,r[Ne]=l,s){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(s=0;s<Al.length;s++)We(Al[s],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":We("invalid",r),Ua(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ka(r);break;case"select":We("invalid",r);break;case"textarea":We("invalid",r),Gi(r,l.value,l.defaultValue,l.children),ka(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||hv(r.textContent,s)?(l.popover!=null&&(We("beforetoggle",r),We("toggle",r)),l.onScroll!=null&&We("scroll",r),l.onScrollEnd!=null&&We("scrollend",r),l.onClick!=null&&(r.onclick=vc),r=!0):r=!1,r||Wa(t)}function rp(t){for(Nn=t.return;Nn;)switch(Nn.tag){case 3:case 27:Br=!0;return;case 5:case 13:Br=!1;return;default:Nn=Nn.return}}function Jo(t){if(t!==Nn)return!1;if(!lt)return rp(t),lt=!0,!1;var r=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Rd(t.type,t.memoizedProps)),s=!s),s&&(r=!0),r&&hn&&Wa(t),rp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){hn=Tr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}hn=null}}else hn=Nn?Tr(t.stateNode.nextSibling):null;return!0}function el(){hn=Nn=null,lt=!1}function tl(t){_r===null?_r=[t]:_r.push(t)}var nl=Error(a(460)),ip=Error(a(474)),of={then:function(){}};function ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bu(){}function sp(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Bu,Bu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===nl?Error(a(483)):t;default:if(typeof r.status=="string")r.then(Bu,Bu);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===nl?Error(a(483)):t}throw rl=r,nl}}var rl=null;function op(){if(rl===null)throw Error(a(459));var t=rl;return rl=null,t}var $s=null,il=0;function Hu(t){var r=il;return il+=1,$s===null&&($s=[]),sp($s,t,r)}function al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function qu(t,r){throw r.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function lp(t){var r=t._init;return r(t._payload)}function up(t){function r(B,P){if(t){var F=B.deletions;F===null?(B.deletions=[P],B.flags|=16):F.push(P)}}function s(B,P){if(!t)return null;for(;P!==null;)r(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function h(B,P){return B=aa(B,P),B.index=0,B.sibling=null,B}function d(B,P,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<P?(B.flags|=33554434,P):F):(B.flags|=33554434,P)):(B.flags|=1048576,P)}function _(B){return t&&B.alternate===null&&(B.flags|=33554434),B}function T(B,P,F,ne){return P===null||P.tag!==6?(P=td(F,B.mode,ne),P.return=B,P):(P=h(P,F),P.return=B,P)}function C(B,P,F,ne){var Ee=F.type;return Ee===g?J(B,P,F.props.children,ne,F.key):P!==null&&(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee&&lp(Ee)===P.type)?(P=h(P,F.props),al(P,F),P.return=B,P):(P=oc(F.type,F.key,F.props,null,B.mode,ne),al(P,F),P.return=B,P)}function U(B,P,F,ne){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=nd(F,B.mode,ne),P.return=B,P):(P=h(P,F.children||[]),P.return=B,P)}function J(B,P,F,ne,Ee){return P===null||P.tag!==7?(P=os(F,B.mode,ne,Ee),P.return=B,P):(P=h(P,F),P.return=B,P)}function ae(B,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=td(""+P,B.mode,F),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return F=oc(P.type,P.key,P.props,null,B.mode,F),al(F,P),F.return=B,F;case m:return P=nd(P,B.mode,F),P.return=B,P;case ee:var ne=P._init;return P=ne(P._payload),ae(B,P,F)}if(fe(P)||he(P))return P=os(P,B.mode,F,null),P.return=B,P;if(typeof P.then=="function")return ae(B,Hu(P),F);if(P.$$typeof===N)return ae(B,ic(B,P),F);qu(B,P)}return null}function G(B,P,F,ne){var Ee=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ee!==null?null:T(B,P,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return F.key===Ee?C(B,P,F,ne):null;case m:return F.key===Ee?U(B,P,F,ne):null;case ee:return Ee=F._init,F=Ee(F._payload),G(B,P,F,ne)}if(fe(F)||he(F))return Ee!==null?null:J(B,P,F,ne,null);if(typeof F.then=="function")return G(B,P,Hu(F),ne);if(F.$$typeof===N)return G(B,P,ic(B,F),ne);qu(B,F)}return null}function W(B,P,F,ne,Ee){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(F)||null,T(P,B,""+ne,Ee);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case f:return B=B.get(ne.key===null?F:ne.key)||null,C(P,B,ne,Ee);case m:return B=B.get(ne.key===null?F:ne.key)||null,U(P,B,ne,Ee);case ee:var Ke=ne._init;return ne=Ke(ne._payload),W(B,P,F,ne,Ee)}if(fe(ne)||he(ne))return B=B.get(F)||null,J(P,B,ne,Ee,null);if(typeof ne.then=="function")return W(B,P,F,Hu(ne),Ee);if(ne.$$typeof===N)return W(B,P,F,ic(P,ne),Ee);qu(P,ne)}return null}function be(B,P,F,ne){for(var Ee=null,Ke=null,Ce=P,Me=P=0,on=null;Ce!==null&&Me<F.length;Me++){Ce.index>Me?(on=Ce,Ce=null):on=Ce.sibling;var ut=G(B,Ce,F[Me],ne);if(ut===null){Ce===null&&(Ce=on);break}t&&Ce&&ut.alternate===null&&r(B,Ce),P=d(ut,P,Me),Ke===null?Ee=ut:Ke.sibling=ut,Ke=ut,Ce=on}if(Me===F.length)return s(B,Ce),lt&&Xa(B,Me),Ee;if(Ce===null){for(;Me<F.length;Me++)Ce=ae(B,F[Me],ne),Ce!==null&&(P=d(Ce,P,Me),Ke===null?Ee=Ce:Ke.sibling=Ce,Ke=Ce);return lt&&Xa(B,Me),Ee}for(Ce=l(Ce);Me<F.length;Me++)on=W(Ce,B,Me,F[Me],ne),on!==null&&(t&&on.alternate!==null&&Ce.delete(on.key===null?Me:on.key),P=d(on,P,Me),Ke===null?Ee=on:Ke.sibling=on,Ke=on);return t&&Ce.forEach(function(fa){return r(B,fa)}),lt&&Xa(B,Me),Ee}function ke(B,P,F,ne){if(F==null)throw Error(a(151));for(var Ee=null,Ke=null,Ce=P,Me=P=0,on=null,ut=F.next();Ce!==null&&!ut.done;Me++,ut=F.next()){Ce.index>Me?(on=Ce,Ce=null):on=Ce.sibling;var fa=G(B,Ce,ut.value,ne);if(fa===null){Ce===null&&(Ce=on);break}t&&Ce&&fa.alternate===null&&r(B,Ce),P=d(fa,P,Me),Ke===null?Ee=fa:Ke.sibling=fa,Ke=fa,Ce=on}if(ut.done)return s(B,Ce),lt&&Xa(B,Me),Ee;if(Ce===null){for(;!ut.done;Me++,ut=F.next())ut=ae(B,ut.value,ne),ut!==null&&(P=d(ut,P,Me),Ke===null?Ee=ut:Ke.sibling=ut,Ke=ut);return lt&&Xa(B,Me),Ee}for(Ce=l(Ce);!ut.done;Me++,ut=F.next())ut=W(Ce,B,Me,ut.value,ne),ut!==null&&(t&&ut.alternate!==null&&Ce.delete(ut.key===null?Me:ut.key),P=d(ut,P,Me),Ke===null?Ee=ut:Ke.sibling=ut,Ke=ut);return t&&Ce.forEach(function(JS){return r(B,JS)}),lt&&Xa(B,Me),Ee}function xt(B,P,F,ne){if(typeof F=="object"&&F!==null&&F.type===g&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case f:e:{for(var Ee=F.key;P!==null;){if(P.key===Ee){if(Ee=F.type,Ee===g){if(P.tag===7){s(B,P.sibling),ne=h(P,F.props.children),ne.return=B,B=ne;break e}}else if(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee&&lp(Ee)===P.type){s(B,P.sibling),ne=h(P,F.props),al(ne,F),ne.return=B,B=ne;break e}s(B,P);break}else r(B,P);P=P.sibling}F.type===g?(ne=os(F.props.children,B.mode,ne,F.key),ne.return=B,B=ne):(ne=oc(F.type,F.key,F.props,null,B.mode,ne),al(ne,F),ne.return=B,B=ne)}return _(B);case m:e:{for(Ee=F.key;P!==null;){if(P.key===Ee)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){s(B,P.sibling),ne=h(P,F.children||[]),ne.return=B,B=ne;break e}else{s(B,P);break}else r(B,P);P=P.sibling}ne=nd(F,B.mode,ne),ne.return=B,B=ne}return _(B);case ee:return Ee=F._init,F=Ee(F._payload),xt(B,P,F,ne)}if(fe(F))return be(B,P,F,ne);if(he(F)){if(Ee=he(F),typeof Ee!="function")throw Error(a(150));return F=Ee.call(F),ke(B,P,F,ne)}if(typeof F.then=="function")return xt(B,P,Hu(F),ne);if(F.$$typeof===N)return xt(B,P,ic(B,F),ne);qu(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(s(B,P.sibling),ne=h(P,F),ne.return=B,B=ne):(s(B,P),ne=td(F,B.mode,ne),ne.return=B,B=ne),_(B)):s(B,P)}return function(B,P,F,ne){try{il=0;var Ee=xt(B,P,F,ne);return $s=null,Ee}catch(Ce){if(Ce===nl)throw Ce;var Ke=lr(29,Ce,null,B.mode);return Ke.lanes=ne,Ke.return=B,Ke}finally{}}}var Za=up(!0),cp=up(!1),Ys=et(null),Fu=et(0);function hp(t,r){t=bi,$e(Fu,t),$e(Ys,r),bi=t|r.baseLanes}function lf(){$e(Fu,bi),$e(Ys,Ys.current)}function uf(){bi=Fu.current,Ge(Ys),Ge(Fu)}var ar=et(null),Hr=null;function $i(t){var r=t.alternate;$e(Qt,Qt.current&1),$e(ar,t),Hr===null&&(r===null||Ys.current!==null||r.memoizedState!==null)&&(Hr=t)}function fp(t){if(t.tag===22){if($e(Qt,Qt.current),$e(ar,t),Hr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Hr=t)}}else Yi()}function Yi(){$e(Qt,Qt.current),$e(ar,ar.current)}function mi(t){Ge(ar),Hr===t&&(Hr=null),Ge(Qt)}var Qt=et(0);function Gu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var jw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},Bw=i.unstable_scheduleCallback,Hw=i.unstable_NormalPriority,$t={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new jw,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Bw(Hw,function(){t.controller.abort()})}var ol=null,hf=0,Xs=0,Ws=null;function qw(t,r){if(ol===null){var s=ol=[];hf=0,Xs=yd(),Ws={status:"pending",value:void 0,then:function(l){s.push(l)}}}return hf++,r.then(dp,dp),r}function dp(){if(--hf===0&&ol!==null){Ws!==null&&(Ws.status="fulfilled");var t=ol;ol=null,Xs=0,Ws=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Fw(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var mp=b.S;b.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&qw(t,r),mp!==null&&mp(t,r)};var Ja=et(null);function ff(){var t=Ja.current;return t!==null?t:Et.pooledCache}function Ku(t,r){r===null?$e(Ja,Ja.current):$e(Ja,r.pool)}function gp(){var t=ff();return t===null?null:{parent:$t._currentValue,pool:t}}var Xi=0,Fe=null,gt=null,Bt=null,Qu=!1,Zs=!1,es=!1,$u=0,ll=0,Js=null,Gw=0;function Pt(){throw Error(a(321))}function df(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!jn(t[s],r[s]))return!1;return!0}function mf(t,r,s,l,h,d){return Xi=d,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=t===null||t.memoizedState===null?ts:Wi,es=!1,d=s(l,h),es=!1,Zs&&(d=yp(r,s,l,h)),pp(t),d}function pp(t){b.H=qr;var r=gt!==null&&gt.next!==null;if(Xi=0,Bt=gt=Fe=null,Qu=!1,ll=0,Js=null,r)throw Error(a(300));t===null||an||(t=t.dependencies,t!==null&&rc(t)&&(an=!0))}function yp(t,r,s,l){Fe=t;var h=0;do{if(Zs&&(Js=null),ll=0,Zs=!1,25<=h)throw Error(a(301));if(h+=1,Bt=gt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=ns,d=r(s,l)}while(Zs);return d}function Kw(){var t=b.H,r=t.useState()[0];return r=typeof r.then=="function"?ul(r):r,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Fe.flags|=1024),r}function gf(){var t=$u!==0;return $u=0,t}function pf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function yf(t){if(Qu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Qu=!1}Xi=0,Bt=gt=Fe=null,Zs=!1,ll=$u=0,Js=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Fe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Ht(){if(gt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var r=Bt===null?Fe.memoizedState:Bt.next;if(r!==null)Bt=r,gt=t;else{if(t===null)throw Fe.alternate===null?Error(a(467)):Error(a(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Bt===null?Fe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}var Yu;Yu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ul(t){var r=ll;return ll+=1,Js===null&&(Js=[]),t=sp(Js,t,r),r=Fe,(Bt===null?r.memoizedState:Bt.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?ts:Wi),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===N)return En(t)}throw Error(a(438,String(t)))}function vf(t){var r=null,s=Fe.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Yu(),Fe.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=_e;return r.index++,s}function gi(t,r){return typeof r=="function"?r(t):r}function Wu(t){var r=Ht();return _f(r,gt,t)}function _f(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,C=null,U=r,J=!1;do{var ae=U.lane&-536870913;if(ae!==U.lane?(rt&ae)===ae:(Xi&ae)===ae){var G=U.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ae===Xs&&(J=!0);else if((Xi&G)===G){U=U.next,G===Xs&&(J=!0);continue}else ae={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=ae,_=d):C=C.next=ae,Fe.lanes|=G,sa|=G;ae=U.action,es&&s(d,ae),d=U.hasEagerState?U.eagerState:s(d,ae)}else G={lane:ae,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=G,_=d):C=C.next=G,Fe.lanes|=ae,sa|=ae;U=U.next}while(U!==null&&U!==r);if(C===null?_=d:C.next=T,!jn(d,t.memoizedState)&&(an=!0,J&&(s=Ws,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var r=Ht(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);jn(d,r.memoizedState)||(an=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function vp(t,r,s){var l=Fe,h=Ht(),d=lt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!jn((gt||h).memoizedState,s);if(_&&(h.memoizedState=s,an=!0),h=h.queue,Sf(Tp.bind(null,l,h,t),[t]),h.getSnapshot!==r||_||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,eo(9,Ep.bind(null,l,h,s,r),{destroy:void 0},null),Et===null)throw Error(a(349));d||(Xi&60)!==0||_p(l,r,s)}return s}function _p(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Fe.updateQueue,r===null?(r=Yu(),Fe.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Ep(t,r,s,l){r.value=s,r.getSnapshot=l,wp(r)&&Sp(t)}function Tp(t,r,s){return s(function(){wp(r)&&Sp(t)})}function wp(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!jn(t,s)}catch{return!0}}function Sp(t){var r=Qi(t,2);r!==null&&On(r,t,2)}function Tf(t){var r=Ln();if(typeof t=="function"){var s=t;if(t=s(),es){Rn(!0);try{s()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},r}function bp(t,r,s,l){return t.baseState=s,_f(t,gt,typeof l=="function"?l:gi)}function Qw(t,r,s,l,h){if(ec(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};b.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Ap(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Ap(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=b.T,_={};b.T=_;try{var T=s(h,l),C=b.S;C!==null&&C(_,T),Rp(t,r,T)}catch(U){wf(t,r,U)}finally{b.T=d}}else try{d=s(h,l),Rp(t,r,d)}catch(U){wf(t,r,U)}}function Rp(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Cp(t,r,l)},function(l){return wf(t,r,l)}):Cp(t,r,s)}function Cp(t,r,s){r.status="fulfilled",r.value=s,Ip(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Ap(t,s)))}function wf(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Ip(r),r=r.next;while(r!==l)}t.action=null}function Ip(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Dp(t,r){return r}function Np(t,r){if(lt){var s=Et.formState;if(s!==null){e:{var l=Fe;if(lt){if(hn){t:{for(var h=hn,d=Br;h.nodeType!==8;){if(!d){h=null;break t}if(h=Tr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){hn=Tr(h.nextSibling),l=h.data==="F!";break e}}Wa(l)}l=!1}l&&(r=s[0])}}return s=Ln(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:r},s.queue=l,s=$p.bind(null,Fe,l),l.dispatch=s,l=Tf(!1),d=If.bind(null,Fe,!1,l.queue),l=Ln(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=Qw.bind(null,Fe,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function Op(t){var r=Ht();return Mp(r,gt,t)}function Mp(t,r,s){r=_f(t,r,Dp)[0],t=Wu(gi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?ul(r):r;var l=Ht(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Fe.flags|=2048,eo(9,$w.bind(null,h,s),{destroy:void 0},null)),[r,d,t]}function $w(t,r){t.action=r}function xp(t){var r=Ht(),s=gt;if(s!==null)return Mp(r,s,t);Ht(),r=r.memoizedState,s=Ht();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function eo(t,r,s,l){return t={tag:t,create:r,inst:s,deps:l,next:null},r=Fe.updateQueue,r===null&&(r=Yu(),Fe.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function Vp(){return Ht().memoizedState}function Zu(t,r,s,l){var h=Ln();Fe.flags|=t,h.memoizedState=eo(1|r,s,{destroy:void 0},l===void 0?null:l)}function Ju(t,r,s,l){var h=Ht();l=l===void 0?null:l;var d=h.memoizedState.inst;gt!==null&&l!==null&&df(l,gt.memoizedState.deps)?h.memoizedState=eo(r,s,d,l):(Fe.flags|=t,h.memoizedState=eo(1|r,s,d,l))}function Lp(t,r){Zu(8390656,8,t,r)}function Sf(t,r){Ju(2048,8,t,r)}function Pp(t,r){return Ju(4,2,t,r)}function kp(t,r){return Ju(4,4,t,r)}function Up(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function zp(t,r,s){s=s!=null?s.concat([t]):null,Ju(4,4,Up.bind(null,r,t),s)}function bf(){}function jp(t,r){var s=Ht();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&df(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Bp(t,r){var s=Ht();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&df(r,l[1]))return l[0];if(l=t(),es){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[l,r],l}function Af(t,r,s){return s===void 0||(Xi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=qy(),Fe.lanes|=t,sa|=t,s)}function Hp(t,r,s,l){return jn(s,r)?s:Ys.current!==null?(t=Af(t,s,l),jn(t,r)||(an=!0),t):(Xi&42)===0?(an=!0,t.memoizedState=s):(t=qy(),Fe.lanes|=t,sa|=t,r)}function qp(t,r,s,l,h){var d=me.p;me.p=d!==0&&8>d?d:8;var _=b.T,T={};b.T=T,If(t,!1,r,s);try{var C=h(),U=b.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=Fw(C,l);cl(t,r,J,Fn(t))}else cl(t,r,l,Fn(t))}catch(ae){cl(t,r,{then:function(){},status:"rejected",reason:ae},Fn())}finally{me.p=d,b.T=_}}function Yw(){}function Rf(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Fp(t).queue;qp(t,h,r,xe,s===null?Yw:function(){return Gp(t),s(l)})}function Fp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:xe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Gp(t){var r=Fp(t).next.queue;cl(t,r,{},Fn())}function Cf(){return En(Nl)}function Kp(){return Ht().memoizedState}function Qp(){return Ht().memoizedState}function Xw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Fn();t=ea(s);var l=ta(r,t,s);l!==null&&(On(l,r,s),dl(l,r,s)),r={cache:cf()},t.payload=r;return}r=r.return}}function Ww(t,r,s){var l=Fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ec(t)?Yp(r,s):(s=nf(t,r,s,l),s!==null&&(On(s,t,l),Xp(s,r,l)))}function $p(t,r,s){var l=Fn();cl(t,r,s,l)}function cl(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Yp(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,jn(T,_))return ku(t,r,h,0),Et===null&&Pu(),!1}catch{}finally{}if(s=nf(t,r,h,l),s!==null)return On(s,t,l),Xp(s,r,l),!0}return!1}function If(t,r,s,l){if(l={lane:2,revertLane:yd(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(r)throw Error(a(479))}else r=nf(t,s,l,2),r!==null&&On(r,t,2)}function ec(t){var r=t.alternate;return t===Fe||r!==null&&r===Fe}function Yp(t,r){Zs=Qu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Xp(t,r,s){if((s&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Ae(t,s)}}var qr={readContext:En,use:Xu,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt};qr.useCacheRefresh=Pt,qr.useMemoCache=Pt,qr.useHostTransitionStatus=Pt,qr.useFormState=Pt,qr.useActionState=Pt,qr.useOptimistic=Pt;var ts={readContext:En,use:Xu,useCallback:function(t,r){return Ln().memoizedState=[t,r===void 0?null:r],t},useContext:En,useEffect:Lp,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Zu(4194308,4,Up.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Zu(4194308,4,t,r)},useInsertionEffect:function(t,r){Zu(4,2,t,r)},useMemo:function(t,r){var s=Ln();r=r===void 0?null:r;var l=t();if(es){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=Ln();if(s!==void 0){var h=s(r);if(es){Rn(!0);try{s(r)}finally{Rn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Ww.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var r=Ln();return t={current:t},r.memoizedState=t},useState:function(t){t=Tf(t);var r=t.queue,s=$p.bind(null,Fe,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(t,r){var s=Ln();return Af(s,t,r)},useTransition:function(){var t=Tf(!1);return t=qp.bind(null,Fe,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Fe,h=Ln();if(lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),Et===null)throw Error(a(349));(rt&60)!==0||_p(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,Lp(Tp.bind(null,l,d,t),[t]),l.flags|=2048,eo(9,Ep.bind(null,l,d,s,r),{destroy:void 0},null),s},useId:function(){var t=Ln(),r=Et.identifierPrefix;if(lt){var s=di,l=fi;s=(l&~(1<<32-en(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=$u++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=Gw++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return Ln().memoizedState=Xw.bind(null,Fe)}};ts.useMemoCache=vf,ts.useHostTransitionStatus=Cf,ts.useFormState=Np,ts.useActionState=Np,ts.useOptimistic=function(t){var r=Ln();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=If.bind(null,Fe,!0,s),s.dispatch=r,[t,r]};var Wi={readContext:En,use:Xu,useCallback:jp,useContext:En,useEffect:Sf,useImperativeHandle:zp,useInsertionEffect:Pp,useLayoutEffect:kp,useMemo:Bp,useReducer:Wu,useRef:Vp,useState:function(){return Wu(gi)},useDebugValue:bf,useDeferredValue:function(t,r){var s=Ht();return Hp(s,gt.memoizedState,t,r)},useTransition:function(){var t=Wu(gi)[0],r=Ht().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:vp,useId:Kp};Wi.useCacheRefresh=Qp,Wi.useMemoCache=vf,Wi.useHostTransitionStatus=Cf,Wi.useFormState=Op,Wi.useActionState=Op,Wi.useOptimistic=function(t,r){var s=Ht();return bp(s,gt,t,r)};var ns={readContext:En,use:Xu,useCallback:jp,useContext:En,useEffect:Sf,useImperativeHandle:zp,useInsertionEffect:Pp,useLayoutEffect:kp,useMemo:Bp,useReducer:Ef,useRef:Vp,useState:function(){return Ef(gi)},useDebugValue:bf,useDeferredValue:function(t,r){var s=Ht();return gt===null?Af(s,t,r):Hp(s,gt.memoizedState,t,r)},useTransition:function(){var t=Ef(gi)[0],r=Ht().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:vp,useId:Kp};ns.useCacheRefresh=Qp,ns.useMemoCache=vf,ns.useHostTransitionStatus=Cf,ns.useFormState=xp,ns.useActionState=xp,ns.useOptimistic=function(t,r){var s=Ht();return gt!==null?bp(s,gt,t,r):(s.baseState=t,[t,s.queue.dispatch])};function Df(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:I({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Nf={isMounted:function(t){return(t=t._reactInternals)?Te(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Fn(),h=ea(l);h.payload=r,s!=null&&(h.callback=s),r=ta(t,h,l),r!==null&&(On(r,t,l),dl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Fn(),h=ea(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=ta(t,h,l),r!==null&&(On(r,t,l),dl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Fn(),l=ea(s);l.tag=2,r!=null&&(l.callback=r),r=ta(t,l,s),r!==null&&(On(r,t,s),dl(r,t,s))}};function Wp(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Wo(s,l)||!Wo(h,d):!0}function Zp(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Nf.enqueueReplaceState(r,r.state,null)}function rs(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=I({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jp(t){tc(t)}function ey(t){console.error(t)}function ty(t){tc(t)}function nc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ny(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,r,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){nc(t,r)},s}function ry(t){return t=ea(t),t.tag=3,t}function iy(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ny(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ny(r,s,l),typeof h!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Zw(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&fl(r,s,h,!0),s=ar.current,s!==null){switch(s.tag){case 13:return Hr===null?fd():s.alternate===null&&Mt===0&&(Mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===of?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),md(t,l,h)),!1;case 22:return s.flags|=65536,l===of?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),md(t,l,h)),!1}throw Error(a(435,s.tag))}return md(t,l,h),fd(),!1}if(lt)return r=ar.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==sf&&(t=Error(a(422),{cause:l}),tl(nr(t,s)))):(l!==sf&&(r=Error(a(423),{cause:l}),tl(nr(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=nr(l,s),h=Of(t.stateNode,l,h),Kf(t,h),Mt!==4&&(Mt=2)),!1;var d=Error(a(520),{cause:l});if(d=nr(d,s),Tl===null?Tl=[d]:Tl.push(d),Mt!==4&&(Mt=2),r===null)return!0;l=nr(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Of(s.stateNode,l,t),Kf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(oa===null||!oa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ry(h),iy(h,t,s,l),Kf(s,h),!1}s=s.return}while(s!==null);return!1}var ay=Error(a(461)),an=!1;function fn(t,r,s,l){r.child=t===null?cp(r,null,s,l):Za(r,t.child,s,l)}function sy(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return as(r),l=mf(t,r,s,_,d,h),T=gf(),t!==null&&!an?(pf(t,r,h),pi(t,r,h)):(lt&&T&&rf(r),r.flags|=1,fn(t,r,l,h),r.child)}function oy(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!ed(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,ly(t,r,d,l,h)):(t=oc(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!jf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Wo,s(_,l)&&t.ref===r.ref)return pi(t,r,h)}return r.flags|=1,t=aa(d,l),t.ref=r.ref,t.return=r,r.child=t}function ly(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===r.ref)if(an=!1,r.pendingProps=l=d,jf(t,h))(t.flags&131072)!==0&&(an=!0);else return r.lanes=t.lanes,pi(t,r,h)}return Mf(t,r,s,l,h)}function uy(t,r,s){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(hl(t,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=_!==null?_.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return cy(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(r,_!==null?_.cachePool:null),_!==null?hp(r,_):lf(),fp(r);else return r.lanes=r.childLanes=536870912,cy(t,r,_!==null?_.baseLanes|s:s,s)}else _!==null?(Ku(r,_.cachePool),hp(r,_),Yi(),r.memoizedState=null):(t!==null&&Ku(r,null),lf(),Yi());return fn(t,r,h,s),r.child}function cy(t,r,s,l){var h=ff();return h=h===null?null:{parent:$t._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Ku(r,null),lf(),fp(r),t!==null&&fl(t,r,l,!0),null}function hl(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=2097664)}}function Mf(t,r,s,l,h){return as(r),s=mf(t,r,s,l,void 0,h),l=gf(),t!==null&&!an?(pf(t,r,h),pi(t,r,h)):(lt&&l&&rf(r),r.flags|=1,fn(t,r,s,h),r.child)}function hy(t,r,s,l,h,d){return as(r),r.updateQueue=null,s=yp(r,l,s,h),pp(t),l=gf(),t!==null&&!an?(pf(t,r,d),pi(t,r,d)):(lt&&l&&rf(r),r.flags|=1,fn(t,r,s,d),r.child)}function fy(t,r,s,l,h){if(as(r),r.stateNode===null){var d=Gs,_=s.contextType;typeof _=="object"&&_!==null&&(d=En(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Nf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Ff(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?En(_):Gs,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Df(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Nf.enqueueReplaceState(d,d.state,null),gl(r,l,d,h),ml(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=rs(s,T);d.props=C;var U=d.context,J=s.contextType;_=Gs,typeof J=="object"&&J!==null&&(_=En(J));var ae=s.getDerivedStateFromProps;J=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==_)&&Zp(r,d,l,_),Ji=!1;var G=r.memoizedState;d.state=G,gl(r,l,d,h),ml(),U=r.memoizedState,T||G!==U||Ji?(typeof ae=="function"&&(Df(r,s,ae,l),U=r.memoizedState),(C=Ji||Wp(r,s,C,l,G,U,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),d.props=l,d.state=U,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Gf(t,r),_=r.memoizedProps,J=rs(s,_),d.props=J,ae=r.pendingProps,G=d.context,U=s.contextType,C=Gs,typeof U=="object"&&U!==null&&(C=En(U)),T=s.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ae||G!==C)&&Zp(r,d,l,C),Ji=!1,G=r.memoizedState,d.state=G,gl(r,l,d,h),ml();var W=r.memoizedState;_!==ae||G!==W||Ji||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof T=="function"&&(Df(r,s,T,l),W=r.memoizedState),(J=Ji||Wp(r,s,J,l,G,W,C)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=W),d.props=l,d.state=W,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,hl(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Za(r,t.child,null,h),r.child=Za(r,null,s,h)):fn(t,r,s,h),r.memoizedState=d.state,t=r.child):t=pi(t,r,h),t}function dy(t,r,s,l){return el(),r.flags|=256,fn(t,r,s,l),r.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Vf(t){return{baseLanes:t,cachePool:gp()}}function Lf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=ur),t}function my(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(lt){if(h?$i(r):Yi(),lt){var T=hn,C;if(C=T){e:{for(C=T,T=Br;C.nodeType!==8;){if(!T){T=null;break e}if(C=Tr(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ya!==null?{id:fi,overflow:di}:null,retryLane:536870912},C=lr(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,Nn=r,hn=null,C=!0):C=!1}C||Wa(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;mi(r)}return T=l.children,l=l.fallback,h?(Yi(),h=r.mode,T=kf({mode:"hidden",children:T},h),l=os(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Vf(s),h.childLanes=Lf(t,_,s),r.memoizedState=xf,l):($i(r),Pf(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?($i(r),r.flags&=-257,r=Uf(t,r,s)):r.memoizedState!==null?(Yi(),r.child=t.child,r.flags|=128,r=null):(Yi(),h=l.fallback,T=r.mode,l=kf({mode:"visible",children:l.children},T),h=os(h,T,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Za(r,t.child,null,s),l=r.child,l.memoizedState=Vf(s),l.childLanes=Lf(t,_,s),r.memoizedState=xf,r=h);else if($i(r),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(a(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),r=Uf(t,r,s)}else if(an||fl(t,r,s,!1),_=(s&t.childLanes)!==0,an||_){if(_=Et,_!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Qi(t,l),On(_,t,l),ay}T.data==="$?"||fd(),r=Uf(t,r,s)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=dS.bind(null,t),T._reactRetry=r,r=null):(t=C.treeContext,hn=Tr(T.nextSibling),Nn=r,lt=!0,_r=null,Br=!1,t!==null&&(rr[ir++]=fi,rr[ir++]=di,rr[ir++]=Ya,fi=t.id,di=t.overflow,Ya=r),r=Pf(r,l.children),r.flags|=4096);return r}return h?(Yi(),h=l.fallback,T=r.mode,C=t.child,U=C.sibling,l=aa(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,U!==null?h=aa(U,h):(h=os(h,T,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Vf(s):(C=T.cachePool,C!==null?(U=$t._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=gp(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=Lf(t,_,s),r.memoizedState=xf,l):($i(r),s=t.child,t=s.sibling,s=aa(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Pf(t,r){return r=kf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function kf(t,r){return jy(t,r,0,null)}function Uf(t,r,s){return Za(r,t.child,null,s),t=Pf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function gy(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Hf(t.return,r,s)}function zf(t,r,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function py(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(fn(t,r,l.children,s),l=Qt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,s,r);else if(t.tag===19)gy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($e(Qt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&Gu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),zf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(r,!0,s,null,d);break;case"together":zf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function pi(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),sa|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(fl(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=aa(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=aa(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function jf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function Jw(t,r,s){switch(r.tag){case 3:Dr(r,r.stateNode.containerInfo),Zi(r,$t,t.memoizedState.cache),el();break;case 27:case 5:Va(r);break;case 4:Dr(r,r.stateNode.containerInfo);break;case 10:Zi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?($i(r),r.flags|=128,null):(s&r.child.childLanes)!==0?my(t,r,s):($i(r),t=pi(t,r,s),t!==null?t.sibling:null);$i(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(fl(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return py(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Qt,Qt.current),l)break;return null;case 22:case 23:return r.lanes=0,uy(t,r,s);case 24:Zi(r,$t,t.memoizedState.cache)}return pi(t,r,s)}function yy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)an=!0;else{if(!jf(t,s)&&(r.flags&128)===0)return an=!1,Jw(t,r,s);an=(t.flags&131072)!==0}else an=!1,lt&&(r.flags&1048576)!==0&&tp(r,ju,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")ed(l)?(t=rs(l,t),r.tag=1,r=fy(null,r,l,t,s)):(r.tag=0,r=Mf(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===L){r.tag=11,r=sy(null,r,l,t,s);break e}else if(h===X){r.tag=14,r=oy(null,r,l,t,s);break e}}throw r=A(l)||l,Error(a(306,r,""))}}return r;case 0:return Mf(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=rs(l,r.pendingProps),fy(t,r,l,h,s);case 3:e:{if(Dr(r,r.stateNode.containerInfo),t===null)throw Error(a(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,Gf(t,r),gl(r,d,null,s);var _=r.memoizedState;if(d=_.cache,Zi(r,$t,d),d!==h.cache&&qf(r,[$t],s,!0),ml(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=dy(t,r,d,s);break e}else if(d!==l){l=nr(Error(a(424)),r),tl(l),r=dy(t,r,d,s);break e}else for(hn=Tr(r.stateNode.containerInfo.firstChild),Nn=r,lt=!0,_r=null,Br=!0,s=cp(r,null,d,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(el(),d===l){r=pi(t,r,s);break e}fn(t,r,d,s)}r=r.child}return r;case 26:return hl(t,r),t===null?(s=Ev(r.type,null,r.pendingProps,null))?r.memoizedState=s:lt||(s=r.type,t=r.pendingProps,l=_c(zt.current).createElement(s),l[ve]=r,l[Ne]=t,dn(l,s,t),ct(l),r.stateNode=l):r.memoizedState=Ev(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Va(r),t===null&&lt&&(l=r.stateNode=yv(r.type,r.pendingProps,zt.current),Nn=r,Br=!0,hn=Tr(l.firstChild)),l=r.pendingProps.children,t!==null||lt?fn(t,r,l,s):r.child=Za(r,null,l,s),hl(t,r),r.child;case 5:return t===null&&lt&&((h=l=hn)&&(l=DS(l,r.type,r.pendingProps,Br),l!==null?(r.stateNode=l,Nn=r,hn=Tr(l.firstChild),Br=!1,h=!0):h=!1),h||Wa(r)),Va(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Rd(h,d)?l=null:_!==null&&Rd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=mf(t,r,Kw,null,null,s),Nl._currentValue=h),hl(t,r),fn(t,r,l,s),r.child;case 6:return t===null&&lt&&((t=s=hn)&&(s=NS(s,r.pendingProps,Br),s!==null?(r.stateNode=s,Nn=r,hn=null,t=!0):t=!1),t||Wa(r)),null;case 13:return my(t,r,s);case 4:return Dr(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Za(r,null,l,s):fn(t,r,l,s),r.child;case 11:return sy(t,r,r.type,r.pendingProps,s);case 7:return fn(t,r,r.pendingProps,s),r.child;case 8:return fn(t,r,r.pendingProps.children,s),r.child;case 12:return fn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Zi(r,r.type,l.value),fn(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,as(r),h=En(h),l=l(h),r.flags|=1,fn(t,r,l,s),r.child;case 14:return oy(t,r,r.type,r.pendingProps,s);case 15:return ly(t,r,r.type,r.pendingProps,s);case 19:return py(t,r,s);case 22:return uy(t,r,s);case 24:return as(r),l=En($t),t===null?(h=ff(),h===null&&(h=Et,d=cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Ff(r),Zi(r,$t,h)):((t.lanes&s)!==0&&(Gf(t,r),gl(r,null,null,s),ml()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Zi(r,$t,l)):(l=d.cache,Zi(r,$t,l),l!==h.cache&&qf(r,[$t],s,!0))),fn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}var Bf=et(null),is=null,yi=null;function Zi(t,r,s){$e(Bf,r._currentValue),r._currentValue=s}function vi(t){t._currentValue=Bf.current,Ge(Bf)}function Hf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function qf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Hf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Hf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function fl(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;jn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ir.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&qf(r,t,s,l),r.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){is=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function En(t){return vy(is,t)}function ic(t,r){return is===null&&as(t),vy(t,r)}function vy(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},yi===null){if(t===null)throw Error(a(308));yi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else yi=yi.next=r;return s}var Ji=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ct&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Uu(t),Jg(t,null,s),r}return ku(t,l,r,s),Uu(t)}function dl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Ae(t,s)}}function Kf(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Qf=!1;function ml(){if(Qf){var t=Ws;if(t!==null)throw t}}function gl(t,r,s,l){Qf=!1;var h=t.updateQueue;Ji=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,_===null?d=U:_.next=U,_=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=U:T.next=U,J.lastBaseUpdate=C))}if(d!==null){var ae=h.baseState;_=0,J=U=C=null,T=d;do{var G=T.lane&-536870913,W=G!==T.lane;if(W?(rt&G)===G:(l&G)===G){G!==0&&G===Xs&&(Qf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,ke=T;G=r;var xt=s;switch(ke.tag){case 1:if(be=ke.payload,typeof be=="function"){ae=be.call(xt,ae,G);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ke.payload,G=typeof be=="function"?be.call(xt,ae,G):be,G==null)break e;ae=I({},ae,G);break e;case 2:Ji=!0}}G=T.callback,G!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[G]:W.push(G))}else W={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(U=J=W,C=ae):J=J.next=W,_|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;W=T,T=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);J===null&&(C=ae),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),sa|=_,t.lanes=_,t.memoizedState=ae}}function _y(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Ey(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)_y(s[t],r)}function pl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){vt(r,r.return,T)}}function na(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var C=s;try{T()}catch(U){vt(h,C,U)}}}l=l.next}while(l!==d)}}catch(U){vt(r,r.return,U)}}function Ty(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Ey(r,s)}catch(l){vt(t,t.return,l)}}}function wy(t,r,s){s.props=rs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){vt(t,r,l)}}function ss(t,r){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?t.refCleanup=s(h):s.current=h}}catch(d){vt(t,r,d)}}function Bn(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){vt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){vt(t,r,h)}else s.current=null}function Sy(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){vt(t,t.return,h)}}function by(t,r,s){try{var l=t.stateNode;bS(l,t.type,s,r),l[Ne]=r}catch(h){vt(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=vc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Yf(t,r,s),t=t.sibling;t!==null;)Yf(t,r,s),t=t.sibling}function ac(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ac(t,r,s),t=t.sibling;t!==null;)ac(t,r,s),t=t.sibling}var _i=!1,Ot=!1,Xf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,sn=null,Cy=!1;function eS(t,r){if(t=t.containerInfo,bd=Ac,t=Fg(t),Wh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,C=-1,U=0,J=0,ae=t,G=null;t:for(;;){for(var W;ae!==s||h!==0&&ae.nodeType!==3||(T=_+h),ae!==d||l!==0&&ae.nodeType!==3||(C=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(W=ae.firstChild)!==null;)G=ae,ae=W;for(;;){if(ae===t)break t;if(G===s&&++U===h&&(T=_),G===d&&++J===l&&(C=_),(W=ae.nextSibling)!==null)break;ae=G,G=ae.parentNode}ae=W}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ad={focusedElem:t,selectionRange:s},Ac=!1,sn=r;sn!==null;)if(r=sn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,sn=t;else for(;sn!==null;){switch(r=sn,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var be=rs(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ke){vt(s,s.return,ke)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Dd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,sn=t;break}sn=r.return}return be=Cy,Cy=!1,be}function Iy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(t,s),l&4&&pl(5,s);break;case 1:if(Ti(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(T){vt(s,s.return,T)}else{var h=rs(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){vt(s,s.return,T)}}l&64&&Ty(s),l&512&&ss(s,s.return);break;case 3:if(Ti(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Ey(l,t)}catch(T){vt(s,s.return,T)}}break;case 26:Ti(t,s),l&512&&ss(s,s.return);break;case 27:case 5:Ti(t,s),r===null&&l&4&&Sy(s),l&512&&ss(s,s.return);break;case 12:Ti(t,s);break;case 13:Ti(t,s),l&4&&Oy(t,s);break;case 22:if(h=s.memoizedState!==null||_i,!h){r=r!==null&&r.memoizedState!==null||Ot;var d=_i,_=Ot;_i=h,(Ot=r)&&!_?ra(t,s,(s.subtreeFlags&8772)!==0):Ti(t,s),_i=d,Ot=_}l&512&&(s.memoizedProps.mode==="manual"?ss(s,s.return):Bn(s,s.return));break;default:Ti(t,s)}}function Dy(t){var r=t.alternate;r!==null&&(t.alternate=null,Dy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&zn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qt=null,Hn=!1;function Ei(t,r,s){for(s=s.child;s!==null;)Ny(t,r,s),s=s.sibling}function Ny(t,r,s){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(gr,s)}catch{}switch(s.tag){case 26:Ot||Bn(s,r),Ei(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||Bn(s,r);var l=qt,h=Hn;for(qt=s.stateNode,Ei(t,r,s),s=s.stateNode,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);zn(s),qt=l,Hn=h;break;case 5:Ot||Bn(s,r);case 6:h=qt;var d=Hn;if(qt=null,Ei(t,r,s),qt=h,Hn=d,qt!==null)if(Hn)try{t=qt,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){vt(s,r,_)}else try{qt.removeChild(s.stateNode)}catch(_){vt(s,r,_)}break;case 18:qt!==null&&(Hn?(r=qt,s=s.stateNode,r.nodeType===8?Id(r.parentNode,s):r.nodeType===1&&Id(r,s),Vl(r)):Id(qt,s.stateNode));break;case 4:l=qt,h=Hn,qt=s.stateNode.containerInfo,Hn=!0,Ei(t,r,s),qt=l,Hn=h;break;case 0:case 11:case 14:case 15:Ot||na(2,s,r),Ot||na(4,s,r),Ei(t,r,s);break;case 1:Ot||(Bn(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&wy(s,r,l)),Ei(t,r,s);break;case 21:Ei(t,r,s);break;case 22:Ot||Bn(s,r),Ot=(l=Ot)||s.memoizedState!==null,Ei(t,r,s),Ot=l;break;default:Ei(t,r,s)}}function Oy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(s){vt(r,r.return,s)}}function tS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ry),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ry),r;default:throw Error(a(435,t.tag))}}function Wf(t,r){var s=tS(t);r.forEach(function(l){var h=mS.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function sr(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:qt=T.stateNode,Hn=!1;break e;case 3:qt=T.stateNode.containerInfo,Hn=!0;break e;case 4:qt=T.stateNode.containerInfo,Hn=!0;break e}T=T.return}if(qt===null)throw Error(a(160));Ny(d,_,h),qt=null,Hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)My(r,t),r=r.sibling}var Er=null;function My(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sr(r,t),or(t),l&4&&(na(3,t,t.return),pl(3,t),na(5,t,t.return));break;case 1:sr(r,t),or(t),l&512&&(Ot||s===null||Bn(s,s.return)),l&64&&_i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Er;if(sr(r,t),or(t),l&512&&(Ot||s===null||Bn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Cn]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),dn(d,l,s),d[ve]=t,ct(d),l=d;break e;case"link":var _=Sv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),dn(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Sv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),dn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[ve]=t,ct(d),l=d}t.stateNode=l}else bv(h,t.type,t.stateNode);else t.stateNode=wv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?bv(h,t.type,t.stateNode):wv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&by(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var U=C.nextSibling,J=C.nodeName;C[Cn]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=U}for(var ae=t.type,G=h.attributes;G.length;)h.removeAttributeNode(G[0]);dn(h,ae,d),h[ve]=t,h[Ne]=d}catch(be){vt(t,t.return,be)}}case 5:if(sr(r,t),or(t),l&512&&(Ot||s===null||Bn(s,s.return)),t.flags&32){h=t.stateNode;try{Wn(h,"")}catch(be){vt(t,t.return,be)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,by(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(sr(r,t),or(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(be){vt(t,t.return,be)}}break;case 3:if(wc=null,h=Er,Er=Ec(r.containerInfo),sr(r,t),Er=h,or(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(be){vt(t,t.return,be)}Xf&&(Xf=!1,xy(t));break;case 4:l=Er,Er=Ec(t.stateNode.containerInfo),sr(r,t),or(t),Er=l;break;case 12:sr(r,t),or(t);break;case 13:sr(r,t),or(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sd=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wf(t,l)));break;case 22:if(l&512&&(Ot||s===null||Bn(s,s.return)),C=t.memoizedState!==null,U=s!==null&&s.memoizedState!==null,J=_i,ae=Ot,_i=J||C,Ot=ae||U,sr(r,t),Ot=ae,_i=J,or(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=_i||Ot,s===null||U||r||to(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(s===null){U=s=r;try{if(h=U.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=U.stateNode,T=U.memoizedProps.style;var W=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(be){vt(U,U.return,be)}}}else if(r.tag===6){if(s===null){U=r;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(be){vt(U,U.return,be)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Wf(t,s))));break;case 19:sr(r,t),or(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wf(t,l)));break;case 21:break;default:sr(r,t),or(t)}}function or(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(Ay(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=$f(t);ac(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Wn(_,""),l.flags&=-33);var T=$f(t);ac(t,T,_);break;case 3:case 4:var C=l.stateNode.containerInfo,U=$f(t);Yf(t,U,C);break;default:throw Error(a(161))}}}catch(J){vt(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;xy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ti(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Iy(t,r.alternate,r),r=r.sibling}function to(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:na(4,r,r.return),to(r);break;case 1:Bn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&wy(r,r.return,s),to(r);break;case 26:case 27:case 5:Bn(r,r.return),to(r);break;case 22:Bn(r,r.return),r.memoizedState===null&&to(r);break;default:to(r)}t=t.sibling}}function ra(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:ra(h,d,s),pl(4,d);break;case 1:if(ra(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){vt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)_y(C[h],T)}catch(U){vt(l,l.return,U)}}s&&_&64&&Ty(d),ss(d,d.return);break;case 26:case 27:case 5:ra(h,d,s),s&&l===null&&_&4&&Sy(d),ss(d,d.return);break;case 12:ra(h,d,s);break;case 13:ra(h,d,s),s&&_&4&&Oy(h,d);break;case 22:d.memoizedState===null&&ra(h,d,s),ss(d,d.return);break;default:ra(h,d,s)}r=r.sibling}}function Zf(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&sl(s))}function Jf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&sl(t))}function ia(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vy(t,r,s,l),r=r.sibling}function Vy(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ia(t,r,s,l),h&2048&&pl(9,r);break;case 3:ia(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){ia(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){vt(r,r.return,C)}}else ia(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?ia(t,r,s,l):yl(t,r):d._visibility&4?ia(t,r,s,l):(d._visibility|=4,no(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&Zf(r.alternate,r);break;case 24:ia(t,r,s,l),h&2048&&Jf(r.alternate,r);break;default:ia(t,r,s,l)}}function no(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=s,C=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:no(d,_,T,C,h),pl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&4?no(d,_,T,C,h):yl(d,_):(J._visibility|=4,no(d,_,T,C,h)),h&&U&2048&&Zf(_.alternate,_);break;case 24:no(d,_,T,C,h),h&&U&2048&&Jf(_.alternate,_);break;default:no(d,_,T,C,h)}r=r.sibling}}function yl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:yl(s,l),h&2048&&Zf(l.alternate,l);break;case 24:yl(s,l),h&2048&&Jf(l.alternate,l);break;default:yl(s,l)}r=r.sibling}}var vl=8192;function ro(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 26:ro(t),t.flags&vl&&t.memoizedState!==null&&qS(Er,t.memoizedState,t.memoizedProps);break;case 5:ro(t);break;case 3:case 4:var r=Er;Er=Ec(t.stateNode.containerInfo),ro(t),Er=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,ro(t),vl=r):ro(t));break;default:ro(t)}}function Py(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function _l(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];sn=l,Uy(l,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&na(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,sc(t)):_l(t);break;default:_l(t)}}function sc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];sn=l,Uy(l,t)}Py(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:na(8,r,r.return),sc(r);break;case 22:s=r.stateNode,s._visibility&4&&(s._visibility&=-5,sc(r));break;default:sc(r)}t=t.sibling}}function Uy(t,r){for(;sn!==null;){var s=sn;switch(s.tag){case 0:case 11:case 15:na(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,sn=l;else e:for(s=t;sn!==null;){l=sn;var h=l.sibling,d=l.return;if(Dy(l),l===s){sn=null;break e}if(h!==null){h.return=d,sn=h;break e}sn=d}}}function nS(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,r,s,l){return new nS(t,r,s,l)}function ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aa(t,r){var s=t.alternate;return s===null?(s=lr(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function zy(t,r){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function oc(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")ed(t)&&(_=1);else if(typeof t=="string")_=BS(t,s,Wt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return os(s.children,h,d,r);case y:_=8,h|=24;break;case E:return t=lr(12,s,r,h|2),t.elementType=E,t.lanes=d,t;case $:return t=lr(13,s,r,h),t.elementType=$,t.lanes=d,t;case H:return t=lr(19,s,r,h),t.elementType=H,t.lanes=d,t;case ie:return jy(s,h,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case N:_=10;break e;case R:_=9;break e;case L:_=11;break e;case X:_=14;break e;case ee:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=lr(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function os(t,r,s,l){return t=lr(7,t,l,r),t.lanes=s,t}function jy(t,r,s,l){t=lr(22,t,l,r),t.elementType=ie,t.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var _=Qi(d,2);_!==null&&(h._pendingVisibility|=2,On(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var _=Qi(d,2);_!==null&&(h._pendingVisibility&=-3,On(_,d,2))}}};return t.stateNode=h,t}function td(t,r,s){return t=lr(6,t,null,r),t.lanes=s,t}function nd(t,r,s){return r=lr(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function wi(t){t.flags|=4}function By(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Av(r)){if(r=ar.current,r!==null&&((rt&4194176)===rt?Hr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||r!==Hr))throw rl=of,ip;t.flags|=8192}}function lc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?z():536870912,t.lanes|=r,ao|=r)}function El(t,r){if(!lt)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function rS(t,r,s){var l=r.pendingProps;switch(af(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(r),null;case 1:return Rt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),vi($t),Kn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Jo(r)?wi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_r!==null&&(cd(_r),_r=null))),Rt(r),null;case 26:return s=r.memoizedState,t===null?(wi(r),s!==null?(Rt(r),By(r,s)):(Rt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(wi(r),Rt(r),By(r,s)):(Rt(r),r.flags&=-16777217):(t.memoizedProps!==l&&wi(r),Rt(r),r.flags&=-16777217),null;case 27:Ui(r),s=zt.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&wi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Rt(r),null}t=Wt.current,Jo(r)?np(r):(t=yv(h,l,s),r.stateNode=t,wi(r))}return Rt(r),null;case 5:if(Ui(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&wi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Rt(r),null}if(t=Wt.current,Jo(r))np(r);else{switch(h=_c(zt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[ve]=r,t[Ne]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(dn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&wi(r)}}return Rt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=zt.current,Jo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=Nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ve]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||hv(t.nodeValue,s)),t||Wa(r)}else t=_c(t).createTextNode(l),t[ve]=r,r.stateNode=t}return Rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Jo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Rt(r),h=!1}else _r!==null&&(cd(_r),_r=null),h=!0;if(!h)return r.flags&256?(mi(r),r):(mi(r),null)}if(mi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),lc(r,r.updateQueue),Rt(r),null;case 4:return Kn(),t===null&&Td(r.stateNode.containerInfo),Rt(r),null;case 10:return vi(r.type),Rt(r),null;case 19:if(Ge(Qt),h=r.memoizedState,h===null)return Rt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)El(h,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Gu(t),d!==null){for(r.flags|=128,El(h,!1),t=d.updateQueue,r.updateQueue=t,lc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)zy(s,t),s=s.sibling;return $e(Qt,Qt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Zt()>uc&&(r.flags|=128,l=!0,El(h,!1),r.lanes=4194304)}else{if(!l)if(t=Gu(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,lc(r,t),El(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!lt)return Rt(r),null}else 2*Zt()-h.renderingStartTime>uc&&s!==536870912&&(r.flags|=128,l=!0,El(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Zt(),r.sibling=null,t=Qt.current,$e(Qt,l?t&1|2:t&1),r):(Rt(r),null);case 22:case 23:return mi(r),uf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Rt(r),r.subtreeFlags&6&&(r.flags|=8192)):Rt(r),s=r.updateQueue,s!==null&&lc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&Ge(Ja),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),vi($t),Rt(r),null;case 25:return null}throw Error(a(156,r.tag))}function iS(t,r){switch(af(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vi($t),Kn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ui(r),null;case 13:if(mi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));el()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ge(Qt),null;case 4:return Kn(),null;case 10:return vi(r.type),null;case 22:case 23:return mi(r),uf(),t!==null&&Ge(Ja),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return vi($t),null;case 25:return null;default:return null}}function Hy(t,r){switch(af(r),r.tag){case 3:vi($t),Kn();break;case 26:case 27:case 5:Ui(r);break;case 4:Kn();break;case 13:mi(r);break;case 19:Ge(Qt);break;case 10:vi(r.type);break;case 22:case 23:mi(r),uf(),t!==null&&Ge(Ja);break;case 24:vi($t)}}var aS={getCacheForType:function(t){var r=En($t),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},sS=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Et=null,Qe=null,rt=0,Tt=0,qn=null,Si=!1,io=!1,rd=!1,bi=0,Mt=0,sa=0,ls=0,id=0,ur=0,ao=0,Tl=null,Fr=null,ad=!1,sd=0,uc=1/0,cc=null,oa=null,hc=!1,us=null,wl=0,od=0,ld=null,Sl=0,ud=null;function Fn(){if((Ct&2)!==0&&rt!==0)return rt&-rt;if(b.T!==null){var t=Xs;return t!==0?t:yd()}return Se()}function qy(){ur===0&&(ur=(rt&536870912)===0||lt?M():536870912);var t=ar.current;return t!==null&&(t.flags|=32),ur}function On(t,r,s){(t===Et&&Tt===2||t.cancelPendingCommit!==null)&&(so(t,0),Ai(t,rt,ur,!1)),te(t,s),((Ct&2)===0||t!==Et)&&(t===Et&&((Ct&2)===0&&(ls|=s),Mt===4&&Ai(t,rt,ur,!1)),Gr(t))}function Fy(t,r,s){if((Ct&6)!==0)throw Error(a(327));var l=!s&&(r&60)===0&&(r&t.expiredLanes)===0||Or(t,r),h=l?uS(t,r):dd(t,r,!0),d=l;do{if(h===0){io&&!l&&Ai(t,r,0,!1);break}else if(h===6)Ai(t,r,0,!Si);else{if(s=t.current.alternate,d&&!oS(s)){h=dd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=Tl;var C=T.current.memoizedState.isDehydrated;if(C&&(so(T,_).flags|=256),_=dd(T,_,!1),_!==2){if(rd&&!C){T.errorRecoveryDisabledLanes|=d,ls|=d,h=4;break e}d=Fr,Fr=h,d!==null&&cd(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){so(t,0),Ai(t,r,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(a(345));case 4:if((r&4194176)===r){Ai(l,r,ur,!Si);break e}break;case 2:Fr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=r,(r&62914560)===r&&(d=sd+300-Zt(),10<d)){if(Ai(l,r,ur,!Si),un(l,0)!==0)break e;l.timeoutHandle=mv(Gy.bind(null,l,s,Fr,cc,ad,r,ur,ls,ao,Si,2,-0,0),d);break e}Gy(l,s,Fr,cc,ad,r,ur,ls,ao,Si,0,-0,0)}}break}while(!0);Gr(t)}function cd(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function Gy(t,r,s,l,h,d,_,T,C,U,J,ae,G){var W=r.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:HS},Ly(r),r=FS(),r!==null)){t.cancelPendingCommit=r(Zy.bind(null,t,s,l,h,_,T,C,1,ae,G)),Ai(t,d,_,!U);return}Zy(t,s,l,h,_,T,C,J,ae,G)}function oS(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!jn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ai(t,r,s,l){r&=~id,r&=~ls,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-en(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Re(t,s,r)}function fc(){return(Ct&6)===0?(bl(0),!1):!0}function hd(){if(Qe!==null){if(Tt===0)var t=Qe.return;else t=Qe,yi=is=null,yf(t),$s=null,il=0,t=Qe;for(;t!==null;)Hy(t.alternate,t),t=t.return;Qe=null}}function so(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,RS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),hd(),Et=t,Qe=s=aa(t.current,null),rt=r,Tt=0,qn=null,Si=!1,io=Or(t,r),rd=!1,ao=ur=id=ls=sa=Mt=0,Fr=Tl=null,ad=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=t[h],l&=~d}return bi=r,Pu(),s}function Ky(t,r){Fe=null,b.H=qr,r===nl?(r=op(),Tt=3):r===ip?(r=op(),Tt=4):Tt=r===ay?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,qn=r,Qe===null&&(Mt=1,nc(t,nr(r,t.current)))}function Qy(){var t=b.H;return b.H=qr,t===null?qr:t}function $y(){var t=b.A;return b.A=aS,t}function fd(){Mt=4,Si||(rt&4194176)!==rt&&ar.current!==null||(io=!0),(sa&134217727)===0&&(ls&134217727)===0||Et===null||Ai(Et,rt,ur,!1)}function dd(t,r,s){var l=Ct;Ct|=2;var h=Qy(),d=$y();(Et!==t||rt!==r)&&(cc=null,so(t,r)),r=!1;var _=Mt;e:do try{if(Tt!==0&&Qe!==null){var T=Qe,C=qn;switch(Tt){case 8:hd(),_=6;break e;case 3:case 2:case 6:ar.current===null&&(r=!0);var U=Tt;if(Tt=0,qn=null,oo(t,T,C,U),s&&io){_=0;break e}break;default:U=Tt,Tt=0,qn=null,oo(t,T,C,U)}}lS(),_=Mt;break}catch(J){Ky(t,J)}while(!0);return r&&t.shellSuspendCounter++,yi=is=null,Ct=l,b.H=h,b.A=d,Qe===null&&(Et=null,rt=0,Pu()),_}function lS(){for(;Qe!==null;)Yy(Qe)}function uS(t,r){var s=Ct;Ct|=2;var l=Qy(),h=$y();Et!==t||rt!==r?(cc=null,uc=Zt()+500,so(t,r)):io=Or(t,r);e:do try{if(Tt!==0&&Qe!==null){r=Qe;var d=qn;t:switch(Tt){case 1:Tt=0,qn=null,oo(t,r,d,1);break;case 2:if(ap(d)){Tt=0,qn=null,Xy(r);break}r=function(){Tt===2&&Et===t&&(Tt=7),Gr(t)},d.then(r,r);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:ap(d)?(Tt=0,qn=null,Xy(r)):(Tt=0,qn=null,oo(t,r,d,7));break;case 5:var _=null;switch(Qe.tag){case 26:_=Qe.memoizedState;case 5:case 27:var T=Qe;if(!_||Av(_)){Tt=0,qn=null;var C=T.sibling;if(C!==null)Qe=C;else{var U=T.return;U!==null?(Qe=U,dc(U)):Qe=null}break t}}Tt=0,qn=null,oo(t,r,d,5);break;case 6:Tt=0,qn=null,oo(t,r,d,6);break;case 8:hd(),Mt=6;break e;default:throw Error(a(462))}}cS();break}catch(J){Ky(t,J)}while(!0);return yi=is=null,b.H=l,b.A=h,Ct=s,Qe!==null?0:(Et=null,rt=0,Pu(),Mt)}function cS(){for(;Qe!==null&&!ni();)Yy(Qe)}function Yy(t){var r=yy(t.alternate,t,bi);t.memoizedProps=t.pendingProps,r===null?dc(t):Qe=r}function Xy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=hy(s,r,r.pendingProps,r.type,void 0,rt);break;case 11:r=hy(s,r,r.pendingProps,r.type.render,r.ref,rt);break;case 5:yf(r);default:Hy(s,r),r=Qe=zy(r,bi),r=yy(s,r,bi)}t.memoizedProps=t.pendingProps,r===null?dc(t):Qe=r}function oo(t,r,s,l){yi=is=null,yf(r),$s=null,il=0;var h=r.return;try{if(Zw(t,h,r,s,rt)){Mt=1,nc(t,nr(s,t.current)),Qe=null;return}}catch(d){if(h!==null)throw Qe=h,d;Mt=1,nc(t,nr(s,t.current)),Qe=null;return}r.flags&32768?(lt||l===1?t=!0:io||(rt&536870912)!==0?t=!1:(Si=t=!0,(l===2||l===3||l===6)&&(l=ar.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wy(r,t)):dc(r)}function dc(t){var r=t;do{if((r.flags&32768)!==0){Wy(r,Si);return}t=r.return;var s=rS(r.alternate,r,bi);if(s!==null){Qe=s;return}if(r=r.sibling,r!==null){Qe=r;return}Qe=r=t}while(r!==null);Mt===0&&(Mt=5)}function Wy(t,r){do{var s=iS(t.alternate,t);if(s!==null){s.flags&=32767,Qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Qe=t;return}Qe=t=s}while(t!==null);Mt=6,Qe=null}function Zy(t,r,s,l,h,d,_,T,C,U){var J=b.T,ae=me.p;try{me.p=2,b.T=null,hS(t,r,s,l,ae,h,d,_,T,C,U)}finally{b.T=J,me.p=ae}}function hS(t,r,s,l,h,d,_,T){do lo();while(us!==null);if((Ct&6)!==0)throw Error(a(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=tf,ce(t,l,U,d,_,T),t===Et&&(Qe=Et=null,rt=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||hc||(hc=!0,od=U,ld=s,gS(Un,function(){return lo(),null})),s=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||s?(s=b.T,b.T=null,d=me.p,me.p=2,_=Ct,Ct|=4,eS(t,C),My(C,t),Lw(Ad,t.containerInfo),Ac=!!bd,Ad=bd=null,t.current=C,Iy(t,C.alternate,C),ji(),Ct=_,me.p=d,b.T=s):t.current=C,hc?(hc=!1,us=t,wl=l):Jy(t,U),U=t.pendingLanes,U===0&&(oa=null),Bi(C.stateNode),Gr(t),r!==null)for(h=t.onRecoverableError,C=0;C<r.length;C++)U=r[C],h(U.value,{componentStack:U.stack});return(wl&3)!==0&&lo(),U=t.pendingLanes,(l&4194218)!==0&&(U&42)!==0?t===ud?Sl++:(Sl=0,ud=t):Sl=0,bl(0),null}function Jy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,sl(r)))}function lo(){if(us!==null){var t=us,r=od;od=0;var s=we(wl),l=b.T,h=me.p;try{if(me.p=32>s?32:s,b.T=null,us===null)var d=!1;else{s=ld,ld=null;var _=us,T=wl;if(us=null,wl=0,(Ct&6)!==0)throw Error(a(331));var C=Ct;if(Ct|=4,ky(_.current),Vy(_,_.current,T,s),Ct=C,bl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(gr,_)}catch{}d=!0}return d}finally{me.p=h,b.T=l,Jy(t,r)}}return!1}function ev(t,r,s){r=nr(s,r),r=Of(t.stateNode,r,2),t=ta(t,r,2),t!==null&&(te(t,2),Gr(t))}function vt(t,r,s){if(t.tag===3)ev(t,t,s);else for(;r!==null;){if(r.tag===3){ev(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oa===null||!oa.has(l))){t=nr(s,t),s=ry(2),l=ta(r,s,2),l!==null&&(iy(s,l,r,t),te(l,2),Gr(l));break}}r=r.return}}function md(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new sS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(rd=!0,h.add(s),t=fS.bind(null,t,r,s),r.then(t,t))}function fS(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Et===t&&(rt&s)===s&&(Mt===4||Mt===3&&(rt&62914560)===rt&&300>Zt()-sd?(Ct&2)===0&&so(t,0):id|=s,ao===rt&&(ao=0)),Gr(t)}function tv(t,r){r===0&&(r=z()),t=Qi(t,r),t!==null&&(te(t,r),Gr(t))}function dS(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),tv(t,s)}function mS(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),tv(t,s)}function gS(t,r){return ti(t,r)}var mc=null,uo=null,gd=!1,gc=!1,pd=!1,cs=0;function Gr(t){t!==uo&&t.next===null&&(uo===null?mc=uo=t:uo=uo.next=t),gc=!0,gd||(gd=!0,yS(pS))}function bl(t,r){if(!pd&&gc){pd=!0;do for(var s=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,iv(l,d))}else d=rt,d=un(l,l===Et?d:0),(d&3)===0||Or(l,d)||(s=!0,iv(l,d));l=l.next}while(s);pd=!1}}function pS(){gc=gd=!1;var t=0;cs!==0&&(AS()&&(t=cs),cs=0);for(var r=Zt(),s=null,l=mc;l!==null;){var h=l.next,d=nv(l,r);d===0?(l.next=null,s===null?mc=h:s.next=h,h===null&&(uo=s)):(s=l,(t!==0||(d&3)!==0)&&(gc=!0)),l=h}bl(t)}function nv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-en(d),T=1<<_,C=h[_];C===-1?((T&s)===0||(T&l)!==0)&&(h[_]=Hi(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=Et,s=rt,s=un(t,t===r?s:0),l=t.callbackNode,s===0||t===r&&Tt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Or(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Mn(l),we(s)){case 2:case 8:s=Vt;break;case 32:s=Un;break;case 268435456:s=xn;break;default:s=Un}return l=rv.bind(null,t),s=ti(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Mn(l),t.callbackPriority=2,t.callbackNode=null,2}function rv(t,r){var s=t.callbackNode;if(lo()&&t.callbackNode!==s)return null;var l=rt;return l=un(t,t===Et?l:0),l===0?null:(Fy(t,l,r),nv(t,Zt()),t.callbackNode!=null&&t.callbackNode===s?rv.bind(null,t):null)}function iv(t,r){if(lo())return null;Fy(t,r,!0)}function yS(t){CS(function(){(Ct&6)!==0?ti(mt,t):t()})}function yd(){return cs===0&&(cs=M()),cs}function av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vr(""+t)}function sv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function vS(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=av((h[Ne]||null).action),_=l.submitter;_&&(r=(r=_[Ne]||null)?av(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new Vs("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var C=_?sv(h,_):new FormData(h);Rf(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?sv(h,_):new FormData(h),Rf(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var vd=0;vd<Zg.length;vd++){var _d=Zg[vd],_S=_d.toLowerCase(),ES=_d[0].toUpperCase()+_d.slice(1);vr(_S,"on"+ES)}vr(Qg,"onAnimationEnd"),vr($g,"onAnimationIteration"),vr(Yg,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(kw,"onTransitionRun"),vr(Uw,"onTransitionStart"),vr(zw,"onTransitionCancel"),vr(Xg,"onTransitionEnd"),ht("onMouseEnter",["mouseout","mouseover"]),ht("onMouseLeave",["mouseout","mouseover"]),ht("onPointerEnter",["pointerout","pointerover"]),ht("onPointerLeave",["pointerout","pointerover"]),He("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),He("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),He("onBeforeInput",["compositionend","keypress","textInput","paste"]),He("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function ov(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(J){tc(J)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,U=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(J){tc(J)}h.currentTarget=null,d=C}}}}function We(t,r){var s=r[bt];s===void 0&&(s=r[bt]=new Set);var l=t+"__bubble";s.has(l)||(lv(r,t,2,!1),s.add(l))}function Ed(t,r,s){var l=0;r&&(l|=4),lv(s,t,l,r)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[pc]){t[pc]=!0,Mr.forEach(function(s){s!=="selectionchange"&&(TS.has(s)||Ed(s,!1,t),Ed(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[pc]||(r[pc]=!0,Ed("selectionchange",!1,r))}}function lv(t,r,s,l){switch(Ov(r)){case 2:var h=QS;break;case 8:h=$S;break;default:h=Vd}s=h.bind(null,r,s,t),h=void 0,!Jn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function wd(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Lt(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Tu(function(){var U=d,J=xs(s),ae=[];e:{var G=Wg.get(t);if(G!==void 0){var W=Vs,be=t;switch(t){case"keypress":if(Pr(s)===0)break e;case"keydown":case"keyup":W=js;break;case"focusin":be="focus",W=ks;break;case"focusout":be="blur",W=ks;break;case"beforeblur":case"afterblur":W=ks;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Du;break;case Qg:case $g:case Yg:W=Us;break;case Xg:W=Ou;break;case"scroll":case"scrollend":W=wu;break;case"wheel":W=Bs;break;case"copy":case"cut":case"paste":W=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Yo;break;case"toggle":case"beforetoggle":W=xu}var ke=(r&4)!==0,xt=!ke&&(t==="scroll"||t==="scrollend"),B=ke?G!==null?G+"Capture":null:G;ke=[];for(var P=U,F;P!==null;){var ne=P;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||B===null||(ne=ja(P,B),ne!=null&&ke.push(Rl(P,ne,F))),xt)break;P=P.return}0<ke.length&&(G=new W(G,be,null,s,J),ae.push({event:G,listeners:ke}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",G&&s!==Zn&&(be=s.relatedTarget||s.fromElement)&&(Lt(be)||be[st]))break e;if((W||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,W?(be=s.relatedTarget||s.toElement,W=U,be=be?Lt(be):null,be!==null&&(xt=Te(be),ke=be.tag,be!==xt||ke!==5&&ke!==27&&ke!==6)&&(be=null)):(W=null,be=U),W!==be)){if(ke=er,ne="onMouseLeave",B="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ke=Yo,ne="onPointerLeave",B="onPointerEnter",P="pointer"),xt=W==null?G:$n(W),F=be==null?G:$n(be),G=new ke(ne,P+"leave",W,s,J),G.target=xt,G.relatedTarget=F,ne=null,Lt(J)===U&&(ke=new ke(B,P+"enter",be,s,J),ke.target=F,ke.relatedTarget=xt,ne=ke),xt=ne,W&&be)t:{for(ke=W,B=be,P=0,F=ke;F;F=co(F))P++;for(F=0,ne=B;ne;ne=co(ne))F++;for(;0<P-F;)ke=co(ke),P--;for(;0<F-P;)B=co(B),F--;for(;P--;){if(ke===B||B!==null&&ke===B.alternate)break t;ke=co(ke),B=co(B)}ke=null}else ke=null;W!==null&&uv(ae,G,W,ke,!1),be!==null&&xt!==null&&uv(ae,xt,be,ke,!0)}}e:{if(G=U?$n(U):window,W=G.nodeName&&G.nodeName.toLowerCase(),W==="select"||W==="input"&&G.type==="file")var Ee=Pg;else if(Kt(G))if(kg)Ee=xw;else{Ee=Ow;var Ke=Nw}else W=G.nodeName,!W||W.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Ho(U.elementType)&&(Ee=Pg):Ee=Mw;if(Ee&&(Ee=Ee(t,U))){hi(ae,Ee,s,J);break e}Ke&&Ke(t,G,U),t==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Ms(G,"number",G.value)}switch(Ke=U?$n(U):window,t){case"focusin":(Kt(Ke)||Ke.contentEditable==="true")&&(Hs=Ke,Zh=U,Zo=null);break;case"focusout":Zo=Zh=Hs=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Gg(ae,s,J);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":Gg(ae,s,J)}var Ce;if(zr)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else tt?Y(t,s)&&(Me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(v&&s.locale!=="ko"&&(tt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&tt&&(Ce=Fo()):(Lr=J,Ki="value"in Lr?Lr.value:Lr.textContent,tt=!0)),Ke=yc(U,Me),0<Ke.length&&(Me=new Qo(Me,t,null,s,J),ae.push({event:Me,listeners:Ke}),Ce?Me.data=Ce:(Ce=le(s),Ce!==null&&(Me.data=Ce)))),(Ce=p?Gt(t,s):nt(t,s))&&(Me=yc(U,"onBeforeInput"),0<Me.length&&(Ke=new Qo("onBeforeInput","beforeinput",null,s,J),ae.push({event:Ke,listeners:Me}),Ke.data=Ce)),vS(ae,t,U,s,J)}ov(ae,r)})}function Rl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function yc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ja(t,s),h!=null&&l.unshift(Rl(t,h,d)),h=ja(t,r),h!=null&&l.push(Rl(t,h,d))),t=t.return}return l}function co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uv(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var T=s,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=ja(s,d),U!=null&&_.unshift(Rl(s,U,C))):h||(U=ja(s,d),U!=null&&_.push(Rl(s,U,C)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var wS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(wS,`
`).replace(SS,"")}function hv(t,r){return r=cv(r),cv(t)===r}function vc(){}function pt(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Wn(t,""+l);break;case"className":qi(t,"class",l);break;case"tabIndex":qi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qi(t,s,l);break;case"style":Eu(t,l,d);break;case"data":if(r!=="object"){qi(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Vr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&pt(t,r,"name",h.name,h,null),pt(t,r,"formEncType",h.formEncType,h,null),pt(t,r,"formMethod",h.formMethod,h,null),pt(t,r,"formTarget",h.formTarget,h,null)):(pt(t,r,"encType",h.encType,h,null),pt(t,r,"method",h.method,h,null),pt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Vr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=vc);break;case"onScroll":l!=null&&We("scroll",t);break;case"onScrollEnd":l!=null&&We("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Vr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":We("beforetoggle",t),We("toggle",t),xr(t,"popover",l);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Gh.get(s)||s,xr(t,s,l))}}function Sd(t,r,s,l,h,d){switch(s){case"style":Eu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&Wn(t,""+l);break;case"onScroll":l!=null&&We("scroll",t);break;case"onScrollEnd":l!=null&&We("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[Ne]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):xr(t,s,l)}}}function dn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",t),We("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:pt(t,r,d,_,s,null)}}h&&pt(t,r,"srcSet",s.srcSet,s,null),l&&pt(t,r,"src",s.src,s,null);return;case"input":We("invalid",t);var T=d=_=h=null,C=null,U=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":C=J;break;case"defaultChecked":U=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:pt(t,r,l,J,s,null)}}Ua(t,d,T,C,U,_,h,!1),ka(t);return;case"select":We("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:pt(t,r,h,T,s,null)}r=d,s=_,t.multiple=!!l,r!=null?ot(t,!!l,r,!1):s!=null&&ot(t,!!l,s,!0);return;case"textarea":We("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:pt(t,r,_,T,s,null)}Gi(t,l,h,d),ka(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:pt(t,r,C,l,s,null)}return;case"dialog":We("cancel",t),We("close",t);break;case"iframe":case"object":We("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)We(Al[l],t);break;case"image":We("error",t),We("load",t);break;case"details":We("toggle",t);break;case"embed":case"source":case"link":We("error",t),We("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(l=s[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:pt(t,r,U,l,s,null)}return;default:if(Ho(r)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Sd(t,r,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&pt(t,r,T,l,s,null))}function bS(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,U=null,J=null;for(W in s){var ae=s[W];if(s.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":C=ae;default:l.hasOwnProperty(W)||pt(t,r,W,null,l,ae)}}for(var G in l){var W=l[G];if(ae=s[G],l.hasOwnProperty(G)&&(W!=null||ae!=null))switch(G){case"type":d=W;break;case"name":h=W;break;case"checked":U=W;break;case"defaultChecked":J=W;break;case"value":_=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:W!==ae&&pt(t,r,G,W,l,ae)}}Fi(t,_,T,C,U,J,d,h);return;case"select":W=_=T=G=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":W=C;default:l.hasOwnProperty(d)||pt(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&pt(t,r,h,d,l,C)}r=T,s=_,l=W,G!=null?ot(t,!!s,G,!1):!!l!=!!s&&(r!=null?ot(t,!!s,r,!0):ot(t,!!s,s?[]:"",!1));return;case"textarea":W=G=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&pt(t,r,_,h,l,d)}za(t,G,W);return;case"option":for(var be in s)if(G=s[be],s.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:pt(t,r,be,null,l,G)}for(C in l)if(G=l[C],W=s[C],l.hasOwnProperty(C)&&G!==W&&(G!=null||W!=null))switch(C){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:pt(t,r,C,G,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in s)G=s[ke],s.hasOwnProperty(ke)&&G!=null&&!l.hasOwnProperty(ke)&&pt(t,r,ke,null,l,G);for(U in l)if(G=l[U],W=s[U],l.hasOwnProperty(U)&&G!==W&&(G!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:pt(t,r,U,G,l,W)}return;default:if(Ho(r)){for(var xt in s)G=s[xt],s.hasOwnProperty(xt)&&G!==void 0&&!l.hasOwnProperty(xt)&&Sd(t,r,xt,void 0,l,G);for(J in l)G=l[J],W=s[J],!l.hasOwnProperty(J)||G===W||G===void 0&&W===void 0||Sd(t,r,J,G,l,W);return}}for(var B in s)G=s[B],s.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&pt(t,r,B,null,l,G);for(ae in l)G=l[ae],W=s[ae],!l.hasOwnProperty(ae)||G===W||G==null&&W==null||pt(t,r,ae,G,l,W)}var bd=null,Ad=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Rd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cd=null;function AS(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,RS=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(IS)}:mv;function IS(t){setTimeout(function(){throw t})}function Id(t,r){var s=r,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){t.removeChild(h),Vl(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Vl(r)}function Dd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Dd(s),zn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function DS(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Tr(t.nextSibling),t===null)break}return null}function NS(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Tr(t.nextSibling),t===null))return null;return t}function Tr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function pv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function yv(t,r,s){switch(r=_c(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var cr=new Map,vv=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ri=me.d;me.d={f:OS,r:MS,D:xS,C:VS,L:LS,m:PS,X:US,S:kS,M:zS};function OS(){var t=Ri.f(),r=fc();return t||r}function MS(t){var r=jt(t);r!==null&&r.tag===5&&r.type==="form"?Gp(r):Ri.r(t)}var ho=typeof document>"u"?null:document;function _v(t,r,s){var l=ho;if(l&&typeof r=="string"&&r){var h=Nt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),vv.has(h)||(vv.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),dn(r,"link",t),ct(r),l.head.appendChild(r)))}}function xS(t){Ri.D(t),_v("dns-prefetch",t,null)}function VS(t,r){Ri.C(t,r),_v("preconnect",t,r)}function LS(t,r,s){Ri.L(t,r,s);var l=ho;if(l&&t&&r){var h='link[rel="preload"][as="'+Nt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Nt(s.imageSizes)+'"]')):h+='[href="'+Nt(t)+'"]';var d=h;switch(r){case"style":d=fo(t);break;case"script":d=mo(t)}cr.has(d)||(t=I({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),cr.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(Il(d))||(r=l.createElement("link"),dn(r,"link",t),ct(r),l.head.appendChild(r)))}}function PS(t,r){Ri.m(t,r);var s=ho;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(t)}if(!cr.has(d)&&(t=I({rel:"modulepreload",href:t},r),cr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Il(d)))return}l=s.createElement("link"),dn(l,"link",t),ct(l),s.head.appendChild(l)}}}function kS(t,r,s){Ri.S(t,r,s);var l=ho;if(l&&t){var h=Vn(l).hoistableStyles,d=fo(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Cl(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":r},s),(s=cr.get(d))&&Nd(t,s);var C=_=l.createElement("link");ct(C),dn(C,"link",t),C._p=new Promise(function(U,J){C.onload=U,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function US(t,r){Ri.X(t,r);var s=ho;if(s&&t){var l=Vn(s).hoistableScripts,h=mo(t),d=l.get(h);d||(d=s.querySelector(Il(h)),d||(t=I({src:t,async:!0},r),(r=cr.get(h))&&Od(t,r),d=s.createElement("script"),ct(d),dn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zS(t,r){Ri.M(t,r);var s=ho;if(s&&t){var l=Vn(s).hoistableScripts,h=mo(t),d=l.get(h);d||(d=s.querySelector(Il(h)),d||(t=I({src:t,async:!0,type:"module"},r),(r=cr.get(h))&&Od(t,r),d=s.createElement("script"),ct(d),dn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ev(t,r,s,l){var h=(h=zt.current)?Ec(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=fo(s.href),s=Vn(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=fo(s.href);var d=Vn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),cr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},cr.set(t,s),d||jS(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(s),s=Vn(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function fo(t){return'href="'+Nt(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Tv(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function jS(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),dn(r,"link",s),ct(r),t.head.appendChild(r))}function mo(t){return'[src="'+Nt(t)+'"]'}function Il(t){return"script[async]"+t}function wv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(s.href)+'"]');if(l)return r.instance=l,ct(l),l;var h=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),dn(l,"style",h),Tc(l,s.precedence,t),r.instance=l;case"stylesheet":h=fo(s.href);var d=t.querySelector(Cl(h));if(d)return r.state.loading|=4,r.instance=d,ct(d),d;l=Tv(s),(h=cr.get(h))&&Nd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),dn(d,"link",l),r.state.loading|=4,Tc(d,s.precedence,t),r.instance=d;case"script":return d=mo(s.src),(h=t.querySelector(Il(d)))?(r.instance=h,ct(h),h):(l=s,(h=cr.get(d))&&(l=I({},s),Od(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),dn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Tc(l,s.precedence,t));return r.instance}function Tc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Nd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Od(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var wc=null;function Sv(t,r,s){if(wc===null){var l=new Map,h=wc=new Map;h.set(s,l)}else h=wc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Cn]||d[ve]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function bv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function BS(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function HS(){}function qS(t,r,s){if(Dl===null)throw Error(a(475));var l=Dl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=fo(s.href),d=t.querySelector(Cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Sc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ct(d);return}d=t.ownerDocument||t,s=Tv(s),(h=cr.get(h))&&Nd(s,h),d=d.createElement("link"),ct(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),dn(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Sc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function FS(){if(Dl===null)throw Error(a(475));var t=Dl;return t.stylesheets&&t.count===0&&Md(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Md(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Md(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,r.forEach(GS,t),bc=null,Sc.call(t))}function GS(t,r){if(!(r.state.loading&4)){var s=bc.get(t);if(s)var l=s.get(null);else{s=new Map,bc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:N,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function KS(t,r,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=K(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K(0),this.hiddenUpdates=K(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Rv(t,r,s,l,h,d,_,T,C,U,J,ae){return t=new KS(t,r,s,_,T,C,U,ae),r=1,d===!0&&(r|=24),d=lr(3,null,null,r),t.current=d,d.stateNode=t,r=cf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Ff(d),t}function Cv(t){return t?(t=Gs,t):Gs}function Iv(t,r,s,l,h,d){h=Cv(h),l.context===null?l.context=h:l.pendingContext=h,l=ea(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ta(t,l,r),s!==null&&(On(s,t,r),dl(s,t,r))}function Dv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function xd(t,r){Dv(t,r),(t=t.alternate)&&Dv(t,r)}function Nv(t){if(t.tag===13){var r=Qi(t,67108864);r!==null&&On(r,t,67108864),xd(t,67108864)}}var Ac=!0;function QS(t,r,s,l){var h=b.T;b.T=null;var d=me.p;try{me.p=2,Vd(t,r,s,l)}finally{me.p=d,b.T=h}}function $S(t,r,s,l){var h=b.T;b.T=null;var d=me.p;try{me.p=8,Vd(t,r,s,l)}finally{me.p=d,b.T=h}}function Vd(t,r,s,l){if(Ac){var h=Ld(l);if(h===null)wd(t,r,l,Rc,s),Mv(t,l);else if(XS(h,t,r,s,l))l.stopPropagation();else if(Mv(t,l),r&4&&-1<YS.indexOf(t)){for(;h!==null;){var d=jt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=_n(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-en(_);T.entanglements[1]|=C,_&=~C}Gr(d),(Ct&6)===0&&(uc=Zt()+500,bl(0))}}break;case 13:T=Qi(d,2),T!==null&&On(T,d,2),fc(),xd(d,2)}if(d=Ld(l),d===null&&wd(t,r,l,Rc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else wd(t,r,l,null,s)}}function Ld(t){return t=xs(t),Pd(t)}var Rc=null;function Pd(t){if(Rc=null,t=Lt(t),t!==null){var r=Te(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=Be(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Rc=t,null}function Ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kn()){case mt:return 2;case Vt:return 8;case Un:case Is:return 32;case xn:return 268435456;default:return 32}default:return 32}}var kd=!1,la=null,ua=null,ca=null,Ol=new Map,Ml=new Map,ha=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,r){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function xl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=jt(r),r!==null&&Nv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function XS(t,r,s,l,h){switch(r){case"focusin":return la=xl(la,t,r,s,l,h),!0;case"dragenter":return ua=xl(ua,t,r,s,l,h),!0;case"mouseover":return ca=xl(ca,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,xl(Ol.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,xl(Ml.get(d)||null,t,r,s,l,h)),!0}return!1}function xv(t){var r=Lt(t.target);if(r!==null){var s=Te(r);if(s!==null){if(r=s.tag,r===13){if(r=Be(s),r!==null){t.blockedOn=r,de(t.priority,function(){if(s.tag===13){var l=Fn(),h=Qi(s,l);h!==null&&On(h,s,l),xd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Ld(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Zn=l,s.target.dispatchEvent(l),Zn=null}else return r=jt(s),r!==null&&Nv(r),t.blockedOn=s,!1;r.shift()}return!0}function Vv(t,r,s){Cc(t)&&s.delete(r)}function WS(){kd=!1,la!==null&&Cc(la)&&(la=null),ua!==null&&Cc(ua)&&(ua=null),ca!==null&&Cc(ca)&&(ca=null),Ol.forEach(Vv),Ml.forEach(Vv)}function Ic(t,r){t.blockedOn===r&&(t.blockedOn=null,kd||(kd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WS)))}var Dc=null;function Lv(t){Dc!==t&&(Dc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Pd(l||s)===null)continue;break}var d=jt(s);d!==null&&(t.splice(r,3),r-=3,Rf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Vl(t){function r(C){return Ic(C,t)}la!==null&&Ic(la,t),ua!==null&&Ic(ua,t),ca!==null&&Ic(ca,t),Ol.forEach(r),Ml.forEach(r);for(var s=0;s<ha.length;s++){var l=ha[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ha.length&&(s=ha[0],s.blockedOn===null);)xv(s),s.blockedOn===null&&ha.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Ne]||null;if(typeof d=="function")_||Lv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ne]||null)T=_.formAction;else if(Pd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Lv(s)}}}function Ud(t){this._internalRoot=t}Nc.prototype.render=Ud.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Fn();Iv(s,l,t,r,null,null)},Nc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&lo(),Iv(t.current,2,null,t,null,null),fc(),r[st]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Se();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ha.length&&r!==0&&r<ha[s].priority;s++);ha.splice(s,0,t),s===0&&xv(t)}};var Pv=e.version;if(Pv!=="19.0.0")throw Error(a(527,Pv,"19.0.0"));me.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=se(r),t=t!==null?ge(t):null,t=t===null?null:t.stateNode,t};var ZS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Lt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{gr=Oc.inject(ZS),Jt=Oc}catch{}}return Pl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=Jp,d=ey,_=ty,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Rv(t,1,!1,null,null,s,l,h,d,_,T,null),t[st]=r.current,Td(t.nodeType===8?t.parentNode:t),new Ud(r)},Pl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Jp,_=ey,T=ty,C=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),r=Rv(t,1,!0,r,s??null,l,h,d,_,T,C,U),r.context=Cv(null),s=r.current,l=Fn(),h=ea(l),h.callback=null,ta(s,h,l),r.current.lanes=l,te(r,l),Gr(r),t[st]=r.current,Td(t),new Nc(r)},Pl.version="19.0.0",Pl}var Kv;function ob(){if(Kv)return Bd.exports;Kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bd.exports=sb(),Bd.exports}var lb=ob(),kl={},Qv;function ub(){if(Qv)return kl;Qv=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=f,kl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,N){const L=new u,$=R.length;if($<2)return L;const H=(N==null?void 0:N.decode)||E;let X=0;do{const ee=R.indexOf("=",X);if(ee===-1)break;const ie=R.indexOf(";",X),_e=ie===-1?$:ie;if(ee>_e){X=R.lastIndexOf(";",ee-1)+1;continue}const k=m(R,X,ee),he=g(R,ee,k),O=R.slice(k,he);if(L[O]===void 0){let A=m(R,ee+1,_e),b=g(R,_e,A);const I=H(R.slice(A,b));L[O]=I}X=_e+1}while(X<$);return L}function m(R,N,L){do{const $=R.charCodeAt(N);if($!==32&&$!==9)return N}while(++N<L);return L}function g(R,N,L){for(;N>L;){const $=R.charCodeAt(--N);if($!==32&&$!==9)return N+1}return L}function y(R,N,L){const $=(L==null?void 0:L.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const H=$(N);if(!e.test(H))throw new TypeError(`argument val is invalid: ${N}`);let X=R+"="+H;if(!L)return X;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);X+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);X+="; Domain="+L.domain}if(L.path){if(!a.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);X+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);X+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(X+="; HttpOnly"),L.secure&&(X+="; Secure"),L.partitioned&&(X+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return X}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return kl}ub();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H0=i=>{throw TypeError(i)},cb=(i,e,n)=>e.has(i)||H0("Cannot "+n),Gd=(i,e,n)=>(cb(i,e,"read from private field"),n?n.call(i):e.get(i)),hb=(i,e,n)=>e.has(i)?H0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,n),$v="popstate";function fb(i={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return Wl("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Ra(o)}return mb(e,n,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function Yv(i,e){return{usr:i.state,key:i.key,idx:e}}function Wl(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?xa(e):e,state:n,key:e&&e.key||a||db()}}function Ra({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function xa(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function mb(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),X=H==null?null:H-y;y=H,g&&g({action:m,location:$.location,delta:X})}function R(H,X){m="PUSH";let ee=Wl($.location,H,X);y=E()+1;let ie=Yv(ee,y),_e=$.createHref(ee);try{f.pushState(ie,"",_e)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(_e)}u&&g&&g({action:m,location:$.location,delta:1})}function N(H,X){m="REPLACE";let ee=Wl($.location,H,X);y=E();let ie=Yv(ee,y),_e=$.createHref(ee);f.replaceState(ie,"",_e),u&&g&&g({action:m,location:$.location,delta:0})}function L(H){let X=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof H=="string"?H:Ra(H);return ee=ee.replace(/ $/,"%20"),Je(X,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,X)}let $={get action(){return m},get location(){return i(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener($v,S),g=H,()=>{o.removeEventListener($v,S),g=null}},createHref(H){return e(o,H)},createURL:L,encodeLocation(H){let X=L(H);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:R,replace:N,go(H){return f.go(H)}};return $}var Bl,Xv=class{constructor(i){if(hb(this,Bl,new Map),i)for(let[e,n]of i)this.set(e,n)}get(i){if(Gd(this,Bl).has(i))return Gd(this,Bl).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,e){Gd(this,Bl).set(i,e)}};Bl=new WeakMap;var gb=new Set(["lazy","caseSensitive","path","id","index","children"]);function pb(i){return i.index===!0}function eh(i,e,n=[],a={}){return i.map((o,u)=>{let f=[...n,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),pb(o)){let g={...o,...e(o),id:m};return a[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return a[m]=g,o.children&&(g.children=eh(o.children,e,f,a)),g}})}function ga(i,e,n="/"){return Bc(i,e,n,!1)}function Bc(i,e,n,a){let o=typeof e=="string"?xa(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let f=q0(i);vb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=Db(u);m=Cb(f[g],y,a)}return m}function yb(i,e){let{route:n,pathname:a,params:o}=i;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function q0(i,e=[],n=[],a=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=Qr([a,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),q0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Ab(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of F0(u.path))o(u,f,g)}),e}function F0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=F0(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function vb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Rb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var _b=/^:[\w-]+$/,Eb=3,Tb=2,wb=1,Sb=10,bb=-2,Wv=i=>i==="*";function Ab(i,e){let n=i.split("/"),a=n.length;return n.some(Wv)&&(a+=bb),e&&(a+=Tb),n.filter(o=>!Wv(o)).reduce((o,u)=>o+(_b.test(u)?Eb:u===""?wb:Sb),a)}function Rb(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Cb(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!S&&y&&n&&!a[a.length-1].route.index&&(S=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Qr([u,S.pathname]),pathnameBase:Mb(Qr([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=Qr([u,S.pathnameBase]))}return f}function th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Ib(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let L=m[R]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const N=m[R];return S&&!N?y[E]=void 0:y[E]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function Ib(i,e=!1,n=!0){yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Db(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function dr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Nb(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?xa(i):i;return{pathname:n?n.startsWith("/")?n:Ob(n,e):e,search:xb(a),hash:Vb(o)}}function Ob(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pm(i){let e=G0(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function km(i,e,n,a=!1){let o;typeof i=="string"?o=xa(i):(o={...i},Je(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let g=Nb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Qr=i=>i.join("/").replace(/\/\/+/g,"/"),Mb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),xb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Vb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,nh=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Zl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var K0=["POST","PUT","PATCH","DELETE"],Lb=new Set(K0),Pb=["GET",...K0],kb=new Set(Pb),Ub=new Set([301,302,303,307,308]),zb=new Set([307,308]),Qd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Um=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bb=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),Q0="remix-router-transitions",$0=Symbol("ResetLoaderData");function Hb(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=i.mapRouteProperties||Bb,o={},u=eh(i.routes,a,void 0,o),f,m=i.basename||"/",g=i.dataStrategy||Qb,y={unstable_middleware:!1,...i.future},E=null,S=new Set,R=null,N=null,L=null,$=i.hydrationData!=null,H=ga(u,i.history.location,m),X=!1,ee=null;if(H==null&&!i.patchRoutesOnNavigation){let M=hr(404,{pathname:i.history.location.pathname}),{matches:z,route:K}=u_(u);H=z,ee={[K.id]:M}}H&&!i.hydrationData&&_n(H,u,i.history.location.pathname).active&&(H=null);let ie;if(H)if(H.some(M=>M.route.lazy))ie=!1;else if(!H.some(M=>M.route.loader))ie=!0;else{let M=i.hydrationData?i.hydrationData.loaderData:null,z=i.hydrationData?i.hydrationData.errors:null;if(z){let K=H.findIndex(te=>z[te.route.id]!==void 0);ie=H.slice(0,K+1).every(te=>!um(te.route,M,z))}else ie=H.every(K=>!um(K.route,M,z))}else{ie=!1,H=[];let M=_n(null,u,i.history.location.pathname);M.active&&M.matches&&(X=!0,H=M.matches)}let _e,k={historyAction:i.history.action,location:i.history.location,matches:H,initialized:ie,navigation:Qd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},he="POP",O=!1,A,b=!1,I=new Map,V=null,j=!1,D=!1,St=new Set,qe=new Map,ue=0,Ie=-1,Te=new Map,Be=new Set,x=new Map,se=new Map,ge=new Set,fe=new Map,me,xe=null;function ze(){if(E=i.history.listen(({action:M,location:z,delta:K})=>{if(me){me(),me=void 0;return}yn(fe.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=en({currentLocation:k.location,nextLocation:z,historyAction:M});if(te&&K!=null){let ce=new Promise(Re=>{me=Re});i.history.go(K*-1),Rn(te,{state:"blocked",location:z,proceed(){Rn(te,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),ce.then(()=>i.history.go(K))},reset(){let Re=new Map(k.blockers);Re.set(te,Ul),Ge({blockers:Re})}});return}return zt(M,z)}),n){aA(e,I);let M=()=>sA(e,I);e.addEventListener("pagehide",M),V=()=>e.removeEventListener("pagehide",M)}return k.initialized||zt("POP",k.location,{initialHydration:!0}),_e}function Dt(){E&&E(),V&&V(),S.clear(),A&&A.abort(),k.fetchers.forEach((M,z)=>Un(z)),k.blockers.forEach((M,z)=>Bi(z))}function et(M){return S.add(M),()=>S.delete(M)}function Ge(M,z={}){k={...k,...M};let K=[],te=[];k.fetchers.forEach((ce,Re)=>{ce.state==="idle"&&(ge.has(Re)?K.push(Re):te.push(Re))}),ge.forEach(ce=>{!k.fetchers.has(ce)&&!qe.has(ce)&&K.push(ce)}),[...S].forEach(ce=>ce(k,{deletedFetchers:K,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),K.forEach(ce=>Un(ce)),te.forEach(ce=>k.fetchers.delete(ce))}function $e(M,z,{flushSync:K}={}){var de,ye;let te=k.actionData!=null&&k.navigation.formMethod!=null&&wr(k.navigation.formMethod)&&k.navigation.state==="loading"&&((de=M.state)==null?void 0:de._isRedirect)!==!0,ce;z.actionData?Object.keys(z.actionData).length>0?ce=z.actionData:ce=null:te?ce=k.actionData:ce=null;let Re=z.loaderData?o_(k.loaderData,z.loaderData,z.matches||[],z.errors):k.loaderData,Ae=k.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((ve,Ne)=>Ae.set(Ne,Ul)));let we=O===!0||k.navigation.formMethod!=null&&wr(k.navigation.formMethod)&&((ye=M.state)==null?void 0:ye._isRedirect)!==!0;f&&(u=f,f=void 0),j||he==="POP"||(he==="PUSH"?i.history.push(M,M.state):he==="REPLACE"&&i.history.replace(M,M.state));let Se;if(he==="POP"){let ve=I.get(k.location.pathname);ve&&ve.has(M.pathname)?Se={currentLocation:k.location,nextLocation:M}:I.has(M.pathname)&&(Se={currentLocation:M,nextLocation:k.location})}else if(b){let ve=I.get(k.location.pathname);ve?ve.add(M.pathname):(ve=new Set([M.pathname]),I.set(k.location.pathname,ve)),Se={currentLocation:k.location,nextLocation:M}}Ge({...z,actionData:ce,loaderData:Re,historyAction:he,location:M,initialized:!0,navigation:Qd,revalidation:"idle",restoreScrollPosition:pr(M,z.matches||k.matches),preventScrollReset:we,blockers:Ae},{viewTransitionOpts:Se,flushSync:K===!0}),he="POP",O=!1,b=!1,j=!1,D=!1,xe==null||xe.resolve(),xe=null}async function Wt(M,z){if(typeof M=="number"){i.history.go(M);return}let K=lm(k.location,k.matches,m,M,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:te,submission:ce,error:Re}=Zv(!1,K,z),Ae=k.location,we=Wl(k.location,te,z&&z.state);we={...we,...i.history.encodeLocation(we)};let Se=z&&z.replace!=null?z.replace:void 0,de="PUSH";Se===!0?de="REPLACE":Se===!1||ce!=null&&wr(ce.formMethod)&&ce.formAction===k.location.pathname+k.location.search&&(de="REPLACE");let ye=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,ve=(z&&z.flushSync)===!0,Ne=en({currentLocation:Ae,nextLocation:we,historyAction:de});if(Ne){Rn(Ne,{state:"blocked",location:we,proceed(){Rn(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Wt(M,z)},reset(){let st=new Map(k.blockers);st.set(Ne,Ul),Ge({blockers:st})}});return}await zt(de,we,{submission:ce,pendingError:Re,preventScrollReset:ye,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:ve})}function mr(){xe||(xe=oA()),Zt(),Ge({revalidation:"loading"});let M=xe.promise;return k.navigation.state==="submitting"?M:k.navigation.state==="idle"?(zt(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),M):(zt(he||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:b===!0}),M)}async function zt(M,z,K){A&&A.abort(),A=null,he=M,j=(K&&K.startUninterruptedRevalidation)===!0,Qn(k.location,k.matches),O=(K&&K.preventScrollReset)===!0,b=(K&&K.enableViewTransition)===!0;let te=f||u,ce=K&&K.overrideNavigation,Re=K!=null&&K.initialHydration&&k.matches&&k.matches.length>0&&!X?k.matches:ga(te,z,m),Ae=(K&&K.flushSync)===!0;if(Re&&k.initialized&&!D&&eA(k.location,z)&&!(K&&K.submission&&wr(K.submission.formMethod))){$e(z,{matches:Re},{flushSync:Ae});return}let we=_n(Re,te,z.pathname);if(we.active&&we.matches&&(Re=we.matches),!Re){let{error:yt,notFoundMatches:at,route:wt}=ri(z.pathname);$e(z,{matches:at,loaderData:{},errors:{[wt.id]:yt}},{flushSync:Ae});return}A=new AbortController;let Se=go(i.history,z,A.signal,K&&K.submission),de=new Xv(i.unstable_getContext?await i.unstable_getContext():void 0),ye;if(K&&K.pendingError)ye=[fs(Re).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&wr(K.submission.formMethod)){let yt=await Ir(Se,z,K.submission,Re,de,we.active,{replace:K.replace,flushSync:Ae});if(yt.shortCircuited)return;if(yt.pendingActionResult){let[at,wt]=yt.pendingActionResult;if(Gn(wt)&&Zl(wt.error)&&wt.error.status===404){A=null,$e(z,{matches:yt.matches,loaderData:{},errors:{[at]:wt.error}});return}}Re=yt.matches||Re,ye=yt.pendingActionResult,ce=$d(z,K.submission),Ae=!1,we.active=!1,Se=go(i.history,Se.url,Se.signal)}let{shortCircuited:ve,matches:Ne,loaderData:st,errors:bt}=await Dr(Se,z,Re,de,we.active,ce,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ae,ye);ve||(A=null,$e(z,{matches:Ne||Re,...l_(ye),loaderData:st,errors:bt}))}async function Ir(M,z,K,te,ce,Re,Ae={}){Zt();let we=rA(z,K);if(Ge({navigation:we},{flushSync:Ae.flushSync===!0}),Re){let ye=await un(te,z.pathname,M.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let ve=fs(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[ve,{type:"error",error:ye.error}]}}else if(ye.matches)te=ye.matches;else{let{notFoundMatches:ve,error:Ne,route:st}=ri(z.pathname);return{matches:ve,pendingActionResult:[st.id,{type:"error",error:Ne}]}}}let Se,de=Hl(te,z);if(!de.route.action&&!de.route.lazy)Se={type:"error",error:hr(405,{method:M.method,pathname:z.pathname,routeId:de.route.id})};else{let ye=await ni("action",M,[de],te,ce,null);if(Se=ye[de.route.id],!Se){for(let ve of te)if(ye[ve.route.id]){Se=ye[ve.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(ds(Se)){let ye;return Ae&&Ae.replace!=null?ye=Ae.replace:ye=i_(Se.response.headers.get("Location"),new URL(M.url),m)===k.location.pathname+k.location.search,await Mn(M,Se,!0,{submission:K,replace:ye}),{shortCircuited:!0}}if(Gn(Se)){let ye=fs(te,de.route.id);return(Ae&&Ae.replace)!==!0&&(he="PUSH"),{matches:te,pendingActionResult:[ye.route.id,Se]}}return{matches:te,pendingActionResult:[de.route.id,Se]}}async function Dr(M,z,K,te,ce,Re,Ae,we,Se,de,ye,ve){let Ne=Re||$d(z,Ae),st=Ae||we||h_(Ne),bt=!j&&!de;if(ce){if(bt){let ht=Kn(ve);Ge({navigation:Ne,...ht!==void 0?{actionData:ht}:{}},{flushSync:ye})}let He=await un(K,z.pathname,M.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let ht=fs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[ht]:He.error}}}else if(He.matches)K=He.matches;else{let{error:ht,notFoundMatches:tn,route:ii}=ri(z.pathname);return{matches:tn,loaderData:{},errors:{[ii.id]:ht}}}}let yt=f||u,[at,wt]=e_(i.history,k,K,st,z,de===!0,D,St,ge,x,Be,yt,m,ve);if(Ie=++ue,at.length===0&&wt.length===0){let He=Nr();return $e(z,{matches:K,loaderData:{},errors:ve&&Gn(ve[1])?{[ve[0]]:ve[1].error}:null,...l_(ve),...He?{fetchers:new Map(k.fetchers)}:{}},{flushSync:ye}),{shortCircuited:!0}}if(bt){let He={};if(!ce){He.navigation=Ne;let ht=Kn(ve);ht!==void 0&&(He.actionData=ht)}wt.length>0&&(He.fetchers=Va(wt)),Ge(He,{flushSync:ye})}wt.forEach(He=>{xn(He.key),He.controller&&qe.set(He.key,He.controller)});let Cn=()=>wt.forEach(He=>xn(He.key));A&&A.signal.addEventListener("abort",Cn);let{loaderResults:zn,fetcherResults:Lt}=await ji(K,at,wt,M,te);if(M.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Cn),wt.forEach(He=>qe.delete(He.key));let jt=Mc(zn);if(jt)return await Mn(M,jt.result,!0,{replace:Se}),{shortCircuited:!0};if(jt=Mc(Lt),jt)return Be.add(jt.key),await Mn(M,jt.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:$n,errors:Vn}=s_(k,K,zn,ve,wt,Lt);de&&k.errors&&(Vn={...k.errors,...Vn});let ct=Nr(),Mr=gr(Ie),yr=ct||Mr||wt.length>0;return{matches:K,loaderData:$n,errors:Vn,...yr?{fetchers:new Map(k.fetchers)}:{}}}function Kn(M){if(M&&!Gn(M[1]))return{[M[0]]:M[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Va(M){return M.forEach(z=>{let K=k.fetchers.get(z.key),te=zl(void 0,K?K.data:void 0);k.fetchers.set(z.key,te)}),new Map(k.fetchers)}async function Ui(M,z,K,te){xn(M);let ce=(te&&te.flushSync)===!0,Re=f||u,Ae=lm(k.location,k.matches,m,K,z,te==null?void 0:te.relative),we=ga(Re,Ae,m),Se=_n(we,Re,Ae);if(Se.active&&Se.matches&&(we=Se.matches),!we){mt(M,z,hr(404,{pathname:Ae}),{flushSync:ce});return}let{path:de,submission:ye,error:ve}=Zv(!0,Ae,te);if(ve){mt(M,z,ve,{flushSync:ce});return}let Ne=Hl(we,de),st=new Xv(i.unstable_getContext?await i.unstable_getContext():void 0),bt=(te&&te.preventScrollReset)===!0;if(ye&&wr(ye.formMethod)){await zi(M,z,de,Ne,we,st,Se.active,ce,bt,ye);return}x.set(M,{routeId:z,path:de}),await ti(M,z,de,Ne,we,st,Se.active,ce,bt,ye)}async function zi(M,z,K,te,ce,Re,Ae,we,Se,de){Zt(),x.delete(M);function ye(_t){if(!_t.route.action&&!_t.route.lazy){let Yn=hr(405,{method:de.formMethod,pathname:K,routeId:z});return mt(M,z,Yn,{flushSync:we}),!0}return!1}if(!Ae&&ye(te))return;let ve=k.fetchers.get(M);kn(M,iA(de,ve),{flushSync:we});let Ne=new AbortController,st=go(i.history,K,Ne.signal,de);if(Ae){let _t=await un(ce,K,st.signal,M);if(_t.type==="aborted")return;if(_t.type==="error"){mt(M,z,_t.error,{flushSync:we});return}else if(_t.matches){if(ce=_t.matches,te=Hl(ce,K),ye(te))return}else{mt(M,z,hr(404,{pathname:K}),{flushSync:we});return}}qe.set(M,Ne);let bt=ue,at=(await ni("action",st,[te],ce,Re,M))[te.route.id];if(st.signal.aborted){qe.get(M)===Ne&&qe.delete(M);return}if(ge.has(M)){if(ds(at)||Gn(at)){kn(M,ma(void 0));return}}else{if(ds(at))if(qe.delete(M),Ie>bt){kn(M,ma(void 0));return}else return Be.add(M),kn(M,zl(de)),Mn(st,at,!1,{fetcherSubmission:de,preventScrollReset:Se});if(Gn(at)){mt(M,z,at.error);return}}let wt=k.navigation.location||k.location,Cn=go(i.history,wt,Ne.signal),zn=f||u,Lt=k.navigation.state!=="idle"?ga(zn,k.navigation.location,m):k.matches;Je(Lt,"Didn't find any matches after fetcher action");let jt=++ue;Te.set(M,jt);let $n=zl(de,at.data);k.fetchers.set(M,$n);let[Vn,ct]=e_(i.history,k,Lt,de,wt,!1,D,St,ge,x,Be,zn,m,[te.route.id,at]);ct.filter(_t=>_t.key!==M).forEach(_t=>{let Yn=_t.key,Pa=k.fetchers.get(Yn),xr=zl(void 0,Pa?Pa.data:void 0);k.fetchers.set(Yn,xr),xn(Yn),_t.controller&&qe.set(Yn,_t.controller)}),Ge({fetchers:new Map(k.fetchers)});let Mr=()=>ct.forEach(_t=>xn(_t.key));Ne.signal.addEventListener("abort",Mr);let{loaderResults:yr,fetcherResults:He}=await ji(Lt,Vn,ct,Cn,Re);if(Ne.signal.aborted)return;Ne.signal.removeEventListener("abort",Mr),Te.delete(M),qe.delete(M),ct.forEach(_t=>qe.delete(_t.key));let ht=Mc(yr);if(ht)return Mn(Cn,ht.result,!1,{preventScrollReset:Se});if(ht=Mc(He),ht)return Be.add(ht.key),Mn(Cn,ht.result,!1,{preventScrollReset:Se});let{loaderData:tn,errors:ii}=s_(k,Lt,yr,void 0,ct,He);if(k.fetchers.has(M)){let _t=ma(at.data);k.fetchers.set(M,_t)}gr(jt),k.navigation.state==="loading"&&jt>Ie?(Je(he,"Expected pending action"),A&&A.abort(),$e(k.navigation.location,{matches:Lt,loaderData:tn,errors:ii,fetchers:new Map(k.fetchers)})):(Ge({errors:ii,loaderData:o_(k.loaderData,tn,Lt,ii),fetchers:new Map(k.fetchers)}),D=!1)}async function ti(M,z,K,te,ce,Re,Ae,we,Se,de){let ye=k.fetchers.get(M);kn(M,zl(de,ye?ye.data:void 0),{flushSync:we});let ve=new AbortController,Ne=go(i.history,K,ve.signal);if(Ae){let at=await un(ce,K,Ne.signal,M);if(at.type==="aborted")return;if(at.type==="error"){mt(M,z,at.error,{flushSync:we});return}else if(at.matches)ce=at.matches,te=Hl(ce,K);else{mt(M,z,hr(404,{pathname:K}),{flushSync:we});return}}qe.set(M,ve);let st=ue,yt=(await ni("loader",Ne,[te],ce,Re,M))[te.route.id];if(qe.get(M)===ve&&qe.delete(M),!Ne.signal.aborted){if(ge.has(M)){kn(M,ma(void 0));return}if(ds(yt))if(Ie>st){kn(M,ma(void 0));return}else{Be.add(M),await Mn(Ne,yt,!1,{preventScrollReset:Se});return}if(Gn(yt)){mt(M,z,yt.error);return}kn(M,ma(yt.data))}}async function Mn(M,z,K,{submission:te,fetcherSubmission:ce,preventScrollReset:Re,replace:Ae}={}){z.response.headers.has("X-Remix-Revalidate")&&(D=!0);let we=z.response.headers.get("Location");Je(we,"Expected a Location header on the redirect Response"),we=i_(we,new URL(M.url),m);let Se=Wl(k.location,we,{_isRedirect:!0});if(n){let bt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))bt=!0;else if(Um.test(we)){const yt=i.history.createURL(we);bt=yt.origin!==e.location.origin||dr(yt.pathname,m)==null}if(bt){Ae?e.location.replace(we):e.location.assign(we);return}}A=null;let de=Ae===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ye,formAction:ve,formEncType:Ne}=k.navigation;!te&&!ce&&ye&&ve&&Ne&&(te=h_(k.navigation));let st=te||ce;if(zb.has(z.response.status)&&st&&wr(st.formMethod))await zt(de,Se,{submission:{...st,formAction:we},preventScrollReset:Re||O,enableViewTransition:K?b:void 0});else{let bt=$d(Se,te);await zt(de,Se,{overrideNavigation:bt,fetcherSubmission:ce,preventScrollReset:Re||O,enableViewTransition:K?b:void 0})}}async function ni(M,z,K,te,ce,Re){let Ae,we={};try{Ae=await Yb(g,M,z,K,te,Re,o,a,ce,y.unstable_middleware)}catch(Se){return K.forEach(de=>{we[de.route.id]={type:"error",error:Se}}),we}for(let[Se,de]of Object.entries(Ae))if(tA(de)){let ye=de.result;we[Se]={type:"redirect",response:Zb(ye,z,Se,te,m)}}else we[Se]=await Wb(de);return we}async function ji(M,z,K,te,ce){let Re=ni("loader",te,z,M,ce,null),Ae=Promise.all(K.map(async de=>{if(de.matches&&de.match&&de.controller){let ve=(await ni("loader",go(i.history,de.path,de.controller.signal),[de.match],de.matches,ce,de.key))[de.match.route.id];return{[de.key]:ve}}else return Promise.resolve({[de.key]:{type:"error",error:hr(404,{pathname:de.path})}})})),we=await Re,Se=(await Ae).reduce((de,ye)=>Object.assign(de,ye),{});return{loaderResults:we,fetcherResults:Se}}function Zt(){D=!0,x.forEach((M,z)=>{qe.has(z)&&St.add(z),xn(z)})}function kn(M,z,K={}){k.fetchers.set(M,z),Ge({fetchers:new Map(k.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function mt(M,z,K,te={}){let ce=fs(k.matches,z);Un(M),Ge({errors:{[ce.route.id]:K},fetchers:new Map(k.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Vt(M){return se.set(M,(se.get(M)||0)+1),ge.has(M)&&ge.delete(M),k.fetchers.get(M)||jb}function Un(M){let z=k.fetchers.get(M);qe.has(M)&&!(z&&z.state==="loading"&&Te.has(M))&&xn(M),x.delete(M),Te.delete(M),Be.delete(M),ge.delete(M),St.delete(M),k.fetchers.delete(M)}function Is(M){let z=(se.get(M)||0)-1;z<=0?(se.delete(M),ge.add(M)):se.set(M,z),Ge({fetchers:new Map(k.fetchers)})}function xn(M){let z=qe.get(M);z&&(z.abort(),qe.delete(M))}function Ds(M){for(let z of M){let K=Vt(z),te=ma(K.data);k.fetchers.set(z,te)}}function Nr(){let M=[],z=!1;for(let K of Be){let te=k.fetchers.get(K);Je(te,`Expected fetcher: ${K}`),te.state==="loading"&&(Be.delete(K),M.push(K),z=!0)}return Ds(M),z}function gr(M){let z=[];for(let[K,te]of Te)if(te<M){let ce=k.fetchers.get(K);Je(ce,`Expected fetcher: ${K}`),ce.state==="loading"&&(xn(K),Te.delete(K),z.push(K))}return Ds(z),z.length>0}function Jt(M,z){let K=k.blockers.get(M)||Ul;return fe.get(M)!==z&&fe.set(M,z),K}function Bi(M){k.blockers.delete(M),fe.delete(M)}function Rn(M,z){let K=k.blockers.get(M)||Ul;Je(K.state==="unblocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="proceeding"||K.state==="blocked"&&z.state==="unblocked"||K.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${z.state}`);let te=new Map(k.blockers);te.set(M,z),Ge({blockers:te})}function en({currentLocation:M,nextLocation:z,historyAction:K}){if(fe.size===0)return;fe.size>1&&yn(!1,"A router only supports one blocker at a time");let te=Array.from(fe.entries()),[ce,Re]=te[te.length-1],Ae=k.blockers.get(ce);if(!(Ae&&Ae.state==="proceeding")&&Re({currentLocation:M,nextLocation:z,historyAction:K}))return ce}function ri(M){let z=hr(404,{pathname:M}),K=f||u,{matches:te,route:ce}=u_(K);return{notFoundMatches:te,route:ce,error:z}}function Ns(M,z,K){if(R=M,L=z,N=K||null,!$&&k.navigation===Qd){$=!0;let te=pr(k.location,k.matches);te!=null&&Ge({restoreScrollPosition:te})}return()=>{R=null,L=null,N=null}}function La(M,z){return N&&N(M,z.map(te=>yb(te,k.loaderData)))||M.key}function Qn(M,z){if(R&&L){let K=La(M,z);R[K]=L()}}function pr(M,z){if(R){let K=La(M,z),te=R[K];if(typeof te=="number")return te}return null}function _n(M,z,K){if(i.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Bc(z,K,m,!0)}}else return{active:!0,matches:Bc(z,K,m,!0)||[]};return{active:!1,matches:null}}async function un(M,z,K,te){if(!i.patchRoutesOnNavigation)return{type:"success",matches:M};let ce=M;for(;;){let Re=f==null,Ae=f||u,we=o;try{await i.patchRoutesOnNavigation({signal:K,path:z,matches:ce,fetcherKey:te,patch:(ye,ve)=>{K.aborted||n_(ye,ve,Ae,we,a)}})}catch(ye){return{type:"error",error:ye,partialMatches:ce}}finally{Re&&!K.aborted&&(u=[...u])}if(K.aborted)return{type:"aborted"};let Se=ga(Ae,z,m);if(Se)return{type:"success",matches:Se};let de=Bc(Ae,z,m,!0);if(!de||ce.length===de.length&&ce.every((ye,ve)=>ye.route.id===de[ve].route.id))return{type:"success",matches:null};ce=de}}function Or(M){o={},f=eh(M,a,void 0,o)}function Hi(M,z){let K=f==null;n_(M,z,f||u,o,a),K&&(u=[...u],Ge({}))}return _e={get basename(){return m},get future(){return y},get state(){return k},get routes(){return u},get window(){return e},initialize:ze,subscribe:et,enableScrollRestoration:Ns,navigate:Wt,fetch:Ui,revalidate:mr,createHref:M=>i.history.createHref(M),encodeLocation:M=>i.history.encodeLocation(M),getFetcher:Vt,deleteFetcher:Is,dispose:Dt,getBlocker:Jt,deleteBlocker:Bi,patchRoutes:Hi,_internalFetchControllers:qe,_internalSetRoutes:Or},_e}function qb(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function lm(i,e,n,a,o,u){let f,m;if(o){f=[];for(let y of e)if(f.push(y),y.route.id===o){m=y;break}}else f=e,m=e[e.length-1];let g=km(a||".",Pm(f),dr(i.pathname,n)||i.pathname,u==="path");if(a==null&&(g.search=i.search,g.hash=i.hash),(a==null||a===""||a===".")&&m){let y=zm(g.search);if(m.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(N=>N).forEach(N=>E.append("index",N));let R=E.toString();g.search=R?`?${R}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Qr([n,g.pathname])),Ra(g)}function Zv(i,e,n){if(!n||!qb(n))return{path:e};if(n.formMethod&&!nA(n.formMethod))return{path:e,error:hr(405,{method:n.formMethod})};let a=()=>({path:e,error:hr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=W0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!wr(u))return a();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((R,[N,L])=>`${R}${N}=${L}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!wr(u))return a();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return a()}}}Je(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=hm(n.formData),g=n.formData;else if(n.body instanceof FormData)m=hm(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=a_(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=a_(m)}catch{return a()}let y={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(wr(y.formMethod))return{path:e,submission:y};let E=xa(e);return i&&E.search&&zm(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Ra(E),submission:y}}function Jv(i,e,n=!1){let a=i.findIndex(o=>o.route.id===e);return a>=0?i.slice(0,n?a+1:a):i}function e_(i,e,n,a,o,u,f,m,g,y,E,S,R,N){let L=N?Gn(N[1])?N[1].error:N[1].data:void 0,$=i.createURL(e.location),H=i.createURL(o),X=n;u&&e.errors?X=Jv(n,Object.keys(e.errors)[0],!0):N&&Gn(N[1])&&(X=Jv(n,N[0]));let ee=N?N[1].statusCode:void 0,ie=ee&&ee>=400,_e=X.filter((he,O)=>{let{route:A}=he;if(A.lazy)return!0;if(A.loader==null)return!1;if(u)return um(A,e.loaderData,e.errors);if(Fb(e.loaderData,e.matches[O],he))return!0;let b=e.matches[O],I=he;return t_(he,{currentUrl:$,currentParams:b.params,nextUrl:H,nextParams:I.params,...a,actionResult:L,actionStatus:ee,defaultShouldRevalidate:ie?!1:f||$.pathname+$.search===H.pathname+H.search||$.search!==H.search||Gb(b,I)})}),k=[];return y.forEach((he,O)=>{if(u||!n.some(j=>j.route.id===he.routeId)||g.has(O))return;let A=ga(S,he.path,R);if(!A){k.push({key:O,routeId:he.routeId,path:he.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(O),I=Hl(A,he.path),V=!1;E.has(O)?V=!1:m.has(O)?(m.delete(O),V=!0):b&&b.state!=="idle"&&b.data===void 0?V=f:V=t_(I,{currentUrl:$,currentParams:e.matches[e.matches.length-1].params,nextUrl:H,nextParams:n[n.length-1].params,...a,actionResult:L,actionStatus:ee,defaultShouldRevalidate:ie?!1:f}),V&&k.push({key:O,routeId:he.routeId,path:he.path,matches:A,match:I,controller:new AbortController})}),[_e,k]}function um(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let a=e!=null&&e[i.id]!==void 0,o=n!=null&&n[i.id]!==void 0;return!a&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!a&&!o}function Fb(i,e,n){let a=!e||n.route.id!==e.route.id,o=!i.hasOwnProperty(n.route.id);return a||o}function Gb(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function t_(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function n_(i,e,n,a,o){let u;if(i){let g=a[i];Je(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let f=e.filter(g=>!u.some(y=>Y0(g,y))),m=eh(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...m)}function Y0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>Y0(n,u))}):!1}async function Kb(i,e,n){if(!i.lazy)return;let a=await i.lazy();if(!i.lazy)return;let o=n[i.id];Je(o,"No route found in manifest");let u={};for(let f in a){let g=o[f]!==void 0&&f!=="hasErrorBoundary";yn(!g,`Route "${o.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!g&&!gb.has(f)&&(u[f]=a[f])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function r_(i){let e=i.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function Qb(i){return i.matches.some(e=>e.route.unstable_middleware)?$b(i,!1,()=>r_(i),e=>({[e.routeId]:{type:"error",result:e.error}})):r_(i)}async function $b(i,e,n,a){let{matches:o,request:u,params:f,context:m}=i,g={handlerResult:void 0,propagateResult:e};try{let y=o.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(R=>[S.route.id,R]):[]),E=await X0({request:u,params:f,context:m},y,g,n);return g.propagateResult?E:g.handlerResult}catch(y){if(!(y instanceof cm))throw y;let E=await a(y);return g.handlerResult?Object.assign(g.handlerResult,E):E}}var cm=class{constructor(i,e){this.routeId=i,this.error=e}};async function X0(i,e,n,a,o=0){let{request:u}=i;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=e[o];if(!f)return n.handlerResult=await a(),n.handlerResult;let[m,g]=f,y=!1,E,S=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0;let R=await X0(i,e,n,a,o+1);if(n.propagateResult)return E=R,E};try{let R=await g({request:i.request,params:i.params,context:i.context},S);return y?R===void 0?E:R:S()}catch(R){throw R instanceof cm?R:new cm(m,R)}}async function Yb(i,e,n,a,o,u,f,m,g,y){let E=o.map(N=>N.route.lazy?Kb(N.route,m,f):void 0);y&&await Promise.all(E);let S=o.map((N,L)=>{let $=E[L],H=a.some(ee=>ee.route.id===N.route.id);return{...N,shouldLoad:H,resolve:async ee=>(ee&&n.method==="GET"&&(N.route.lazy||N.route.loader)&&(H=!0),H?Xb(e,n,N,$,ee,g):Promise.resolve({type:"data",result:void 0}))}}),R=await i({matches:S,request:n,params:o[0].params,fetcherKey:u,context:g});try{await Promise.all(E)}catch{}return R}async function Xb(i,e,n,a,o,u){let f,m,g=y=>{let E,S=new Promise((L,$)=>E=$);m=()=>E(),e.signal.addEventListener("abort",m);let R=L=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):y({request:e,params:n.params,context:u},...L!==void 0?[L]:[]),N=(async()=>{try{return{type:"data",result:await(o?o($=>R($)):R())}}catch(L){return{type:"error",result:L}}})();return Promise.race([N,S])};try{let y=n.route[i];if(a)if(y){let E,[S]=await Promise.all([g(y).catch(R=>{E=R}),a]);if(E!==void 0)throw E;f=S}else if(await a,y=n.route[i],y)f=await g(y);else if(i==="action"){let E=new URL(e.url),S=E.pathname+E.search;throw hr(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0};else if(y)f=await g(y);else{let E=new URL(e.url),S=E.pathname+E.search;throw hr(404,{pathname:S})}}catch(y){return{type:"error",result:y}}finally{m&&e.signal.removeEventListener("abort",m)}return f}async function Wb(i){var a,o,u,f,m,g;let{result:e,type:n}=i;if(Z0(e)){let y;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(E){return{type:"error",error:E}}return n==="error"?{type:"error",error:new nh(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return n==="error"?c_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new nh(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Zl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Zl(e)?e.status:void 0}:c_(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Zb(i,e,n,a,o){let u=i.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Um.test(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=lm(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function i_(i,e,n){if(Um.test(i)){let a=i,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=dr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function go(i,e,n,a){let o=i.createURL(W0(e)).toString(),u={signal:n};if(a&&wr(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=hm(a.formData):u.body=a.formData}return new Request(o,u)}function hm(i){let e=new URLSearchParams;for(let[n,a]of i.entries())e.append(n,typeof a=="string"?a:a.name);return e}function a_(i){let e=new FormData;for(let[n,a]of i.entries())e.append(n,a);return e}function Jb(i,e,n,a=!1,o=!1){let u={},f=null,m,g=!1,y={},E=n&&Gn(n[1])?n[1].error:void 0;return i.forEach(S=>{if(!(S.route.id in e))return;let R=S.route.id,N=e[R];if(Je(!ds(N),"Cannot handle redirect results in processLoaderData"),Gn(N)){let L=N.error;if(E!==void 0&&(L=E,E=void 0),f=f||{},o)f[R]=L;else{let $=fs(i,R);f[$.route.id]==null&&(f[$.route.id]=L)}a||(u[R]=$0),g||(g=!0,m=Zl(N.error)?N.error.status:500),N.headers&&(y[R]=N.headers)}else u[R]=N.data,N.statusCode&&N.statusCode!==200&&!g&&(m=N.statusCode),N.headers&&(y[R]=N.headers)}),E!==void 0&&n&&(f={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:y}}function s_(i,e,n,a,o,u){let{loaderData:f,errors:m}=Jb(e,n,a);return o.forEach(g=>{let{key:y,match:E,controller:S}=g,R=u[y];if(Je(R,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Gn(R)){let N=fs(i.matches,E==null?void 0:E.route.id);m&&m[N.route.id]||(m={...m,[N.route.id]:R.error}),i.fetchers.delete(y)}else if(ds(R))Je(!1,"Unhandled fetcher revalidation redirect");else{let N=ma(R.data);i.fetchers.set(y,N)}}),{loaderData:f,errors:m}}function o_(i,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==$0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),a&&a.hasOwnProperty(f))break}return o}function l_(i){return i?Gn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function fs(i,e){return(e?i.slice(0,i.findIndex(a=>a.route.id===e)+1):[...i]).reverse().find(a=>a.route.hasErrorBoundary===!0)||i[0]}function u_(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(i,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new nh(i||500,f,new Error(m),!0)}function Mc(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ds(o))return{key:a,result:o}}}function W0(i){let e=typeof i=="string"?xa(i):i;return Ra({...e,hash:""})}function eA(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function tA(i){return Z0(i.result)&&Ub.has(i.result.status)}function Gn(i){return i.type==="error"}function ds(i){return(i&&i.type)==="redirect"}function c_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function Z0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function nA(i){return kb.has(i.toUpperCase())}function wr(i){return Lb.has(i.toUpperCase())}function zm(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Hl(i,e){let n=typeof e=="string"?xa(e).search:e.search;if(i[i.length-1].route.index&&zm(n||""))return i[i.length-1];let a=G0(i);return a[a.length-1]}function h_(i){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=i;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function $d(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rA(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iA(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ma(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function aA(i,e){try{let n=i.sessionStorage.getItem(Q0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function sA(i,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{i.sessionStorage.setItem(Q0,JSON.stringify(n))}catch(a){yn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function oA(){let i,e,n=new Promise((a,o)=>{i=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var ws=Q.createContext(null);ws.displayName="DataRouter";var ou=Q.createContext(null);ou.displayName="DataRouterState";var jm=Q.createContext({isTransitioning:!1});jm.displayName="ViewTransition";var J0=Q.createContext(new Map);J0.displayName="Fetchers";var lA=Q.createContext(null);lA.displayName="Await";var ei=Q.createContext(null);ei.displayName="Navigation";var Sh=Q.createContext(null);Sh.displayName="Location";var Pi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Bm=Q.createContext(null);Bm.displayName="RouteError";function uA(i,{relative:e}={}){Je(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Q.useContext(ei),{hash:o,pathname:u,search:f}=uu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function lu(){return Q.useContext(Sh)!=null}function Ss(){return Je(lu(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Sh).location}var eE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tE(i){Q.useContext(ei).static||Q.useLayoutEffect(i)}function Hm(){let{isDataRoute:i}=Q.useContext(Pi);return i?wA():cA()}function cA(){Je(lu(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(ws),{basename:e,navigator:n}=Q.useContext(ei),{matches:a}=Q.useContext(Pi),{pathname:o}=Ss(),u=JSON.stringify(Pm(a)),f=Q.useRef(!1);return tE(()=>{f.current=!0}),Q.useCallback((g,y={})=>{if(yn(f.current,eE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=km(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}Q.createContext(null);function uu(i,{relative:e}={}){let{matches:n}=Q.useContext(Pi),{pathname:a}=Ss(),o=JSON.stringify(Pm(n));return Q.useMemo(()=>km(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function hA(i,e,n,a){Je(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Q.useContext(ei),{matches:f}=Q.useContext(Pi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ee=S&&S.path||"";nE(y,!S||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let R=Ss(),N;N=R;let L=N.pathname||"/",$=L;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");$="/"+L.replace(/^\//,"").split("/").slice(ee.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:ga(i,{pathname:$});return yn(S||H!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),yn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pA(H&&H.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:Qr([E,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Qr([E,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,a)}function fA(){let i=TA(),e=Zl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,f)}var dA=Q.createElement(fA,null),mA=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Q.createElement(Pi.Provider,{value:this.props.routeContext},Q.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gA({routeContext:i,match:e,children:n}){let a=Q.useContext(ws);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Pi.Provider,{value:i},n)}function pA(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:S}=n,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let S,R=!1,N=null,L=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||dA,f&&(m<0&&E===0?(nE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===E&&(R=!0,L=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),H=()=>{let X;return S?X=N:R?X=L:y.route.Component?X=Q.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=g,Q.createElement(gA,{match:y,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:X})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(mA,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:H(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):H()},null)}function qm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yA(i){let e=Q.useContext(ws);return Je(e,qm(i)),e}function vA(i){let e=Q.useContext(ou);return Je(e,qm(i)),e}function _A(i){let e=Q.useContext(Pi);return Je(e,qm(i)),e}function Fm(i){let e=_A(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function EA(){return Fm("useRouteId")}function TA(){var a;let i=Q.useContext(Bm),e=vA("useRouteError"),n=Fm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function wA(){let{router:i}=yA("useNavigate"),e=Fm("useNavigate"),n=Q.useRef(!1);return tE(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{yn(n.current,eE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var f_={};function nE(i,e,n){!e&&!f_[i]&&(f_[i]=!0,yn(!1,n))}var d_={};function m_(i,e){!i&&!d_[e]&&(d_[e]=!0,console.warn(e))}function SA(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&yn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Q.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&yn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Q.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&yn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Q.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var bA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function AA({router:i,flushSync:e}){let[n,a]=Q.useState(i.state),[o,u]=Q.useState(),[f,m]=Q.useState({isTransitioning:!1}),[g,y]=Q.useState(),[E,S]=Q.useState(),[R,N]=Q.useState(),L=Q.useRef(new Map),$=Q.useCallback((ie,{deletedFetchers:_e,flushSync:k,viewTransitionOpts:he})=>{ie.fetchers.forEach((A,b)=>{A.data!==void 0&&L.current.set(b,A.data)}),_e.forEach(A=>L.current.delete(A)),m_(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(m_(he==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!he||!O){e&&k?e(()=>a(ie)):Q.startTransition(()=>a(ie));return}if(e&&k){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:he.currentLocation,nextLocation:he.nextLocation})});let A=i.window.document.startViewTransition(()=>{e(()=>a(ie))});A.finished.finally(()=>{e(()=>{y(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>S(A));return}E?(g&&g.resolve(),E.skipTransition(),N({state:ie,currentLocation:he.currentLocation,nextLocation:he.nextLocation})):(u(ie),m({isTransitioning:!0,flushSync:!1,currentLocation:he.currentLocation,nextLocation:he.nextLocation}))},[i.window,e,E,g]);Q.useLayoutEffect(()=>i.subscribe($),[i,$]),Q.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new bA)},[f]),Q.useEffect(()=>{if(g&&o&&i.window){let ie=o,_e=g.promise,k=i.window.document.startViewTransition(async()=>{Q.startTransition(()=>a(ie)),await _e});k.finished.finally(()=>{y(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(k)}},[o,g,i.window]),Q.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,E,n.location,o]),Q.useEffect(()=>{!f.isTransitioning&&R&&(u(R.state),m({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),N(void 0))},[f.isTransitioning,R]);let H=Q.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ie=>i.navigate(ie),push:(ie,_e,k)=>i.navigate(ie,{state:_e,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(ie,_e,k)=>i.navigate(ie,{replace:!0,state:_e,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[i]),X=i.basename||"/",ee=Q.useMemo(()=>({router:i,navigator:H,static:!1,basename:X}),[i,H,X]);return Q.createElement(Q.Fragment,null,Q.createElement(ws.Provider,{value:ee},Q.createElement(ou.Provider,{value:n},Q.createElement(J0.Provider,{value:L.current},Q.createElement(jm.Provider,{value:f},Q.createElement(IA,{basename:X,location:n.location,navigationType:n.historyAction,navigator:H},Q.createElement(RA,{routes:i.routes,future:i.future,state:n})))))),null)}var RA=Q.memo(CA);function CA({routes:i,future:e,state:n}){return hA(i,void 0,n,e)}function IA({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Je(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=xa(n));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:R="default"}=n,N=Q.useMemo(()=>{let L=dr(g,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:S,key:R},navigationType:a}},[f,g,y,E,S,R,a]);return yn(N!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Q.createElement(ei.Provider,{value:m},Q.createElement(Sh.Provider,{children:e,value:N}))}var Hc="get",qc="application/x-www-form-urlencoded";function bh(i){return i!=null&&typeof i.tagName=="string"}function DA(i){return bh(i)&&i.tagName.toLowerCase()==="button"}function NA(i){return bh(i)&&i.tagName.toLowerCase()==="form"}function OA(i){return bh(i)&&i.tagName.toLowerCase()==="input"}function MA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function xA(i,e){return i.button===0&&(!e||e==="_self")&&!MA(i)}var xc=null;function VA(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var LA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(i){return i!=null&&!LA.has(i)?(yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qc}"`),null):i}function PA(i,e){let n,a,o,u,f;if(NA(i)){let m=i.getAttribute("action");a=m?dr(m,e):null,n=i.getAttribute("method")||Hc,o=Yd(i.getAttribute("enctype"))||qc,u=new FormData(i)}else if(DA(i)||OA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?dr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=Yd(i.getAttribute("formenctype"))||Yd(m.getAttribute("enctype"))||qc,u=new FormData(m,i),!VA()){let{name:y,type:E,value:S}=i;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,S)}}else{if(bh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,a=null,o=qc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Gm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function kA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function zA(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await kA(u,n);return f.links?f.links():[]}return[]}));return qA(a.flat(1).filter(UA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function g_(i,e,n,a,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var S;let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function jA(i,e,{includeHydrateFallback:n}={}){return BA(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function BA(i){return[...new Set(i)]}function HA(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function qA(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(HA(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function FA(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&dr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function rE(){let i=Q.useContext(ws);return Gm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function GA(){let i=Q.useContext(ou);return Gm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Km=Q.createContext(void 0);Km.displayName="FrameworkContext";function iE(){let i=Q.useContext(Km);return Gm(i,"You must render this element inside a <HydratedRouter> element"),i}function KA(i,e){let n=Q.useContext(Km),[a,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,R=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=X=>{X.forEach(ee=>{f(ee.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[i]),Q.useEffect(()=>{if(a){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[a]);let N=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:jl(m,N),onBlur:jl(g,L),onMouseEnter:jl(y,N),onMouseLeave:jl(E,L),onTouchStart:jl(S,N)}]:[!1,R,{}]}function jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function QA({page:i,...e}){let{router:n}=rE(),a=Q.useMemo(()=>ga(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?Q.createElement(YA,{page:i,matches:a,...e}):null}function $A(i){let{manifest:e,routeModules:n}=iE(),[a,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return zA(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function YA({page:i,matches:e,...n}){let a=Ss(),{manifest:o,routeModules:u}=iE(),{basename:f}=rE(),{loaderData:m,matches:g}=GA(),y=Q.useMemo(()=>g_(i,e,g,o,a,"data"),[i,e,g,o,a]),E=Q.useMemo(()=>g_(i,e,g,o,a,"assets"),[i,e,g,o,a]),S=Q.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let L=new Set,$=!1;if(e.forEach(X=>{var ie;let ee=o.routes[X.route.id];!ee||!ee.hasLoader||(!y.some(_e=>_e.route.id===X.route.id)&&X.route.id in m&&((ie=u[X.route.id])!=null&&ie.shouldRevalidate)||ee.hasClientLoader?$=!0:L.add(X.route.id))}),L.size===0)return[];let H=FA(i,f);return $&&L.size>0&&H.searchParams.set("_routes",e.filter(X=>L.has(X.route.id)).map(X=>X.route.id).join(",")),[H.pathname+H.search]},[f,m,a,o,y,e,i,u]),R=Q.useMemo(()=>jA(E,o),[E,o]),N=$A(E);return Q.createElement(Q.Fragment,null,S.map(L=>Q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),R.map(L=>Q.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),N.map(({key:L,link:$})=>Q.createElement("link",{key:L,...$})))}function XA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aE&&(window.__reactRouterVersion="7.3.0")}catch{}function WA(i,e){return Hb({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:fb({window:e==null?void 0:e.window}),hydrationData:ZA(),routes:i,mapRouteProperties:SA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function ZA(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:JA(i.errors)}),i}function JA(i){if(!i)return null;let e=Object.entries(i),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new nh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var sE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oE=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...R},N){let{basename:L}=Q.useContext(ei),$=typeof y=="string"&&sE.test(y),H,X=!1;if(typeof y=="string"&&$&&(H=y,aE))try{let b=new URL(window.location.href),I=y.startsWith("//")?new URL(b.protocol+y):new URL(y),V=dr(I.pathname,L);I.origin===b.origin&&V!=null?y=V+I.search+I.hash:X=!0}catch{yn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=uA(y,{relative:o}),[ie,_e,k]=KA(a,R),he=rR(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function O(b){e&&e(b),b.defaultPrevented||he(b)}let A=Q.createElement("a",{...R,...k,href:H||ee,onClick:X||u?e:O,ref:XA(N,_e),target:g,"data-discover":!$&&n==="render"?"true":void 0});return ie&&!$?Q.createElement(Q.Fragment,null,A,Q.createElement(QA,{page:ee})):A});oE.displayName="Link";var eR=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=uu(f,{relative:y.relative}),R=Ss(),N=Q.useContext(ou),{navigator:L,basename:$}=Q.useContext(ei),H=N!=null&&lR(S)&&m===!0,X=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,ee=R.pathname,ie=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),ie=ie?ie.toLowerCase():null,X=X.toLowerCase()),ie&&$&&(ie=dr(ie,$)||ie);const _e=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let k=ee===X||!o&&ee.startsWith(X)&&ee.charAt(_e)==="/",he=ie!=null&&(ie===X||!o&&ie.startsWith(X)&&ie.charAt(X.length)==="/"),O={isActive:k,isPending:he,isTransitioning:H},A=k?e:void 0,b;typeof a=="function"?b=a(O):b=[a,k?"active":null,he?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return Q.createElement(oE,{...y,"aria-current":A,className:b,ref:E,style:I,to:f,viewTransition:m},typeof g=="function"?g(O):g)});eR.displayName="NavLink";var tR=Q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Hc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...R},N)=>{let L=sR(),$=oR(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&sE.test(m),ee=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let _e=ie.nativeEvent.submitter,k=(_e==null?void 0:_e.getAttribute("formmethod"))||f;L(_e||ie.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return Q.createElement("form",{ref:N,method:H,action:$,onSubmit:a?g:ee,...R,"data-discover":!X&&i==="render"?"true":void 0})});tR.displayName="Form";function nR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lE(i){let e=Q.useContext(ws);return Je(e,nR(i)),e}function rR(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Hm(),g=Ss(),y=uu(i,{relative:u});return Q.useCallback(E=>{if(xA(E,e)){E.preventDefault();let S=n!==void 0?n:Ra(g)===Ra(y);m(i,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,a,e,i,o,u,f])}var iR=0,aR=()=>`__${String(++iR)}__`;function sR(){let{router:i}=lE("useSubmit"),{basename:e}=Q.useContext(ei),n=EA();return Q.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=PA(a,e);if(o.navigate===!1){let E=o.fetcherKey||aR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function oR(i,{relative:e}={}){let{basename:n}=Q.useContext(ei),a=Q.useContext(Pi);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...uu(i||".",{relative:e})},f=Ss();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qr([n,u.pathname])),Ra(u)}function lR(i,e={}){let n=Q.useContext(jm);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=lE("useViewTransitionState"),o=uu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return th(o.pathname,f)!=null||th(o.pathname,u)!=null}new TextEncoder;var uR=B0();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cR(i){return Q.createElement(AA,{flushSync:uR.flushSync,...i})}function xo(i){return Z.jsx("section",{...i,children:i.children})}function hR(){return Z.jsx(xo,{className:"w-full h-full",children:Z.jsxs("div",{className:"flex flex-col items-center justify-center h-full mx-10 md:mx-44 lg:mx-52",children:[Z.jsx("h1",{className:"text-4xl font-bold",children:"TwoNotes"}),Z.jsx("p",{className:"text-lg my-4 text-center",children:"Esta aplicacin fue desarrollado de manera experimental para mejorarle la vida a los estudiantes ;)"}),Z.jsx("a",{href:"/dashboard",className:"btn btn-primary",children:"Iniciar"})]})})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},dR=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,N=y&63;g||(N=64,f||(R=64)),a.push(n[E],n[S],n[R],n[N])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(uE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):dR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new mR;const R=u<<2|m>>4;if(a.push(R),y!==64){const N=m<<4&240|y>>2;if(a.push(N),S!==64){const L=y<<6&192|S;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class mR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gR=function(i){const e=uE(i);return cE.encodeByteArray(e,!0)},rh=function(i){return gR(i).replace(/\./g,"")},hE=function(i){try{return cE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=()=>pR().__FIREBASE_DEFAULTS__,vR=()=>{if(typeof process>"u"||typeof p_>"u")return;const i=p_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},_R=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&hE(i[1]);return e&&JSON.parse(e)},Ah=()=>{try{return fR()||yR()||vR()||_R()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},fE=i=>{var e,n;return(n=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},ER=i=>{const e=fE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},dE=()=>{var i;return(i=Ah())===null||i===void 0?void 0:i.config},mE=i=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[rh(JSON.stringify(n)),rh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function bR(){var i;const e=(i=Ah())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function CR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IR(){const i=An();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function DR(){return!bR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="FirebaseError";class ki extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=MR,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?xR(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ki(o,m,a)}}function xR(i,e){return i.replace(VR,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const VR=/\{\$([^}]+)}/g;function LR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ys(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(y_(u)&&y_(f)){if(!ys(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function y_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function PR(i,e){const n=new kR(i,e);return n.subscribe.bind(n)}class kR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");UR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Xd),o.error===void 0&&(o.error=Xd),o.complete===void 0&&(o.complete=Xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(i){return i&&i._delegate?i._delegate:i}class vs{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new TR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BR(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:jR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jR(i){return i===hs?void 0:i}function BR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const qR={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},FR=Ye.INFO,GR={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},KR=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=GR[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=KR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const QR=(i,e)=>e.some(n=>i instanceof n);let v_,__;function $R(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YR(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,fm=new WeakMap,pE=new WeakMap,Wd=new WeakMap,$m=new WeakMap;function XR(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Ea(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&gE.set(n,i)}).catch(()=>{}),$m.set(e,i),e}function WR(i){if(fm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});fm.set(i,e)}let dm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return fm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||pE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ea(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function ZR(i){dm=i(dm)}function JR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Zd(this),e,...n);return pE.set(a,e.sort?e.sort():[e]),Ea(a)}:YR().includes(i)?function(...e){return i.apply(Zd(this),e),Ea(gE.get(this))}:function(...e){return Ea(i.apply(Zd(this),e))}}function e1(i){return typeof i=="function"?JR(i):(i instanceof IDBTransaction&&WR(i),QR(i,$R())?new Proxy(i,dm):i)}function Ea(i){if(i instanceof IDBRequest)return XR(i);if(Wd.has(i))return Wd.get(i);const e=e1(i);return e!==i&&(Wd.set(i,e),$m.set(e,i)),e}const Zd=i=>$m.get(i);function t1(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Ea(f);return a&&f.addEventListener("upgradeneeded",g=>{a(Ea(f.result),g.oldVersion,g.newVersion,Ea(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const n1=["get","getKey","getAll","getAllKeys","count"],r1=["put","add","delete","clear"],Jd=new Map;function E_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=r1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||n1.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Jd.set(e,u),u}ZR(i=>({...i,get:(e,n,a)=>E_(e,n)||i.get(e,n,a),has:(e,n)=>!!E_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function a1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mm="@firebase/app",T_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Qm("@firebase/app"),s1="@firebase/app-compat",o1="@firebase/analytics-compat",l1="@firebase/analytics",u1="@firebase/app-check-compat",c1="@firebase/app-check",h1="@firebase/auth",f1="@firebase/auth-compat",d1="@firebase/database",m1="@firebase/data-connect",g1="@firebase/database-compat",p1="@firebase/functions",y1="@firebase/functions-compat",v1="@firebase/installations",_1="@firebase/installations-compat",E1="@firebase/messaging",T1="@firebase/messaging-compat",w1="@firebase/performance",S1="@firebase/performance-compat",b1="@firebase/remote-config",A1="@firebase/remote-config-compat",R1="@firebase/storage",C1="@firebase/storage-compat",I1="@firebase/firestore",D1="@firebase/vertexai",N1="@firebase/firestore-compat",O1="firebase",M1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",x1={[mm]:"fire-core",[s1]:"fire-core-compat",[l1]:"fire-analytics",[o1]:"fire-analytics-compat",[c1]:"fire-app-check",[u1]:"fire-app-check-compat",[h1]:"fire-auth",[f1]:"fire-auth-compat",[d1]:"fire-rtdb",[m1]:"fire-data-connect",[g1]:"fire-rtdb-compat",[p1]:"fire-fn",[y1]:"fire-fn-compat",[v1]:"fire-iid",[_1]:"fire-iid-compat",[E1]:"fire-fcm",[T1]:"fire-fcm-compat",[w1]:"fire-perf",[S1]:"fire-perf-compat",[b1]:"fire-rc",[A1]:"fire-rc-compat",[R1]:"fire-gcs",[C1]:"fire-gcs-compat",[I1]:"fire-fst",[N1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,V1=new Map,pm=new Map;function w_(i,e){try{i.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bo(i){const e=i.name;if(pm.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,i);for(const n of ih.values())w_(n,i);for(const n of V1.values())w_(n,i);return!0}function Ym(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Sr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new cu("app","Firebase",L1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=M1;function yE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:gm,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Ta.create("bad-app-name",{appName:String(o)});if(n||(n=dE()),!n)throw Ta.create("no-options");const u=ih.get(o);if(u){if(ys(n,u.options)&&ys(a,u.config))return u;throw Ta.create("duplicate-app",{appName:o})}const f=new HR(o);for(const g of pm.values())f.addComponent(g);const m=new P1(n,a,f);return ih.set(o,m),m}function vE(i=gm){const e=ih.get(i);if(!e&&i===gm&&dE())return yE();if(!e)throw Ta.create("no-app",{appName:i});return e}function wa(i,e,n){var a;let o=(a=x1[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(m.join(" "));return}bo(new vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="firebase-heartbeat-database",U1=1,Jl="firebase-heartbeat-store";let em=null;function _E(){return em||(em=t1(k1,U1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ta.create("idb-open",{originalErrorMessage:i.message})})),em}async function z1(i){try{const n=(await _E()).transaction(Jl),a=await n.objectStore(Jl).get(EE(i));return await n.done,a}catch(e){if(e instanceof ki)Mi.warn(e.message);else{const n=Ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function S_(i,e){try{const a=(await _E()).transaction(Jl,"readwrite");await a.objectStore(Jl).put(e,EE(i)),await a.done}catch(n){if(n instanceof ki)Mi.warn(n.message);else{const a=Ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(a.message)}}}function EE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=1024,B1=30;class H1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=b_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>B1){const f=G1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:a,unsentEntries:o}=q1(this._heartbeatsCache.heartbeats),u=rh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Mi.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function q1(i,e=j1){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),A_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),A_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class F1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function A_(i){return rh(JSON.stringify({version:2,heartbeats:i})).length}function G1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(i){bo(new vs("platform-logger",e=>new i1(e),"PRIVATE")),bo(new vs("heartbeat",e=>new H1(e),"PRIVATE")),wa(mm,T_,i),wa(mm,T_,"esm2017"),wa("fire-js","")}K1("");function Xm(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q1=TE,wE=new cu("auth","Firebase",TE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Qm("@firebase/auth");function $1(i,...e){ah.logLevel<=Ye.WARN&&ah.warn(`Auth (${Vo}): ${i}`,...e)}function Fc(i,...e){ah.logLevel<=Ye.ERROR&&ah.error(`Auth (${Vo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(i,...e){throw Zm(i,...e)}function Ar(i,...e){return Zm(i,...e)}function Wm(i,e,n){const a=Object.assign(Object.assign({},Q1()),{[e]:n});return new cu("auth","Firebase",a).create(e,{appName:i.name})}function ps(i){return Wm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y1(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Wr(i,"argument-error"),Wm(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zm(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return wE.create(i,...e)}function Le(i,e,...n){if(!i)throw Zm(e,...n)}function Ii(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Fc(e),new Error(e)}function xi(i,e){i||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function X1(){return R_()==="http:"||R_()==="https:"}function R_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X1()||RR()||"connection"in navigator)?navigator.onLine:!0}function Z1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=SR()||CR()}get(){return W1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(i,e){xi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new fu(3e4,6e4);function eg(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Lo(i,e,n,a,o={}){return bE(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=hu(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:g},u);return AR()||(y.referrerPolicy="no-referrer"),SE.fetch()(AE(i,i.config.apiHost,n,m),y)})}async function bE(i,e,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},J1),e);try{const o=new nC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Vc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Vc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Vc(i,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Wm(i,E,y);Wr(i,E)}}catch(o){if(o instanceof ki)throw o;Wr(i,"network-request-failed",{message:String(o)})}}async function tC(i,e,n,a,o={}){const u=await Lo(i,e,n,a,o);return"mfaPendingCredential"in u&&Wr(i,"multi-factor-auth-required",{_serverResponse:u}),u}function AE(i,e,n,a){const o=`${e}${n}?${a}`;return i.config.emulator?Jm(i.config,o):`${i.config.apiScheme}://${o}`}class nC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ar(this.auth,"network-request-failed")),eC.get())})}}function Vc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Ar(i,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(i,e){return Lo(i,"POST","/v1/accounts:delete",e)}async function RE(i,e){return Lo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iC(i,e=!1){const n=Cr(i),a=await n.getIdToken(e),o=tg(a);Le(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Kl(tm(o.auth_time)),issuedAtTime:Kl(tm(o.iat)),expirationTime:Kl(tm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function tm(i){return Number(i)*1e3}function tg(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=hE(n);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function C_(i){const e=tg(i);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ki&&aC(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function aC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(i){var e;const n=i.auth,a=await i.getIdToken(),o=await eu(i,RE(n,{idToken:a}));Le(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?CE(u.providerUserInfo):[],m=lC(i.providerData,f),g=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new vm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function oC(i){const e=Cr(i);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lC(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function CE(i){return i.map(e=>{var{providerId:n}=e,a=Xm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(i,e){const n=await bE(i,{},async()=>{const a=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=AE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",SE.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cC(i,e){return Lo(i,"POST","/v2/accounts:revokeToken",eg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=C_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await uC(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Eo;return a&&(Le(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Le(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Le(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(i,e){Le(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=Xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iC(this,e)}reload(){return oC(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await eu(this,rC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,g,y,E;const S=(a=n.displayName)!==null&&a!==void 0?a:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,X=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ie,emailVerified:_e,isAnonymous:k,providerData:he,stsTokenManager:O}=n;Le(ie&&O,e,"internal-error");const A=Eo.fromJSON(this.name,O);Le(typeof ie=="string",e,"internal-error"),da(S,e.name),da(R,e.name),Le(typeof _e=="boolean",e,"internal-error"),Le(typeof k=="boolean",e,"internal-error"),da(N,e.name),da(L,e.name),da($,e.name),da(H,e.name),da(X,e.name),da(ee,e.name);const b=new Di({uid:ie,auth:e,email:R,emailVerified:_e,displayName:S,isAnonymous:k,photoURL:L,phoneNumber:N,tenantId:$,stsTokenManager:A,createdAt:X,lastLoginAt:ee});return he&&Array.isArray(he)&&(b.providerData=he.map(I=>Object.assign({},I))),H&&(b._redirectEventId=H),b}static async _fromIdTokenResponse(e,n,a=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new Di({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Le(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Eo;m.updateFromIdToken(a);const g=new Di({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function Ni(i){xi(i instanceof Function,"Expected a class definition");let e=I_.get(i);return e?(xi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,I_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IE.type="NONE";const D_=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(i,e,n){return`firebase:${i}:${e}:${n}`}class To{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new To(Ni(D_),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ni(D_);const f=Gc(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const S=Di._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new To(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new To(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VE(e))return"Blackberry";if(LE(e))return"Webos";if(NE(e))return"Safari";if((e.includes("chrome/")||OE(e))&&!e.includes("edge/"))return"Chrome";if(xE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function DE(i=An()){return/firefox\//i.test(i)}function NE(i=An()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OE(i=An()){return/crios\//i.test(i)}function ME(i=An()){return/iemobile/i.test(i)}function xE(i=An()){return/android/i.test(i)}function VE(i=An()){return/blackberry/i.test(i)}function LE(i=An()){return/webos/i.test(i)}function ng(i=An()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function hC(i=An()){var e;return ng(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fC(){return IR()&&document.documentMode===10}function PE(i=An()){return ng(i)||xE(i)||LE(i)||VE(i)||/windows phone/i.test(i)||ME(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(i,e=[]){let n;switch(i){case"Browser":n=N_(An());break;case"Worker":n=`${N_(An())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(i,e={}){return Lo(i,"GET","/v2/passwordPolicy",eg(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=6;class pC{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:gC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await RE(this,{idToken:e}),a=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sr(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(ps(this));const n=e?Cr(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mC(this),n=new pC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await cC(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rh(i){return Cr(i)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PR(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(i){rg=i}function _C(i){return rg.loadJS(i)}function EC(){return rg.gapiScript}function TC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(i,e){const n=Ym(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ys(u,e??{}))return o;Wr(o,"already-initialized")}return n.initialize({options:e})}function SC(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ni);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function bC(i,e,n){const a=Rh(i);Le(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=UE(e),{host:f,port:m}=AC(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Le(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Le(ys(y,a.config.emulator)&&ys(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,RC()}function UE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function AC(i){const e=UE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:M_(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:M_(f)}}}function M_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function RC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i,e){return tC(i,"POST","/v1/accounts:signInWithIdp",eg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="http://localhost";class _s extends zE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=Xm(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new _s(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,wo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:CC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends du{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ci.credential(n,a)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends du{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.GITHUB_SIGN_IN_METHOD="github.com";ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends du{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return va.credential(n,a)}catch{return null}}}va.TWITTER_SIGN_IN_METHOD="twitter.com";va.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Di._fromIdTokenResponse(e,a,o),f=x_(a);return new Ao({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=x_(a);return new Ao({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function x_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends ki{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new oh(e,n,a,o)}}function jE(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(i,u,e,a):u})}async function IC(i,e,n=!1){const a=await eu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ao._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(i,e,n=!1){const{auth:a}=i;if(Sr(a.app))return Promise.reject(ps(a));const o="reauthenticate";try{const u=await eu(i,jE(a,o,e,i),n);Le(u.idToken,a,"internal-error");const f=tg(u.idToken);Le(f,a,"internal-error");const{sub:m}=f;return Le(i.uid===m,a,"user-mismatch"),Ao._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(i,e,n=!1){if(Sr(i.app))return Promise.reject(ps(i));const a="signIn",o=await jE(i,a,e),u=await Ao._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}function OC(i,e,n,a){return Cr(i).onIdTokenChanged(e,n,a)}function MC(i,e,n){return Cr(i).beforeAuthStateChanged(e,n)}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1e3,VC=10;class HE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);fC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VC):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HE.type="LOCAL";const LC=HE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qE.type="SESSION";const FE=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Ch(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await PC(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=ag("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function UC(i){$r().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function zC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function BC(){return GE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebaseLocalStorageDb",HC=1,uh="firebaseLocalStorage",QE="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(i,e){return i.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function qC(){const i=indexedDB.deleteDatabase(KE);return new mu(i).toPromise()}function _m(){const i=indexedDB.open(KE,HC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(uh,{keyPath:QE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(uh)?e(a):(a.close(),await qC(),e(await _m()))})})}async function V_(i,e,n){const a=Ih(i,!0).put({[QE]:e,value:n});return new mu(a).toPromise()}async function FC(i,e){const n=Ih(i,!1).get(e),a=await new mu(n).toPromise();return a===void 0?null:a.value}function L_(i,e){const n=Ih(i,!0).delete(e);return new mu(n).toPromise()}const GC=800,KC=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>KC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(BC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zC(),!this.activeServiceWorker)return;this.sender=new kC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await V_(e,lh,"1"),await L_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>V_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>FC(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ih(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const QC=$E;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i,e){return e?Ni(e):(Le(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends zE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $C(i){return NC(i.auth,new sg(i),i.bypassAuthState)}function YC(i){const{auth:e,user:n}=i;return Le(n,e,"internal-error"),DC(n,new sg(i),i.bypassAuthState)}async function XC(i){const{auth:e,user:n}=i;return Le(n,e,"internal-error"),IC(n,new sg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $C;case"linkViaPopup":case"linkViaRedirect":return XC;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:Wr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new fu(2e3,1e4);async function ZC(i,e,n){if(Sr(i.app))return Promise.reject(Ar(i,"operation-not-supported-in-this-environment"));const a=Rh(i);Y1(i,e,ig);const o=YE(a,n);return new ms(a,"signInViaPopup",e,o).executeNotNull()}class ms extends XE{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WC.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="pendingRedirect",Kc=new Map;class eI extends XE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const a=await tI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tI(i,e){const n=iI(e),a=rI(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function nI(i,e){Kc.set(i._key(),e)}function rI(i){return Ni(i._redirectPersistence)}function iI(i){return Gc(JC,i.config.apiKey,i.name)}async function aI(i,e,n=!1){if(Sr(i.app))return Promise.reject(ps(i));const a=Rh(i),o=YE(a,e),f=await new eI(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=10*60*1e3;class oI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!WE(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sI&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function WE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(i,e={}){return Lo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hI=/^https?/;async function fI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await uI(i);for(const n of e)try{if(dI(n))return}catch{}Wr(i,"unauthorized-domain")}function dI(i){const e=ym(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!hI.test(n))return!1;if(cI.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new fu(3e4,6e4);function k_(){const i=$r().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function gI(i){return new Promise((e,n)=>{var a,o,u;function f(){k_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k_(),n(Ar(i,"network-request-failed"))},timeout:mI.get()})}if(!((o=(a=$r().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=$r().gapi)===null||u===void 0)&&u.load)f();else{const m=TC("iframefcb");return $r()[m]=()=>{gapi.load?f():n(Ar(i,"network-request-failed"))},_C(`${EC()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function pI(i){return Qc=Qc||gI(i),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=new fu(5e3,15e3),vI="__/auth/iframe",_I="emulator/auth/iframe",EI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wI(i){const e=i.config;Le(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Jm(e,_I):`https://${i.config.authDomain}/${vI}`,a={apiKey:e.apiKey,appName:i.name,v:Vo},o=TI.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${hu(a).slice(1)}`}async function SI(i){const e=await pI(i),n=$r().gapi;return Le(n,i,"internal-error"),e.open({where:document.body,url:wI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Ar(i,"network-request-failed"),m=$r().setTimeout(()=>{u(f)},yI.get());function g(){$r().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AI=500,RI=600,CI="_blank",II="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DI(i,e,n,a=AI,o=RI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},bI),{width:a.toString(),height:o.toString(),top:u,left:f}),y=An().toLowerCase();n&&(m=OE(y)?CI:n),DE(y)&&(e=e||II,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[N,L])=>`${R}${N}=${L},`,"");if(hC(y)&&m!=="_self")return NI(e||"",m),new U_(null);const S=window.open(e||"",m,E);Le(S,i,"popup-blocked");try{S.focus()}catch{}return new U_(S)}function NI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="__/auth/handler",MI="emulator/auth/handler",xI=encodeURIComponent("fac");async function z_(i,e,n,a,o,u){Le(i.config.authDomain,i,"auth-domain-config-required"),Le(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Vo,eventId:o};if(e instanceof ig){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",LR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof du){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),y=g?`#${xI}=${encodeURIComponent(g)}`:"";return`${VI(i)}?${hu(m).slice(1)}${y}`}function VI({config:i}){return i.emulator?Jm(i,MI):`https://${i.authDomain}/${OI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class LI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=aI,this._overrideRedirectResult=nI}async _openPopup(e,n,a,o){var u;xi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await z_(e,n,a,ym(),o);return DI(e,f,ag())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await z_(e,n,a,ym(),o);return UC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await SI(e),a=new oI(e);return n.register("authEvent",o=>(Le(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[nm];f!==void 0&&n(!!f),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||NE()||ng()}}const PI=LI;var j_="@firebase/auth",B_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zI(i){bo(new vs("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Le(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kE(i)},y=new yC(a,o,u,g);return SC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),bo(new vs("auth-internal",e=>{const n=Rh(e.getProvider("auth").getImmediate());return(a=>new kI(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wa(j_,B_,UI(i)),wa(j_,B_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=5*60,BI=mE("authIdTokenMaxAge")||jI;let H_=null;const HI=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>BI)return;const o=n==null?void 0:n.token;H_!==o&&(H_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qI(i=vE()){const e=Ym(i,"auth");if(e.isInitialized())return e.getImmediate();const n=wC(i,{popupRedirectResolver:PI,persistence:[QC,LC,FE]}),a=mE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=HI(u.toString());MC(n,f,()=>f(n.currentUser)),OC(n,m=>f(m))}}const o=fE("auth");return o&&bC(n,`http://${o}`),n}function FI(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}vC({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=Ar("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",FI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zI("Browser");var GI="firebase",KI="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa(GI,KI,"app");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,ZE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function b(){}b.prototype=A.prototype,O.D=A.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(I,V,j){for(var D=Array(arguments.length-2),St=2;St<arguments.length;St++)D[St-2]=arguments[St];return A.prototype[V].apply(I,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,b){b||(b=0);var I=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)I[V]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(V=0;16>V;++V)I[V]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=O.g[0],b=O.g[1],V=O.g[2];var j=O.g[3],D=A+(j^b&(V^j))+I[0]+3614090360&4294967295;A=b+(D<<7&4294967295|D>>>25),D=j+(V^A&(b^V))+I[1]+3905402710&4294967295,j=A+(D<<12&4294967295|D>>>20),D=V+(b^j&(A^b))+I[2]+606105819&4294967295,V=j+(D<<17&4294967295|D>>>15),D=b+(A^V&(j^A))+I[3]+3250441966&4294967295,b=V+(D<<22&4294967295|D>>>10),D=A+(j^b&(V^j))+I[4]+4118548399&4294967295,A=b+(D<<7&4294967295|D>>>25),D=j+(V^A&(b^V))+I[5]+1200080426&4294967295,j=A+(D<<12&4294967295|D>>>20),D=V+(b^j&(A^b))+I[6]+2821735955&4294967295,V=j+(D<<17&4294967295|D>>>15),D=b+(A^V&(j^A))+I[7]+4249261313&4294967295,b=V+(D<<22&4294967295|D>>>10),D=A+(j^b&(V^j))+I[8]+1770035416&4294967295,A=b+(D<<7&4294967295|D>>>25),D=j+(V^A&(b^V))+I[9]+2336552879&4294967295,j=A+(D<<12&4294967295|D>>>20),D=V+(b^j&(A^b))+I[10]+4294925233&4294967295,V=j+(D<<17&4294967295|D>>>15),D=b+(A^V&(j^A))+I[11]+2304563134&4294967295,b=V+(D<<22&4294967295|D>>>10),D=A+(j^b&(V^j))+I[12]+1804603682&4294967295,A=b+(D<<7&4294967295|D>>>25),D=j+(V^A&(b^V))+I[13]+4254626195&4294967295,j=A+(D<<12&4294967295|D>>>20),D=V+(b^j&(A^b))+I[14]+2792965006&4294967295,V=j+(D<<17&4294967295|D>>>15),D=b+(A^V&(j^A))+I[15]+1236535329&4294967295,b=V+(D<<22&4294967295|D>>>10),D=A+(V^j&(b^V))+I[1]+4129170786&4294967295,A=b+(D<<5&4294967295|D>>>27),D=j+(b^V&(A^b))+I[6]+3225465664&4294967295,j=A+(D<<9&4294967295|D>>>23),D=V+(A^b&(j^A))+I[11]+643717713&4294967295,V=j+(D<<14&4294967295|D>>>18),D=b+(j^A&(V^j))+I[0]+3921069994&4294967295,b=V+(D<<20&4294967295|D>>>12),D=A+(V^j&(b^V))+I[5]+3593408605&4294967295,A=b+(D<<5&4294967295|D>>>27),D=j+(b^V&(A^b))+I[10]+38016083&4294967295,j=A+(D<<9&4294967295|D>>>23),D=V+(A^b&(j^A))+I[15]+3634488961&4294967295,V=j+(D<<14&4294967295|D>>>18),D=b+(j^A&(V^j))+I[4]+3889429448&4294967295,b=V+(D<<20&4294967295|D>>>12),D=A+(V^j&(b^V))+I[9]+568446438&4294967295,A=b+(D<<5&4294967295|D>>>27),D=j+(b^V&(A^b))+I[14]+3275163606&4294967295,j=A+(D<<9&4294967295|D>>>23),D=V+(A^b&(j^A))+I[3]+4107603335&4294967295,V=j+(D<<14&4294967295|D>>>18),D=b+(j^A&(V^j))+I[8]+1163531501&4294967295,b=V+(D<<20&4294967295|D>>>12),D=A+(V^j&(b^V))+I[13]+2850285829&4294967295,A=b+(D<<5&4294967295|D>>>27),D=j+(b^V&(A^b))+I[2]+4243563512&4294967295,j=A+(D<<9&4294967295|D>>>23),D=V+(A^b&(j^A))+I[7]+1735328473&4294967295,V=j+(D<<14&4294967295|D>>>18),D=b+(j^A&(V^j))+I[12]+2368359562&4294967295,b=V+(D<<20&4294967295|D>>>12),D=A+(b^V^j)+I[5]+4294588738&4294967295,A=b+(D<<4&4294967295|D>>>28),D=j+(A^b^V)+I[8]+2272392833&4294967295,j=A+(D<<11&4294967295|D>>>21),D=V+(j^A^b)+I[11]+1839030562&4294967295,V=j+(D<<16&4294967295|D>>>16),D=b+(V^j^A)+I[14]+4259657740&4294967295,b=V+(D<<23&4294967295|D>>>9),D=A+(b^V^j)+I[1]+2763975236&4294967295,A=b+(D<<4&4294967295|D>>>28),D=j+(A^b^V)+I[4]+1272893353&4294967295,j=A+(D<<11&4294967295|D>>>21),D=V+(j^A^b)+I[7]+4139469664&4294967295,V=j+(D<<16&4294967295|D>>>16),D=b+(V^j^A)+I[10]+3200236656&4294967295,b=V+(D<<23&4294967295|D>>>9),D=A+(b^V^j)+I[13]+681279174&4294967295,A=b+(D<<4&4294967295|D>>>28),D=j+(A^b^V)+I[0]+3936430074&4294967295,j=A+(D<<11&4294967295|D>>>21),D=V+(j^A^b)+I[3]+3572445317&4294967295,V=j+(D<<16&4294967295|D>>>16),D=b+(V^j^A)+I[6]+76029189&4294967295,b=V+(D<<23&4294967295|D>>>9),D=A+(b^V^j)+I[9]+3654602809&4294967295,A=b+(D<<4&4294967295|D>>>28),D=j+(A^b^V)+I[12]+3873151461&4294967295,j=A+(D<<11&4294967295|D>>>21),D=V+(j^A^b)+I[15]+530742520&4294967295,V=j+(D<<16&4294967295|D>>>16),D=b+(V^j^A)+I[2]+3299628645&4294967295,b=V+(D<<23&4294967295|D>>>9),D=A+(V^(b|~j))+I[0]+4096336452&4294967295,A=b+(D<<6&4294967295|D>>>26),D=j+(b^(A|~V))+I[7]+1126891415&4294967295,j=A+(D<<10&4294967295|D>>>22),D=V+(A^(j|~b))+I[14]+2878612391&4294967295,V=j+(D<<15&4294967295|D>>>17),D=b+(j^(V|~A))+I[5]+4237533241&4294967295,b=V+(D<<21&4294967295|D>>>11),D=A+(V^(b|~j))+I[12]+1700485571&4294967295,A=b+(D<<6&4294967295|D>>>26),D=j+(b^(A|~V))+I[3]+2399980690&4294967295,j=A+(D<<10&4294967295|D>>>22),D=V+(A^(j|~b))+I[10]+4293915773&4294967295,V=j+(D<<15&4294967295|D>>>17),D=b+(j^(V|~A))+I[1]+2240044497&4294967295,b=V+(D<<21&4294967295|D>>>11),D=A+(V^(b|~j))+I[8]+1873313359&4294967295,A=b+(D<<6&4294967295|D>>>26),D=j+(b^(A|~V))+I[15]+4264355552&4294967295,j=A+(D<<10&4294967295|D>>>22),D=V+(A^(j|~b))+I[6]+2734768916&4294967295,V=j+(D<<15&4294967295|D>>>17),D=b+(j^(V|~A))+I[13]+1309151649&4294967295,b=V+(D<<21&4294967295|D>>>11),D=A+(V^(b|~j))+I[4]+4149444226&4294967295,A=b+(D<<6&4294967295|D>>>26),D=j+(b^(A|~V))+I[11]+3174756917&4294967295,j=A+(D<<10&4294967295|D>>>22),D=V+(A^(j|~b))+I[2]+718787259&4294967295,V=j+(D<<15&4294967295|D>>>17),D=b+(j^(V|~A))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+j&4294967295}a.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var b=A-this.blockSize,I=this.B,V=this.h,j=0;j<A;){if(V==0)for(;j<=b;)o(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<A;)if(I[V++]=O.charCodeAt(j++),V==this.blockSize){o(this,I),V=0;break}}else for(;j<A;)if(I[V++]=O[j++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=A},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var b=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=b&255,b/=256;for(this.u(O),O=Array(16),A=b=0;4>A;++A)for(var I=0;32>I;I+=8)O[b++]=this.g[A]>>>I&255;return O};function u(O,A){var b=m;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=A(O)}function f(O,A){this.h=A;for(var b=[],I=!0,V=O.length-1;0<=V;V--){var j=O[V]|0;I&&j==A||(b[V]=j,I=!1)}this.g=b}var m={};function g(O){return-128<=O&&128>O?u(O,function(A){return new f([A|0],0>A?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return H(y(-O));for(var A=[],b=1,I=0;O>=b;I++)A[I]=O/b|0,b*=4294967296;return new f(A,0)}function E(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return H(E(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(A,8)),I=S,V=0;V<O.length;V+=8){var j=Math.min(8,O.length-V),D=parseInt(O.substring(V,V+j),A);8>j?(j=y(Math.pow(A,j)),I=I.j(j).add(y(D))):(I=I.j(b),I=I.add(y(D)))}return I}var S=g(0),R=g(1),N=g(16777216);i=f.prototype,i.m=function(){if($(this))return-H(this).m();for(var O=0,A=1,b=0;b<this.g.length;b++){var I=this.i(b);O+=(0<=I?I:4294967296+I)*A,A*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if($(this))return"-"+H(this).toString(O);for(var A=y(Math.pow(O,6)),b=this,I="";;){var V=_e(b,A).g;b=X(b,V.j(A));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=V,L(b))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function $(O){return O.h==-1}i.l=function(O){return O=X(this,O),$(O)?-1:L(O)?0:1};function H(O){for(var A=O.g.length,b=[],I=0;I<A;I++)b[I]=~O.g[I];return new f(b,~O.h).add(R)}i.abs=function(){return $(this)?H(this):this},i.add=function(O){for(var A=Math.max(this.g.length,O.g.length),b=[],I=0,V=0;V<=A;V++){var j=I+(this.i(V)&65535)+(O.i(V)&65535),D=(j>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);I=D>>>16,j&=65535,D&=65535,b[V]=D<<16|j}return new f(b,b[b.length-1]&-2147483648?-1:0)};function X(O,A){return O.add(H(A))}i.j=function(O){if(L(this)||L(O))return S;if($(this))return $(O)?H(this).j(H(O)):H(H(this).j(O));if($(O))return H(this.j(H(O)));if(0>this.l(N)&&0>O.l(N))return y(this.m()*O.m());for(var A=this.g.length+O.g.length,b=[],I=0;I<2*A;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<O.g.length;V++){var j=this.i(I)>>>16,D=this.i(I)&65535,St=O.i(V)>>>16,qe=O.i(V)&65535;b[2*I+2*V]+=D*qe,ee(b,2*I+2*V),b[2*I+2*V+1]+=j*qe,ee(b,2*I+2*V+1),b[2*I+2*V+1]+=D*St,ee(b,2*I+2*V+1),b[2*I+2*V+2]+=j*St,ee(b,2*I+2*V+2)}for(I=0;I<A;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=A;I<2*A;I++)b[I]=0;return new f(b,0)};function ee(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function ie(O,A){this.g=O,this.h=A}function _e(O,A){if(L(A))throw Error("division by zero");if(L(O))return new ie(S,S);if($(O))return A=_e(H(O),A),new ie(H(A.g),H(A.h));if($(A))return A=_e(O,H(A)),new ie(H(A.g),A.h);if(30<O.g.length){if($(O)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var b=R,I=A;0>=I.l(O);)b=k(b),I=k(I);var V=he(b,1),j=he(I,1);for(I=he(I,2),b=he(b,2);!L(I);){var D=j.add(I);0>=D.l(O)&&(V=V.add(b),j=D),I=he(I,1),b=he(b,1)}return A=X(O,V.j(A)),new ie(V,A)}for(V=S;0<=O.l(A);){for(b=Math.max(1,Math.floor(O.m()/A.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=y(b),D=j.j(A);$(D)||0<D.l(O);)b-=I,j=y(b),D=j.j(A);L(j)&&(j=R),V=V.add(j),O=X(O,D)}return new ie(V,O)}i.A=function(O){return _e(this,O).h},i.and=function(O){for(var A=Math.max(this.g.length,O.g.length),b=[],I=0;I<A;I++)b[I]=this.i(I)&O.i(I);return new f(b,this.h&O.h)},i.or=function(O){for(var A=Math.max(this.g.length,O.g.length),b=[],I=0;I<A;I++)b[I]=this.i(I)|O.i(I);return new f(b,this.h|O.h)},i.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),b=[],I=0;I<A;I++)b[I]=this.i(I)^O.i(I);return new f(b,this.h^O.h)};function k(O){for(var A=O.g.length+1,b=[],I=0;I<A;I++)b[I]=O.i(I)<<1|O.i(I-1)>>>31;return new f(b,O.h)}function he(O,A){var b=A>>5;A%=32;for(var I=O.g.length-b,V=[],j=0;j<I;j++)V[j]=0<A?O.i(j+b)>>>A|O.i(j+b+1)<<32-A:O.i(j+b);return new f(V,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,ZE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Sa=f}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,ql,eT,$c,Em,tT,nT,rT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,p){if(p)e:{var v=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in v))break e;v=v[q]}c=c[c.length-1],w=v[c],p=p(w),p!=w&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,w=!1,q={next:function(){if(!w&&v<c.length){var Y=v++;return{value:p(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function S(c,p,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(p,q)}}return function(){return c.apply(p,arguments)}}function R(c,p,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function N(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function L(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,q,Y){for(var le=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)le[tt-2]=arguments[tt];return p.prototype[q].apply(w,le)}}function $(c){const p=c.length;if(0<p){const v=Array(p);for(let w=0;w<p;w++)v[w]=c[w];return v}return[]}function H(c,p){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const q=c.length||0,Y=w.length||0;c.length=q+Y;for(let le=0;le<Y;le++)c[q+le]=w[le]}else c.push(w)}}class X{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var k=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function he(c,p,v){for(const w in c)p.call(v,c[w],w,c)}function O(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function A(c){const p={};for(const v in c)p[v]=c[v];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let v,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(v in w)c[v]=w[v];for(let Y=0;Y<b.length;Y++)v=b[Y],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function V(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Be;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class St{constructor(){this.h=this.g=null}add(p,v){const w=qe.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var qe=new X(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Te=!1,Be=new St,x=()=>{const c=m.Promise.resolve(void 0);Ie=()=>{c.then(se)}};var se=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){j(v)}var p=qe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}Te=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function xe(c,p){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(k){e:{try{_e(p.nodeName);var q=!0;break e}catch{}q=!1}q||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ze[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}L(xe,fe);var ze={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Ge(c,p,v,w,q){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=q,this.key=++et,this.da=this.fa=!1}function $e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,p,v,w,q){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var le=zt(c,p,w,q);return-1<le?(p=c[le],v||(p.fa=!1)):(p=new Ge(p,this.src,Y,!!w,q),p.fa=v,c.push(p)),p};function mr(c,p){var v=p.type;if(v in c.g){var w=c.g[v],q=Array.prototype.indexOf.call(w,p,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(w,q,1),Y&&($e(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function zt(c,p,v,w){for(var q=0;q<c.length;++q){var Y=c[q];if(!Y.da&&Y.listener==p&&Y.capture==!!v&&Y.ha==w)return q}return-1}var Ir="closure_lm_"+(1e6*Math.random()|0),Dr={};function Kn(c,p,v,w,q){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)Kn(c,p[Y],v,w,q);return null}return v=kn(v),c&&c[Dt]?c.K(p,v,y(w)?!!w.capture:!1,q):Va(c,p,v,!1,w,q)}function Va(c,p,v,w,q,Y){if(!p)throw Error("Invalid event type");var le=y(q)?!!q.capture:!!q,tt=ji(c);if(tt||(c[Ir]=tt=new Wt(c)),v=tt.add(p,v,w,le,Y),v.proxy)return v;if(w=Ui(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)me||(q=le),q===void 0&&(q=!1),c.addEventListener(p.toString(),w,q);else if(c.attachEvent)c.attachEvent(Mn(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ui(){function c(v){return p.call(c.src,c.listener,v)}const p=ni;return c}function zi(c,p,v,w,q){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)zi(c,p[Y],v,w,q);else w=y(w)?!!w.capture:!!w,v=kn(v),c&&c[Dt]?(c=c.i,p=String(p).toString(),p in c.g&&(Y=c.g[p],v=zt(Y,v,w,q),-1<v&&($e(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[p],c.h--)))):c&&(c=ji(c))&&(p=c.g[p.toString()],c=-1,p&&(c=zt(p,v,w,q)),(v=-1<c?p[c]:null)&&ti(v))}function ti(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Dt])mr(p.i,c);else{var v=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(v,w,c.capture):p.detachEvent?p.detachEvent(Mn(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=ji(p))?(mr(v,c),v.h==0&&(v.src=null,p[Ir]=null)):$e(c)}}}function Mn(c){return c in Dr?Dr[c]:Dr[c]="on"+c}function ni(c,p){if(c.da)c=!0;else{p=new xe(p,this);var v=c.listener,w=c.ha||c.src;c.fa&&ti(c),c=v.call(w,p)}return c}function ji(c){return c=c[Ir],c instanceof Wt?c:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(c){return typeof c=="function"?c:(c[Zt]||(c[Zt]=function(p){return c.handleEvent(p)}),c[Zt])}function mt(){ge.call(this),this.i=new Wt(this),this.M=this,this.F=null}L(mt,ge),mt.prototype[Dt]=!0,mt.prototype.removeEventListener=function(c,p,v,w){zi(this,c,p,v,w)};function Vt(c,p){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new fe(p,c);else if(p instanceof fe)p.target=p.target||c;else{var q=p;p=new fe(w,c),I(p,q)}if(q=!0,v)for(var Y=v.length-1;0<=Y;Y--){var le=p.g=v[Y];q=Un(le,w,!0,p)&&q}if(le=p.g=c,q=Un(le,w,!0,p)&&q,q=Un(le,w,!1,p)&&q,v)for(Y=0;Y<v.length;Y++)le=p.g=v[Y],q=Un(le,w,!1,p)&&q}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],w=0;w<v.length;w++)$e(v[w]);delete c.g[p],c.h--}}this.F=null},mt.prototype.K=function(c,p,v,w){return this.i.add(String(c),p,!1,v,w)},mt.prototype.L=function(c,p,v,w){return this.i.add(String(c),p,!0,v,w)};function Un(c,p,v,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var q=!0,Y=0;Y<p.length;++Y){var le=p[Y];if(le&&!le.da&&le.capture==v){var tt=le.listener,Gt=le.ha||le.src;le.fa&&mr(c.i,le),q=tt.call(Gt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Is(c,p,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function xn(c){c.g=Is(()=>{c.g=null,c.i&&(c.i=!1,xn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Ds extends ge{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:xn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(c){ge.call(this),this.h=c,this.g={}}L(Nr,ge);var gr=[];function Jt(c){he(c.g,function(p,v){this.g.hasOwnProperty(v)&&ti(p)},c),c.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Jt(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=m.JSON.stringify,Rn=m.JSON.parse,en=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ri(){}ri.prototype.h=null;function Ns(c){return c.h||(c.h=c.i())}function La(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){fe.call(this,"d")}L(pr,fe);function _n(){fe.call(this,"c")}L(_n,fe);var un={},Or=null;function Hi(){return Or=Or||new mt}un.La="serverreachability";function M(c){fe.call(this,un.La,c)}L(M,fe);function z(c){const p=Hi();Vt(p,new M(p))}un.STAT_EVENT="statevent";function K(c,p){fe.call(this,un.STAT_EVENT,c),this.stat=p}L(K,fe);function te(c){const p=Hi();Vt(p,new K(p,c))}un.Ma="timingevent";function ce(c,p){fe.call(this,un.Ma,c),this.size=p}L(ce,fe);function Re(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function we(c,p,v,w,q,Y){c.info(function(){if(c.g)if(Y)for(var le="",tt=Y.split("&"),Gt=0;Gt<tt.length;Gt++){var nt=tt[Gt].split("=");if(1<nt.length){var rn=nt[0];nt=nt[1];var Kt=rn.split("_");le=2<=Kt.length&&Kt[1]=="type"?le+(rn+"="+nt+"&"):le+(rn+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+p+`
`+v+`
`+le})}function Se(c,p,v,w,q,Y,le){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+p+`
`+v+`
`+Y+" "+le})}function de(c,p,v,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ve(c,v)+(w?" "+w:"")})}function ye(c,p){c.info(function(){return"TIMEOUT: "+p})}Ae.prototype.info=function(){};function ve(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return Bi(v)}catch{return p}}var Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},st={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bt;function yt(){}L(yt,ri),yt.prototype.g=function(){return new XMLHttpRequest},yt.prototype.i=function(){return{}},bt=new yt;function at(c,p,v,w){this.j=c,this.i=p,this.l=v,this.R=w||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var Cn={},zn={};function Lt(c,p,v){c.L=1,c.v=za(Nt(p)),c.m=v,c.P=!0,jt(c,null)}function jt(c,p){c.F=Date.now(),ct(c),c.A=Nt(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),oi(v.i,"t",w),c.C=0,v=c.j.J,c.h=new wt,c.g=Ou(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Ds(R(c.Y,c,c.g),c.O)),p=c.U,v=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(gr[0]=q.toString()),q=gr);for(var Y=0;Y<q.length;Y++){var le=Kn(v,q[Y],w||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),z(),we(c.i,c.u,c.A,c.l,c.R,c.m)}at.prototype.ca=function(c){c=c.target;const p=this.M;p&&er(c)==3?p.j():this.Y(c)},at.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=er(this.g);var p=this.g.Ba();const hi=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Kt!=4||p==7||(p==8||0>=hi?z(3):z(2)),yr(this);var v=this.g.Z();this.X=v;t:if($n(this)){var w=Su(this.g);c="";var q=w.length,Y=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ht(this),He(this);var le="";break t}this.h.i=new m.TextDecoder}for(p=0;p<q;p++)this.h.h=!0,c+=this.h.i.decode(w[p],{stream:!(Y&&p==q-1)});w.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,Se(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Gt=this.g;if((tt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(tt)){var nt=tt;break t}}nt=null}if(v=nt)de(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tn(this,v);else{this.o=!1,this.s=3,te(12),ht(this),He(this);break e}}if(this.P){v=!0;let cn;for(;!this.J&&this.C<le.length;)if(cn=Vn(this,le),cn==zn){Kt==4&&(this.s=4,te(14),v=!1),de(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Cn){this.s=4,te(15),de(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else de(this.i,this.l,cn,null),tn(this,cn);if($n(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||le.length!=0||this.h.h||(this.s=1,te(16),v=!1),this.o=this.o&&v,!v)de(this.i,this.l,le,"[Invalid Chunked Response]"),ht(this),He(this);else if(0<le.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ka(rn),rn.M=!0,te(11))}}else de(this.i,this.l,le,null),tn(this,le);Kt==4&&ht(this),this.o&&!this.J&&(Kt==4?Iu(this.j,this):(this.o=!1,ct(this)))}else Qh(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),ht(this),He(this)}}}catch{}finally{}};function $n(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vn(c,p){var v=c.C,w=p.indexOf(`
`,v);return w==-1?zn:(v=Number(p.substring(v,w)),isNaN(v)?Cn:(w+=1,w+v>p.length?zn:(p=p.slice(w,w+v),c.C=w+v,p)))}at.prototype.cancel=function(){this.J=!0,ht(this)};function ct(c){c.S=Date.now()+c.I,Mr(c,c.I)}function Mr(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Re(R(c.ba,c),p)}function yr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}at.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ye(this.i,this.A),this.L!=2&&(z(),te(17)),ht(this),this.s=2,He(this)):Mr(this,this.S-c)};function He(c){c.j.G==0||c.J||Iu(c.j,c)}function ht(c){yr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Jt(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function tn(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||xr(v.h,c))){if(!c.K&&xr(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)js(v),Us(v);else break e;$o(v),te(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Re(R(v.Za,v),6e3));if(1>=Pa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ci(v,11)}else if((c.K||v.g==c)&&js(v),!ee(p))for(q=v.Da.g.parse(p),p=0;p<q.length;p++){let nt=q[p];if(v.T=nt[0],nt=nt[1],v.G==2)if(nt[0]=="c"){v.K=nt[1],v.ia=nt[2];const rn=nt[3];rn!=null&&(v.la=rn,v.j.info("VER="+v.la));const Kt=nt[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const hi=nt[5];hi!=null&&typeof hi=="number"&&0<hi&&(w=1.5*hi,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const cn=c.g;if(cn){const jr=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var Y=w.h;Y.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(qi(Y,Y.h),Y.h=null))}if(w.D){const Xo=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(w.ya=Xo,ot(w.I,w.D,Xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var le=c;if(w.qa=Nu(w,w.J?w.ia:null,w.W),le.K){Xn(w.h,le);var tt=le,Gt=w.L;Gt&&(tt.I=Gt),tt.B&&(yr(tt),ct(tt)),w.g=le}else Ru(w);0<v.i.length&&zs(v)}else nt[0]!="stop"&&nt[0]!="close"||ci(v,7);else v.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ci(v,7):Ko(v):nt[0]!="noop"&&v.l&&v.l.ta(nt),v.v=0)}}z(4)}catch{}}var ii=class{constructor(c,p){this.g=c,this.map=p}};function _t(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pa(c){return c.h?1:c.g?c.g.size:0}function xr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function qi(c,p){c.g?c.g.add(p):c.h=p}function Xn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}_t.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function In(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return $(c.i)}function _u(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,w=0;w<v;w++)p.push(c[w]);return p}p=[],v=0;for(w in c)p[v++]=c[w];return p}function qh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const w in c)p[v++]=w;return p}}}function ka(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=qh(c),w=_u(c),q=w.length,Y=0;Y<q;Y++)p.call(void 0,w[Y],v&&v[Y],c)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),q=null;if(0<=w){var Y=c[v].substring(0,w);q=c[v].substring(w+1)}else Y=c[v];p(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ai(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ai){this.h=c.h,Fi(this,c.j),this.o=c.o,this.g=c.g,Ua(this,c.s),this.l=c.l;var p=c.i,v=new Vr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Ms(this,v),this.m=c.m}else c&&(p=String(c).match(jo))?(this.h=!1,Fi(this,p[1]||"",!0),this.o=Gi(p[2]||""),this.g=Gi(p[3]||"",!0),Ua(this,p[4]),this.l=Gi(p[5]||"",!0),Ms(this,p[6]||"",!0),this.m=Gi(p[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}ai.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Wn(p,Bo,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Wn(p,Bo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Wn(v,v.charAt(0)=="/"?Ho:Eu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Wn(v,Kh)),c.join("")};function Nt(c){return new ai(c)}function Fi(c,p,v){c.j=v?Gi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ua(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ms(c,p,v){p instanceof Vr?(c.i=p,qo(c.i,c.h)):(v||(p=Wn(p,Gh)),c.i=new Vr(p,c.h))}function ot(c,p,v){c.i.set(p,v)}function za(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Gi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wn(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Fh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bo=/[#\/\?@]/g,Eu=/[#\?:]/g,Ho=/[#\?]/g,Gh=/[#\?@]/g,Kh=/#/g;function Vr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Os(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=Vr.prototype,i.add=function(c,p){Zn(this),this.i=null,c=li(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function xs(c,p){Zn(c),p=li(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function si(c,p){return Zn(c),p=li(c,p),c.g.has(p)}i.forEach=function(c,p){Zn(this),this.g.forEach(function(v,w){v.forEach(function(q){c.call(p,q,w,this)},this)},this)},i.na=function(){Zn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let w=0;w<p.length;w++){const q=c[w];for(let Y=0;Y<q.length;Y++)v.push(p[w])}return v},i.V=function(c){Zn(this);let p=[];if(typeof c=="string")si(this,c)&&(p=p.concat(this.g.get(li(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return Zn(this),this.i=null,c=li(this,c),si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function oi(c,p,v){xs(c,p),0<v.length&&(c.i=null,c.g.set(li(c,p),$(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var w=p[v];const Y=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var q=Y;le[w]!==""&&(q+="="+encodeURIComponent(String(le[w]))),c.push(q)}}return this.i=c.join("&")};function li(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function qo(c,p){p&&!c.j&&(Zn(c),c.i=null,c.g.forEach(function(v,w){var q=w.toLowerCase();w!=q&&(xs(this,w),oi(this,q,v))},c)),c.j=p}function Tu(c,p){const v=new Ae;if(m.Image){const w=new Image;w.onload=N(Jn,v,"TestLoadImage: loaded",!0,p,w),w.onerror=N(Jn,v,"TestLoadImage: error",!1,p,w),w.onabort=N(Jn,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=N(Jn,v,"TestLoadImage: timeout",!1,p,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function ja(c,p){const v=new Ae,w=new AbortController,q=setTimeout(()=>{w.abort(),Jn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(q),Y.ok?Jn(v,"TestPingServer: ok",!0,p):Jn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),Jn(v,"TestPingServer: error",!1,p)})}function Jn(c,p,v,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(v)}catch{}}function Ba(){this.g=new en}function Lr(c,p,v){const w=v||"";try{ka(c,function(q,Y){let le=q;y(q)&&(le=Bi(q)),p.push(w+Y+"="+encodeURIComponent(le))})}catch(q){throw p.push(w+"type="+encodeURIComponent("_badmap")),q}}function Ki(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Ki,ri),Ki.prototype.g=function(){return new ui(this.l,this.j)},Ki.prototype.i=function(c){return function(){return c}}({});function ui(c,p){mt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ui,mt),i=ui.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,kr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Pr(this):kr(this),this.readyState==3&&Fo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Pr(this))},i.Qa=function(c){this.g&&(this.response=c,Pr(this))},i.ga=function(){this.g&&Pr(this)};function Pr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,kr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function kr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let p="";return he(c,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function nn(c,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Go(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ot(c,p,v))}function ft(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(ft,mt);var Vs=/^https?$/i,Ha=["POST","PUT"];i=ft.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bt.g(),this.v=this.o?Ns(this.o):Ns(bt),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){wu(this,Y);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)v.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())v.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ha,p,void 0))||w||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of v)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){wu(this,Y)}};function wu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ls(c),Ur(c)}function Ls(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),Ur(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ps(this):this.bb())},i.bb=function(){Ps(this)};function Ps(c){if(c.h&&typeof f<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)Is(c.Ea,0,c);else if(Vt(c,"readystatechange"),er(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=le===0){var q=String(c.D).match(jo)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),w=!Vs.test(q?q.toLowerCase():"")}v=w}if(v)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var Y=2<er(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ls(c)}}finally{Ur(c)}}}}function Ur(c,p){if(c.g){qa(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Vt(c,"ready");try{v.onreadystatechange=w}catch{}}}function qa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Rn(p)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qh(c){const p={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ee(c[w]))continue;var v=V(c[w]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=p[q]||[];p[q]=Y,Y.push(v)}O(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function ks(c){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,c),this.cb=Fa("retryDelaySeedMs",1e4,c),this.Wa=Fa("forwardChannelMaxRetries",2,c),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _t(c&&c.concurrentRequestLimit),this.Da=new Ba,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ks.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,w){te(0),this.W=c,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Nu(this,null,this.W),zs(this)};function Ko(c){if(bu(c),c.G==3){var p=c.U++,v=Nt(c.I);if(ot(v,"SID",c.K),ot(v,"RID",p),ot(v,"TYPE","terminate"),Ga(c,v),p=new at(c,c.j,p),p.L=2,p.v=za(Nt(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Ou(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ct(p)}Du(c)}function Us(c){c.g&&(Ka(c),c.g.cancel(),c.g=null)}function bu(c){Us(c),c.u&&(m.clearTimeout(c.u),c.u=null),js(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function zs(c){if(!Yn(c.h)&&!c.s){c.s=!0;var p=c.Ga;Ie||x(),Te||(Ie(),Te=!0),Be.add(p,c),c.B=0}}function $h(c,p){return Pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Re(R(c.Ga,c,p),Yo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new at(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=A(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Au(this,q,p),v=Nt(this.I),ot(v,"RID",c),ot(v,"CVER",22),this.D&&ot(v,"X-HTTP-Session-Id",this.D),Ga(this,v),Y&&(this.O?p="headers="+encodeURIComponent(String(Go(Y)))+"&"+p:this.m&&nn(v,this.m,Y)),qi(this.h,q),this.Ua&&ot(v,"TYPE","init"),this.P?(ot(v,"$req",p),ot(v,"SID","null"),q.T=!0,Lt(q,v,null)):Lt(q,v,p),this.G=2}}else this.G==3&&(c?Qo(this,c):this.i.length==0||Yn(this.h)||Qo(this))};function Qo(c,p){var v;p?v=p.l:v=c.U++;const w=Nt(c.I);ot(w,"SID",c.K),ot(w,"RID",v),ot(w,"AID",c.T),Ga(c,w),c.m&&c.o&&nn(w,c.m,c.o),v=new at(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Au(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qi(c.h,v),Lt(v,w,p)}function Ga(c,p){c.H&&he(c.H,function(v,w){ot(p,w,v)}),c.l&&ka({},function(v,w){ot(p,w,v)})}function Au(c,p,v){v=Math.min(c.i.length,v);var w=c.l?R(c.l.Na,c.l,c):null;e:{var q=c.i;let Y=-1;for(;;){const le=["count="+v];Y==-1?0<v?(Y=q[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let tt=!0;for(let Gt=0;Gt<v;Gt++){let nt=q[Gt].g;const rn=q[Gt].map;if(nt-=Y,0>nt)Y=Math.max(0,q[Gt].g-100),tt=!1;else try{Lr(rn,le,"req"+nt+"_")}catch{w&&w(rn)}}if(tt){w=le.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,w}function Ru(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;Ie||x(),Te||(Ie(),Te=!0),Be.add(p,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Re(R(c.Fa,c),Yo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Re(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Us(this),Cu(this))};function Ka(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Cu(c){c.g=new at(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Nt(c.qa);ot(p,"RID","rpc"),ot(p,"SID",c.K),ot(p,"AID",c.T),ot(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(p,"TO",c.ja),ot(p,"TYPE","xmlhttp"),Ga(c,p),c.m&&c.o&&nn(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=za(Nt(p)),v.m=null,v.P=!0,jt(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Us(this),$o(this),te(19))};function js(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Iu(c,p){var v=null;if(c.g==p){js(c),Ka(c),c.g=null;var w=2}else if(xr(c.h,p))v=p.D,Xn(c.h,p),w=1;else return;if(c.G!=0){if(p.o)if(w==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var q=c.B;w=Hi(),Vt(w,new ce(w,v)),zs(c)}else Ru(c);else if(q=p.s,q==3||q==0&&0<p.X||!(w==1&&$h(c,p)||w==2&&$o(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),q){case 1:ci(c,5);break;case 4:ci(c,10);break;case 3:ci(c,6);break;default:ci(c,2)}}}function Yo(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function ci(c,p){if(c.j.info("Error code "+p),p==2){var v=R(c.fb,c),w=c.Xa;const q=!w;w=new ai(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Fi(w,"https"),za(w),q?Tu(w.toString(),v):ja(w.toString(),v)}else te(2);c.G=0,c.l&&c.l.sa(p),Du(c),bu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const p=In(c.h);(p.length!=0||c.i.length!=0)&&(H(c.ka,p),H(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Nu(c,p,v){var w=v instanceof ai?Nt(v):new ai(v);if(w.g!="")p&&(w.g=p+"."+w.g),Ua(w,w.s);else{var q=m.location;w=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;var Y=new ai(null);w&&Fi(Y,w),p&&(Y.g=p),q&&Ua(Y,q),v&&(Y.l=v),w=Y}return v=c.D,p=c.ya,v&&p&&ot(w,v,p),ot(w,"VER",c.la),Ga(c,w),w}function Ou(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new ft(new Ki({eb:v})):new ft(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}i=Mu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Bs(){}Bs.prototype.g=function(c,p){return new Dn(c,p)};function Dn(c,p){mt.call(this),this.g=new ks(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ee(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new zr(this)}L(Dn,mt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Ko(this.g)},Dn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Bi(c),c=v);p.i.push(new ii(p.Ya++,c)),p.G==3&&zs(p)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,Dn.aa.N.call(this)};function xu(c){pr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}L(xu,pr);function Vu(){_n.call(this),this.status=1}L(Vu,_n);function zr(c){this.g=c}L(zr,Mu),zr.prototype.ua=function(){Vt(this.g,"a")},zr.prototype.ta=function(c){Vt(this.g,new xu(c))},zr.prototype.sa=function(c){Vt(this.g,new Vu)},zr.prototype.ra=function(){Vt(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,rT=function(){return new Bs},nT=function(){return Hi()},tT=un,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,$c=Ne,st.COMPLETE="complete",eT=st,La.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ql=La,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,JE=ft}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",G_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Qm("@firebase/firestore");function po(){return Es.logLevel}function pe(i,...e){if(Es.logLevel<=Ye.DEBUG){const n=e.map(og);Es.debug(`Firestore (${Po}): ${i}`,...n)}}function Vi(i,...e){if(Es.logLevel<=Ye.ERROR){const n=e.map(og);Es.error(`Firestore (${Po}): ${i}`,...n)}}function Ro(i,...e){if(Es.logLevel<=Ye.WARN){const n=e.map(og);Es.warn(`Firestore (${Po}): ${i}`,...n)}}function og(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(i="Unexpected state"){const e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+i;throw Vi(e),new Error(e)}function dt(i,e){i||Ve()}function Ue(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class $I{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YI{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ba,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ba)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(dt(typeof a.accessToken=="string"),new iT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new Sn(e)}}class XI{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WI{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new XI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0);const a=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new K_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new K_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=JI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ze(i,e){return i<e?-1:i>e?1:0}function Co(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,$_=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*$_);return new Ut(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q_)throw new De(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ut(0,0))}static max(){return new Pe(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class Kr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ve(),a===void 0?a=e.length-n:a>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Kr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=Kr.isNumericId(e),o=Kr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Kr.extractNumericId(e).compare(Kr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sa.fromString(e.substring(4,e.length-2))}}class At extends Kr{construct(e,n,a){return new At(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new De(oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new At(n)}static emptyPath(){return new At([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Kr{construct(e,n,a){return new pn(e,n,a)}static isValidIdentifier(e){return eD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new pn([Y_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new De(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new De(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new De(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new De(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(At.fromString(e))}static fromName(e){return new Oe(At.fromString(e).popFirst(5))}static empty(){return new Oe(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new At(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function tD(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(a===1e9?new Ut(n+1,0):new Ut(n,a));return new Ca(o,Oe.empty(),e)}function nD(i){return new Ca(i.readTime,i.key,tu)}class Ca{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ca(Pe.min(),Oe.empty(),tu)}static max(){return new Ca(Pe.max(),Oe.empty(),tu)}}function rD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(i.documentKey,e.documentKey),n!==0?n:Ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==iD)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,a)=>{n(e)})}static reject(e){return new re((n,a)=>{a(e)})}static waitFor(e){return new re((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>a(g))}),f=!0,u===o&&n()})}static or(e){let n=re.resolve(!1);for(const a of e)n=n.next(o=>o?re.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new re((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new re((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function sD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Dh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function Nh(i){return i==null}function ch(i){return i===0&&1/i==-1/0}function oD(i){return typeof i=="number"&&Number.isInteger(i)&&!ch(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="";function lD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=X_(e)),e=uD(i.get(n),e);return X_(e)}function uD(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case sT:n+="";break;default:n+=u}}return n}function X_(i){return i+sT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function bs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function oT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??gn.RED,this.left=o??gn.EMPTY,this.right=u??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new gn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,a,o,u){return this}insert(e,n,a){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new br([])}unionWith(e){let n=new Xt(pn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lT("Invalid base64 string: "+u):u}}(e);return new vn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(i){if(dt(!!i),typeof i=="string"){let e=0;const n=cD.exec(i);if(dt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(i.seconds),nanos:kt(i.nanos)}}function kt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Da(i){return typeof i=="string"?vn.fromBase64String(i):vn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="server_timestamp",cT="__type__",hT="__previous_value__",fT="__local_write_time__";function ug(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[cT])===null||n===void 0?void 0:n.stringValue)===uT}function Oh(i){const e=i.mapValue.fields[hT];return ug(e)?Oh(e):e}function nu(i){const e=Ia(i.mapValue.fields[fT].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,a,o,u,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const hh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="__type__",fD="__max__",kc={mapValue:{}},mT="__vector__",fh="value";function Na(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ug(i)?4:mD(i)?9007199254740991:dD(i)?10:11:Ve()}function Zr(i,e){if(i===e)return!0;const n=Na(i);if(n!==Na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ia(o.timestampValue),m=Ia(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Da(o.bytesValue).isEqual(Da(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=kt(o.doubleValue),m=kt(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(W_(f)!==W_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Zr(f[g],m[g])))return!1;return!0}(i,e);default:return Ve()}}function iu(i,e){return(i.values||[]).find(n=>Zr(n,e))!==void 0}function Io(i,e){if(i===e)return 0;const n=Na(i),a=Na(e);if(n!==a)return Ze(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=kt(u.integerValue||u.doubleValue),g=kt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return J_(i.timestampValue,e.timestampValue);case 4:return J_(nu(i),nu(e));case 5:return Ze(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Da(u),g=Da(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ze(m[y],g[y]);if(E!==0)return E}return Ze(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ze(kt(u.latitude),kt(f.latitude));return m!==0?m:Ze(kt(u.longitude),kt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return e0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,E;const S=u.fields||{},R=f.fields||{},N=(m=S[fh])===null||m===void 0?void 0:m.arrayValue,L=(g=R[fh])===null||g===void 0?void 0:g.arrayValue,$=Ze(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:e0(N,L)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===kc.mapValue&&f===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(f===kc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=Ze(g[S],E[S]);if(R!==0)return R;const N=Io(m[g[S]],y[E[S]]);if(N!==0)return N}return Ze(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Ve()}}function J_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ze(i,e);const n=Ia(i),a=Ia(e),o=Ze(n.seconds,a.seconds);return o!==0?o:Ze(n.nanos,a.nanos)}function e0(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Io(n[o],a[o]);if(u)return u}return Ze(n.length,a.length)}function Do(i){return Tm(i)}function Tm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Ia(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Da(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Oe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Tm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Tm(n.fields[f])}`;return o+"}"}(i.mapValue):Ve()}function Yc(i){switch(Na(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(i);return e?16+Yc(e):16;case 5:return 2*i.stringValue.length;case 6:return Da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Yc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return bs(a.fields,(u,f)=>{o+=u.length+Yc(f)}),o}(i.mapValue);default:throw Ve()}}function wm(i){return!!i&&"integerValue"in i}function cg(i){return!!i&&"arrayValue"in i}function t0(i){return!!i&&"nullValue"in i}function n0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xc(i){return!!i&&"mapValue"in i}function dD(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[dT])===null||n===void 0?void 0:n.stringValue)===mT}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Ql(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return Object.assign({},i)}function mD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===fD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=pn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){bs(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new fr(Ql(this.value))}}function gT(i){const e=[];return bs(i.fields,(n,a)=>{const o=new pn([n]);if(Xc(a)){const u=gT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new bn(e,0,Pe.min(),Pe.min(),Pe.min(),fr.empty(),0)}static newFoundDocument(e,n,a,o){return new bn(e,1,n,Pe.min(),a,o,0)}static newNoDocument(e,n){return new bn(e,2,n,Pe.min(),Pe.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Pe.min(),Pe.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function r0(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=Oe.comparator(Oe.fromName(f.referenceValue),n.key):a=Io(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function i0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function gD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{}class Yt extends pT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new yD(e,n,a):n==="array-contains"?new ED(e,a):n==="in"?new TD(e,a):n==="not-in"?new wD(e,a):n==="array-contains-any"?new SD(e,a):new Yt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new vD(e,a):new _D(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Io(n,this.value)):n!==null&&Na(this.value)===Na(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends pT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jr(e,n)}matches(e){return yT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function yT(i){return i.op==="and"}function vT(i){return pD(i)&&yT(i)}function pD(i){for(const e of i.filters)if(e instanceof Jr)return!1;return!0}function Sm(i){if(i instanceof Yt)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(vT(i))return i.filters.map(e=>Sm(e)).join(",");{const e=i.filters.map(n=>Sm(n)).join(",");return`${i.op}(${e})`}}function _T(i,e){return i instanceof Yt?function(a,o){return o instanceof Yt&&a.op===o.op&&a.field.isEqual(o.field)&&Zr(a.value,o.value)}(i,e):i instanceof Jr?function(a,o){return o instanceof Jr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&_T(f,o.filters[m]),!0):!1}(i,e):void Ve()}function ET(i){return i instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(i):i instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map(ET).join(" ,")+"}"}(i):"Filter"}class yD extends Yt{constructor(e,n,a){super(e,n,a),this.key=Oe.fromName(a.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class vD extends Yt{constructor(e,n){super(e,"in",n),this.keys=TT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _D extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=TT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Oe.fromName(a.referenceValue))}class ED extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&iu(n.arrayValue,this.value)}}class TD extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class wD extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class SD extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>iu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function a0(i,e=null,n=[],a=[],o=null,u=null,f=null){return new bD(i,e,n,a,o,u,f)}function hg(i){const e=Ue(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Sm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Do(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Do(a)).join(",")),e.le=n}return e.le}function fg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!gD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!_T(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!i0(i.startAt,e.startAt)&&i0(i.endAt,e.endAt)}function bm(i){return Oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function AD(i,e,n,a,o,u,f,m){return new Mh(i,e,n,a,o,u,f,m)}function wT(i){return new Mh(i)}function s0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function RD(i){return i.collectionGroup!==null}function $l(i){const e=Ue(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xt(pn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new mh(u,a))}),n.has(pn.keyField().canonicalString())||e.he.push(new mh(pn.keyField(),a))}return e.he}function Yr(i){const e=Ue(i);return e.Pe||(e.Pe=CD(e,$l(i))),e.Pe}function CD(i,e){if(i.limitType==="F")return a0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)});const n=i.endAt?new dh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new dh(i.startAt.position,i.startAt.inclusive):null;return a0(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Am(i,e,n){return new Mh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function xh(i,e){return fg(Yr(i),Yr(e))&&i.limitType===e.limitType}function ST(i){return`${hg(Yr(i))}|lt:${i.limitType}`}function yo(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>ET(o)).join(", ")}]`),Nh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Do(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Do(o)).join(",")),`Target(${a})`}(Yr(i))}; limitType=${i.limitType})`}function Vh(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Oe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of $l(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,m,g){const y=r0(f,m,g);return f.inclusive?y<=0:y<0}(a.startAt,$l(a),o)||a.endAt&&!function(f,m,g){const y=r0(f,m,g);return f.inclusive?y>=0:y>0}(a.endAt,$l(a),o))}(i,e)}function ID(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function bT(i){return(e,n)=>{let a=!1;for(const o of $l(i)){const u=DD(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function DD(i,e,n){const a=i.field.isKeyField()?Oe.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Io(g,y):Ve()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new It(Oe.comparator);function Li(){return ND}const AT=new It(Oe.comparator);function Fl(...i){let e=AT;for(const n of i)e=e.insert(n.key,n);return e}function RT(i){let e=AT;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function gs(){return Yl()}function CT(){return Yl()}function Yl(){return new As(i=>i.toString(),(i,e)=>i.isEqual(e))}const OD=new It(Oe.comparator),MD=new Xt(Oe.comparator);function Xe(...i){let e=MD;for(const n of i)e=e.add(n);return e}const xD=new Xt(Ze);function VD(){return xD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function IT(i){return{integerValue:""+i}}function LD(i,e){return oD(e)?IT(e):dg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function PD(i,e,n){return i instanceof gh?function(o,u){const f={fields:{[cT]:{stringValue:uT},[fT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ug(u)&&(u=Oh(u)),u&&(f.fields[hT]=u),{mapValue:f}}(n,e):i instanceof au?NT(i,e):i instanceof su?OT(i,e):function(o,u){const f=DT(o,u),m=o0(f)+o0(o.Ie);return wm(f)&&wm(o.Ie)?IT(m):dg(o.serializer,m)}(i,e)}function kD(i,e,n){return i instanceof au?NT(i,e):i instanceof su?OT(i,e):n}function DT(i,e){return i instanceof ph?function(a){return wm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class gh extends Lh{}class au extends Lh{constructor(e){super(),this.elements=e}}function NT(i,e){const n=MT(e);for(const a of i.elements)n.some(o=>Zr(o,a))||n.push(a);return{arrayValue:{values:n}}}class su extends Lh{constructor(e){super(),this.elements=e}}function OT(i,e){let n=MT(e);for(const a of i.elements)n=n.filter(o=>!Zr(o,a));return{arrayValue:{values:n}}}class ph extends Lh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function o0(i){return kt(i.integerValue||i.doubleValue)}function MT(i){return cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function UD(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof au&&o instanceof au||a instanceof su&&o instanceof su?Co(a.elements,o.elements,Zr):a instanceof ph&&o instanceof ph?Zr(a.Ie,o.Ie):a instanceof gh&&o instanceof gh}(i.transform,e.transform)}class zD{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ph{}function xT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new LT(i.key,Oi.none()):new gu(i.key,i.data,Oi.none());{const n=i.data,a=fr.empty();let o=new Xt(pn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Rs(i.key,a,new br(o.toArray()),Oi.none())}}function jD(i,e,n){i instanceof gu?function(o,u,f){const m=o.value.clone(),g=u0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Rs?function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=u0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(VT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Xl(i,e,n,a){return i instanceof gu?function(u,f,m,g){if(!Wc(u.precondition,f))return m;const y=u.value.clone(),E=c0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,a):i instanceof Rs?function(u,f,m,g){if(!Wc(u.precondition,f))return m;const y=c0(u.fieldTransforms,g,f),E=f.data;return E.setAll(VT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,a):function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function BD(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=DT(a.transform,o||null);u!=null&&(n===null&&(n=fr.empty()),n.set(a.field,u))}return n||null}function l0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Co(a,o,(u,f)=>UD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends Ph{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends Ph{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function VT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function u0(i,e,n){const a=new Map;dt(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,kD(f,m,n[o]))}return a}function c0(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,PD(u,f,e))}return a}class LT extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&jD(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Xl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Xl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=CT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=xT(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Pe.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(n,a)=>l0(n,a))&&Co(this.baseMutations,e.baseMutations,(n,a)=>l0(n,a))}}class mg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){dt(e.mutations.length===a.length);let o=function(){return OD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new mg(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,it;function KD(i){switch(i){case oe.OK:return Ve();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ve()}}function PT(i){if(i===void 0)return Vi("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Ft.OK:return oe.OK;case Ft.CANCELLED:return oe.CANCELLED;case Ft.UNKNOWN:return oe.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return oe.INTERNAL;case Ft.UNAVAILABLE:return oe.UNAVAILABLE;case Ft.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ft.NOT_FOUND:return oe.NOT_FOUND;case Ft.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ft.ABORTED:return oe.ABORTED;case Ft.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ft.DATA_LOSS:return oe.DATA_LOSS;default:return Ve()}}(it=Ft||(Ft={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Sa([4294967295,4294967295],0);function h0(i){const e=QD().encode(i),n=new ZE;return n.update(e),new Uint8Array(n.digest())}function f0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Sa([n,a],0),new Sa([o,u],0)]}class gg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(a<0)throw new Gl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Sa.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(Sa.fromNumber(a)));return o.compare($D)===1&&(o=new Sa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=h0(e),[a,o]=f0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gg(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=h0(e),[a,o]=f0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new kh(Pe.min(),o,new It(Ze),Li(),Xe())}}class pu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new pu(a,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class kT{constructor(e,n){this.targetId=e,this.ge=n}}class UT{constructor(e,n,a=vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class d0{constructor(){this.pe=0,this.ye=m0(),this.we=vn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Xe(),n=Xe(),a=Xe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ve()}}),new pu(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=m0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,dt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class YD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Li(),this.$e=Uc(),this.Ke=Uc(),this.Ue=new It(Ze)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(bm(u))if(a===0){const f=new Oe(u.path);this.ze(n,f,bn.newNoDocument(f,Pe.min()))}else dt(a===1);else{const f=this.et(n);if(f!==a){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Da(a).toUint8Array()}catch(g){if(g instanceof lT)return Ro("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new gg(f,o,u)}catch(g){return Ro(g instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&bm(m.target)){const g=new Oe(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,bn.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=Xe();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new kh(e,n,this.Ue,this.Qe,a);return this.Qe=Li(),this.$e=Uc(),this.Ke=Uc(),this.Ue=new It(Ze),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new d0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Xt(Ze),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xt(Ze),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new d0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Uc(){return new It(Oe.comparator)}function m0(){return new It(Oe.comparator)}const XD={asc:"ASCENDING",desc:"DESCENDING"},WD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZD={and:"AND",or:"OR"};class JD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(i,e){return i.useProto3Json||Nh(e)?e:{value:e}}function yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function e2(i,e){return yh(i,e.toTimestamp())}function Xr(i){return dt(!!i),Pe.fromTimestamp(function(n){const a=Ia(n);return new Ut(a.seconds,a.nanos)}(i))}function pg(i,e){return Cm(i,e).canonicalString()}function Cm(i,e){const n=function(o){return new At(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function jT(i){const e=At.fromString(i);return dt(GT(e)),e}function Im(i,e){return pg(i.databaseId,e.path)}function rm(i,e){const n=jT(e);if(n.get(1)!==i.databaseId.projectId)throw new De(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new De(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Oe(HT(n))}function BT(i,e){return pg(i.databaseId,e)}function t2(i){const e=jT(i);return e.length===4?At.emptyPath():HT(e)}function Dm(i){return new At(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function HT(i){return dt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function g0(i,e,n){return{name:Im(i,e),fields:n.value.mapValue.fields}}function n2(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(dt(E===void 0||typeof E=="string"),vn.fromBase64String(E||"")):(dt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),vn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?oe.UNKNOWN:PT(y.code);return new De(E,y.message||"")}(f);n=new UT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=rm(i,a.document.name),u=Xr(a.document.updateTime),f=a.document.createTime?Xr(a.document.createTime):Pe.min(),m=new fr({mapValue:{fields:a.document.fields}}),g=bn.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new Zc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=rm(i,a.document),u=a.readTime?Xr(a.readTime):Pe.min(),f=bn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Zc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=rm(i,a.document),u=a.removedTargetIds||[];n=new Zc([],u,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new GD(o,u),m=a.targetId;n=new kT(m,f)}}return n}function r2(i,e){let n;if(e instanceof gu)n={update:g0(i,e.key,e.value)};else if(e instanceof LT)n={delete:Im(i,e.key)};else if(e instanceof Rs)n={update:g0(i,e.key,e.data),updateMask:f2(e.fieldMask)};else{if(!(e instanceof HD))return Ve();n={verify:Im(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ve()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:e2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ve()}(i,e.precondition)),n}function i2(i,e){return i&&i.length>0?(dt(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Xr(o.updateTime):Xr(u);return f.isEqual(Pe.min())&&(f=Xr(u)),new zD(f,o.transformResults||[])}(n,e))):[]}function a2(i,e){return{documents:[BT(i,e.path)]}}function s2(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=BT(i,o);const u=function(y){if(y.length!==0)return FT(Jr.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:vo(R.field),direction:u2(R.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Rm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function o2(i){let e=t2(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){dt(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const R=qT(S);return R instanceof Jr&&vT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(R=>function(L){return new mh(_o(L.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Nh(R)?null:R}(n.limit));let g=null;n.startAt&&(g=function(S){const R=!!S.before,N=S.values||[];return new dh(N,R)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const R=!S.before,N=S.values||[];return new dh(N,R)}(n.endAt)),AD(e,o,f,u,m,"F",g,y)}function l2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=_o(n.unaryFilter.field);return Yt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return Yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(n.unaryFilter.field);return Yt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=_o(n.unaryFilter.field);return Yt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(i):i.fieldFilter!==void 0?function(n){return Yt.create(_o(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(a=>qT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(i):Ve()}function u2(i){return XD[i]}function c2(i){return WD[i]}function h2(i){return ZD[i]}function vo(i){return{fieldPath:i.canonicalString()}}function _o(i){return pn.fromServerFormat(i.fieldPath)}function FT(i){return i instanceof Yt?function(n){if(n.op==="=="){if(n0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(t0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(t0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:c2(n.op),value:n.value}}}(i):i instanceof Jr?function(n){const a=n.getFilters().map(o=>FT(o));return a.length===1?a[0]:{compositeFilter:{op:h2(n.op),filters:a}}}(i):Ve()}function f2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,a,o,u=Pe.min(),f=Pe.min(),m=vn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.Tt=e}}function m2(i){const e=o2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Tn=new p2}addToCollectionParentIndex(e,n){return this.Tn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ca.min())}updateCollectionGroup(e,n,a){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class p2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Xt(At.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KT=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(KT,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new No(0)}static Un(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="LruGarbageCollector",y2=1048576;function v0([i,e],[n,a]){const o=Ze(i,n);return o===0?Ze(e,a):o}class v2{constructor(e){this.Hn=e,this.buffer=new Xt(v0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();v0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(y0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?pe(y0,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.er(3e5)})}}class E2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Dh.ae);const a=new v2(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(p0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(y=Date.now(),po()<=Ye.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function T2(i,e){return new E2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.changes=new As(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?re.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Xl(a.mutation,o,br.empty(),Ut.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Xe()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Xe()){const o=gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Fl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=gs();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Xe()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=Li();const f=Yl(),m=function(){return Yl()}();return n.forEach((g,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Rs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Xl(E.mutation,y,E.mutation.getFieldMask(),Ut.now())):f.set(y.key,br.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var S;return m.set(y,new S2(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Yl();let o=new It((f,m)=>f-m),u=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=a.get(g)||br.empty();E=m.applyToLocalView(y,E),a.set(g,E);const S=(o.get(m.batchId)||Xe()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=CT();E.forEach(R=>{if(!u.has(R)){const N=xT(n.get(R),a.get(R));N!==null&&S.set(R,N),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return re.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Oe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):re.resolve(gs());let m=tu,g=u;return f.next(y=>re.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{g=g.insert(E,R)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Xe())).next(E=>({batchId:m,changes:RT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(a=>{let o=Fl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>re.forEach(m,g=>{const y=function(S,R){return new Mh(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,bn.newInvalidDocument(E)))});let m=Fl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Xl(E.mutation,y,br.empty(),Ut.now()),Vh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Xr(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:m2(o.bundledQuery),readTime:Xr(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.overlays=new It(Oe.comparator),this.Rr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const a=gs();return re.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),re.resolve()}getOverlaysForCollection(e,n,a){const o=gs(),u=n.length+1,f=new Oe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new It((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=gs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=gs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return re.resolve(m)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new FD(n,a));let u=this.Rr.get(n);u===void 0&&(u=Xe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Vr=new Xt(ln.mr),this.gr=new Xt(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new ln(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new ln(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new Oe(new At([])),a=new ln(n,e),o=new ln(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Oe(new At([])),a=new ln(n,e),o=new ln(n,e+1);let u=Xe();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new ln(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class ln{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Oe.comparator(e.key,n.key)||Ze(e.Cr,n.Cr)}static pr(e,n){return Ze(e.Cr,n.Cr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(ln.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new qD(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new ln(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?lg:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new ln(n,0),o=new ln(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(Ze);return n.forEach(o=>{const u=new ln(o,0),f=new ln(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),re.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Oe.isDocumentKey(u)||(u=u.child(""));const f=new ln(new Oe(u),0);let m=new Xt(Ze);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),re.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){dt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return re.forEach(n.mutations,o=>{const u=new ln(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new ln(n,0),o=this.Mr.firstAfterOrEqual(a);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.kr=e,this.docs=function(){return new It(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return re.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let a=Li();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():bn.newInvalidDocument(o))}),re.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Li();const f=n.path,m=new Oe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||rD(nD(E),a)<=0||(o.has(E.key)||Vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ve()}qr(e,n){return re.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new N2(this)}getSize(e){return re.resolve(this.size)}}class N2 extends w2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.persistence=e,this.Qr=new As(n=>hg(n),fg),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yg,this.targetCount=0,this.Ur=No.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new No(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.zn(n),re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return re.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),re.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return re.resolve(a)}containsKey(e,n){return re.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Dh(0),this.zr=!1,this.zr=!0,this.jr=new C2,this.referenceDelegate=e(this),this.Hr=new O2(this),this.indexManager=new g2,this.remoteDocumentCache=function(o){return new D2(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new d2(n),this.Yr=new A2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new I2(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){pe("MemoryPersistence","Starting transaction:",e);const o=new M2(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return re.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class M2 extends aD{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.ti=new yg,this.ni=null}static ri(e){return new vg(e)}get ii(){if(this.ni)return this.ni;throw Ve()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),re.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),re.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,a=>{const o=Oe.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,Pe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return re.or([()=>re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.oi=new As(a=>lD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=T2(this,n)}static ri(e,n){return new vh(e,n)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return re.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?re.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Pe.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),re.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yc(e.data.value)),n}ar(e,n,a){return re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return re.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=Xe(),o=Xe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _g(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return DR()?8:sD(An())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new x2;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(po()<=Ye.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(po()<=Ye.DEBUG&&pe("QueryEngine","Query:",yo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(po()<=Ye.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):re.resolve())}rs(e,n){if(s0(n))return re.resolve(null);let a=Yr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Am(n,null,"F"),a=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Xe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(e,Am(n,null,"F")):this.hs(e,y,n,g)}))})))}ss(e,n,a,o){return s0(n)||o.isEqual(Pe.min())?re.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?re.resolve(null):(po()<=Ye.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.hs(e,f,n,tD(o,tu)).next(m=>m))})}cs(e,n){let a=new Xt(bT(e));return n.forEach((o,u)=>{Vh(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return po()<=Ye.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ns.getDocumentsMatchingQuery(e,n,Ca.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",L2=3e8;class P2{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new It(Ze),this.Is=new As(u=>hg(u),fg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function k2(i,e,n,a){return new P2(i,e,n,a)}async function $T(i,e){const n=Ue(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=Xe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function U2(i,e){const n=Ue(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const S=y.batch,R=S.keys();let N=re.resolve();return R.forEach(L=>{N=N.next(()=>E.getEntry(g,L)).next($=>{const H=y.docVersions.get(L);dt(H!==null),$.version.compareTo(H)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=Xe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function YT(i){const e=Ue(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function z2(i,e){const n=Ue(i),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let N=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(vn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,a)),o=o.insert(S,N),function($,H,X){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=L2?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(R,N,E)&&m.push(n.Hr.updateTargetData(u,N))});let g=Li(),y=Xe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(j2(u,f,e.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!a.isEqual(Pe.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return re.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function j2(i,e,n){let a=Xe(),o=Xe();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=Li();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Pe.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):pe(Eg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function B2(i,e){const n=Ue(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=lg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function H2(i,e){const n=Ue(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,re.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new _a(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Nm(i,e,n){const a=Ue(i),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Uo(f))throw f;pe(Eg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function _0(i,e,n){const a=Ue(i);let o=Pe.min(),u=Xe();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=Ue(g),R=S.Is.get(E);return R!==void 0?re.resolve(S.Ts.get(R)):S.Hr.getTargetData(y,E)}(a,f,Yr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:Pe.min(),n?u:Xe())).next(m=>(q2(a,ID(e),m),{documents:m,gs:u})))}function q2(i,e,n){let a=i.Es.get(e)||Pe.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(e,a)}class E0{constructor(){this.activeTargetIds=VD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F2{constructor(){this.ho=new E0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new E0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="ConnectivityMonitor";class w0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(T0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(T0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Om(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(e,n,a,o,u){const f=Om(),m=this.So(e,n.toUriEncodedString());pe(im,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,a).then(y=>(pe(im,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Ro(im,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Co(e,n,a,o,u,f){return this.bo(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}So(e,n){const a=K2[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class Y2 extends Q2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=Om();return new Promise((f,m)=>{const g=new JE;g.setWithCredentials(!0),g.listenOnce(eT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case $c.NO_ERROR:const E=g.getResponseJson();pe(wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case $c.TIMEOUT:pe(wn,`RPC '${e}' ${u} timed out`),m(new De(oe.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const S=g.getStatus();if(pe(wn,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R==null?void 0:R.error;if(N&&N.status&&N.message){const L=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(X)>=0?X:oe.UNKNOWN}(N.status);m(new De(L,N.message))}else m(new De(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new De(oe.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{pe(wn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);pe(wn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",y,a,15)})}Wo(e,n,a){const o=Om(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=rT(),m=nT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");pe(wn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);let R=!1,N=!1;const L=new $2({Fo:H=>{N?pe(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(R||(pe(wn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),pe(wn,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Mo:()=>S.close()}),$=(H,X,ee)=>{H.listen(X,ie=>{try{ee(ie)}catch(_e){setTimeout(()=>{throw _e},0)}})};return $(S,ql.EventType.OPEN,()=>{N||(pe(wn,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),$(S,ql.EventType.CLOSE,()=>{N||(N=!0,pe(wn,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),$(S,ql.EventType.ERROR,H=>{N||(N=!0,Ro(wn,`RPC '${e}' stream ${o} transport errored:`,H),L.Ko(new De(oe.UNAVAILABLE,"The operation could not be completed")))}),$(S,ql.EventType.MESSAGE,H=>{var X;if(!N){const ee=H.data[0];dt(!!ee);const ie=ee,_e=(ie==null?void 0:ie.error)||((X=ie[0])===null||X===void 0?void 0:X.error);if(_e){pe(wn,`RPC '${e}' stream ${o} received error:`,_e);const k=_e.status;let he=function(b){const I=Ft[b];if(I!==void 0)return PT(I)}(k),O=_e.message;he===void 0&&(he=oe.INTERNAL,O="Unknown error status: "+k+" with message "+_e.message),N=!0,L.Ko(new De(he,O)),S.close()}else pe(wn,`RPC '${e}' stream ${o} received:`,ee),L.Uo(ee)}}),$(m,tT.STAT_EVENT,H=>{H.stat===Em.PROXY?pe(wn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Em.NOPROXY&&pe(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(i){return new JD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class WT{constructor(e,n,a,o,u,f,m,g){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new XT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new De(oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(pe(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X2 extends WT{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=n2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Pe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Pe.min():f.readTime?Xr(f.readTime):Pe.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Dm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=bm(g)?{documents:a2(u,g)}:{query:s2(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=zT(u,f.resumeToken);const y=Rm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Pe.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const y=Rm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=l2(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Dm(this.serializer),n.removeTarget=e,this.I_(n)}}class W2 extends WT{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=i2(e.writeResults,e.commitTime),a=Xr(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Dm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>r2(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{}class J2 extends Z2{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new De(oe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Cm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new De(oe.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Cm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new De(oe.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class eN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vi(n),this.N_=!1):pe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="RemoteStore";class tN{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{Cs(this)&&(pe(Ts,"Restarting streams for network reachability change."),await async function(g){const y=Ue(g);y.W_.add(4),await yu(y),y.j_.set("Unknown"),y.W_.delete(4),await zh(y)}(this))})}),this.j_=new eN(a,o)}}async function zh(i){if(Cs(i))for(const e of i.G_)await e(!0)}async function yu(i){for(const e of i.G_)await e(!1)}function ZT(i,e){const n=Ue(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),bg(n)?Sg(n):zo(n).c_()&&wg(n,e))}function Tg(i,e){const n=Ue(i),a=zo(n);n.U_.delete(e),a.c_()&&JT(n,e),n.U_.size===0&&(a.c_()?a.P_():Cs(n)&&n.j_.set("Unknown"))}function wg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(i).y_(e)}function JT(i,e){i.H_.Ne(e),zo(i).w_(e)}function Sg(i){i.H_=new YD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),zo(i).start(),i.j_.B_()}function bg(i){return Cs(i)&&!zo(i).u_()&&i.U_.size>0}function Cs(i){return Ue(i).W_.size===0}function ew(i){i.H_=void 0}async function nN(i){i.j_.set("Online")}async function rN(i){i.U_.forEach((e,n)=>{wg(i,e)})}async function iN(i,e){ew(i),bg(i)?(i.j_.q_(e),Sg(i)):i.j_.set("Unknown")}async function aN(i,e,n){if(i.j_.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(a){pe(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await _h(i,a)}else if(e instanceof Zc?i.H_.We(e):e instanceof kT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Pe.min()))try{const a=await YT(i.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(vn.EMPTY_BYTE_STRING,E.snapshotVersion)),JT(u,g);const S=new _a(E.target,g,y,E.sequenceNumber);wg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){pe(Ts,"Failed to raise snapshot:",a),await _h(i,a)}}async function _h(i,e,n){if(!Uo(e))throw e;i.W_.add(1),await yu(i),i.j_.set("Offline"),n||(n=()=>YT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pe(Ts,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await zh(i)})}function tw(i,e){return e().catch(n=>_h(i,n,e))}async function jh(i){const e=Ue(i),n=Oa(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:lg;for(;sN(e);)try{const o=await B2(e.localStore,a);if(o===null){e.K_.length===0&&n.P_();break}a=o.batchId,oN(e,o)}catch(o){await _h(e,o)}nw(e)&&rw(e)}function sN(i){return Cs(i)&&i.K_.length<10}function oN(i,e){i.K_.push(e);const n=Oa(i);n.c_()&&n.b_&&n.S_(e.mutations)}function nw(i){return Cs(i)&&!Oa(i).u_()&&i.K_.length>0}function rw(i){Oa(i).start()}async function lN(i){Oa(i).C_()}async function uN(i){const e=Oa(i);for(const n of i.K_)e.S_(n.mutations)}async function cN(i,e,n){const a=i.K_.shift(),o=mg.from(a,e,n);await tw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await jh(i)}async function hN(i,e){e&&Oa(i).b_&&await async function(a,o){if(function(f){return KD(f)&&f!==oe.ABORTED}(o.code)){const u=a.K_.shift();Oa(a).h_(),await tw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await jh(a)}}(i,e),nw(i)&&rw(i)}async function b0(i,e){const n=Ue(i);n.asyncQueue.verifyOperationInProgress(),pe(Ts,"RemoteStore received new credentials");const a=Cs(n);n.W_.add(3),await yu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await zh(n)}async function fN(i,e){const n=Ue(i);e?(n.W_.delete(2),await zh(n)):e||(n.W_.add(2),await yu(n),n.j_.set("Unknown"))}function zo(i){return i.J_||(i.J_=function(n,a,o){const u=Ue(n);return u.M_(),new X2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:nN.bind(null,i),No:rN.bind(null,i),Lo:iN.bind(null,i),p_:aN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),bg(i)?Sg(i):i.j_.set("Unknown")):(await i.J_.stop(),ew(i))})),i.J_}function Oa(i){return i.Y_||(i.Y_=function(n,a,o){const u=Ue(n);return u.M_(),new W2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:lN.bind(null,i),Lo:hN.bind(null,i),D_:uN.bind(null,i),v_:cN.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await jh(i)):(await i.Y_.stop(),i.K_.length>0&&(pe(Ts,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Ag(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(i,e){if(Vi("AsyncQueue",`${e}: ${i}`),Uo(i))return new De(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Oe.comparator(n.key,a.key):(n,a)=>Oe.comparator(n.key,a.key),this.keyedMap=Fl(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new So;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.Z_=new It(Oe.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ve():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class Oo{constructor(e,n,a,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Oo(e,n,So.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class mN{constructor(){this.queries=R0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=Ue(n),u=o.queries;o.queries=R0(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(a)})})(this,new De(oe.ABORTED,"Firestore shutting down"))}}function R0(){return new As(i=>ST(i),xh)}async function gN(i,e){const n=Ue(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new dN,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Rg(f,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Cg(n)}async function pN(i,e){const n=Ue(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yN(i,e){const n=Ue(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&Cg(n)}function vN(i,e,n){const a=Ue(i),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function Cg(i){i.ia.forEach(e=>{e.next()})}var Mm,C0;(C0=Mm||(Mm={}))._a="default",C0.Cache="cache";class _N{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Oo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class aw{constructor(e){this.key=e}}class EN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Xe(),this.mutatedKeys=Xe(),this.ya=bT(e),this.wa=new So(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new A0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),N=Vh(this.query,S)?S:null,L=!!R&&this.mutatedKeys.has(R.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let H=!1;R&&N?R.data.isEqual(N.data)?L!==$&&(a.track({type:3,doc:N}),H=!0):this.va(R,N)||(a.track({type:2,doc:N}),H=!0,(g&&this.ya(N,g)>0||y&&this.ya(N,y)<0)&&(m=!0)):!R&&N?(a.track({type:0,doc:N}),H=!0):R&&!N&&(a.track({type:1,doc:R}),H=!0,(g||y)&&(m=!0)),H&&(N?(f=f.add(N),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(N,L){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return $(N)-$(L)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Oo(this.query,e.wa,u,f,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new A0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Xe(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new aw(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new iw(a))}),n}Oa(e){this.fa=e.gs,this.pa=Xe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Oo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ig="SyncEngine";class TN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class wN{constructor(e){this.key=e,this.Ba=!1}}class SN{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new As(m=>ST(m),xh),this.qa=new Map,this.Qa=new Set,this.$a=new It(Oe.comparator),this.Ka=new Map,this.Ua=new yg,this.Wa={},this.Ga=new Map,this.za=No.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bN(i,e,n=!0){const a=hw(i);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await sw(a,e,n,!0),o}async function AN(i,e){const n=hw(i);await sw(n,e,!0,!1)}async function sw(i,e,n,a){const o=await H2(i.localStore,Yr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await RN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&ZT(i.remoteStore,o),m}async function RN(i,e,n,a,o){i.Ha=(S,R,N)=>async function($,H,X,ee){let ie=H.view.Sa(X);ie.ls&&(ie=await _0($.localStore,H.query,!1).then(({documents:O})=>H.view.Sa(O,ie)));const _e=ee&&ee.targetChanges.get(H.targetId),k=ee&&ee.targetMismatches.get(H.targetId)!=null,he=H.view.applyChanges(ie,$.isPrimaryClient,_e,k);return D0($,H.targetId,he.Ma),he.snapshot}(i,S,R,N);const u=await _0(i.localStore,e,!0),f=new EN(e,u.gs),m=f.Sa(u.documents),g=pu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);D0(i,n,y.Ma);const E=new TN(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),y.snapshot}async function CN(i,e,n){const a=Ue(i),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!xh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Nm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Tg(a.remoteStore,o.targetId),xm(a,o.targetId)}).catch(ko)):(xm(a,o.targetId),await Nm(a.localStore,o.targetId,!0))}async function IN(i,e){const n=Ue(i),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Tg(n.remoteStore,a.targetId))}async function DN(i,e,n){const a=PN(i);try{const o=await function(f,m){const g=Ue(f),y=Ut.now(),E=m.reduce((N,L)=>N.add(L.key),Xe());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let L=Li(),$=Xe();return g.ds.getEntries(N,E).next(H=>{L=H,L.forEach((X,ee)=>{ee.isValidDocument()||($=$.add(X))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,L)).next(H=>{S=H;const X=[];for(const ee of m){const ie=BD(ee,S.get(ee.key).overlayedDocument);ie!=null&&X.push(new Rs(ee.key,ie,gT(ie.value.mapValue),Oi.exists(!0)))}return g.mutationQueue.addMutationBatch(N,y,X,m)}).next(H=>{R=H;const X=H.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(N,H.batchId,X)})}).then(()=>({batchId:R.batchId,changes:RT(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new It(Ze)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(a,o.batchId,n),await vu(a,o.changes),await jh(a.remoteStore)}catch(o){const u=Rg(o,"Failed to persist write");n.reject(u)}}async function ow(i,e){const n=Ue(i);try{const a=await z2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?dt(f.Ba):o.removedDocuments.size>0&&(dt(f.Ba),f.Ba=!1))}),await vu(n,a,e)}catch(a){await ko(a)}}function I0(i,e,n){const a=Ue(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Ue(f);g.onlineState=m;let y=!1;g.queries.forEach((E,S)=>{for(const R of S.ta)R.sa(m)&&(y=!0)}),y&&Cg(g)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function NN(i,e,n){const a=Ue(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ka.get(e),u=o&&o.key;if(u){let f=new It(Oe.comparator);f=f.insert(u,bn.newNoDocument(u,Pe.min()));const m=Xe().add(u),g=new kh(Pe.min(),new Map,new It(Ze),f,m);await ow(a,g),a.$a=a.$a.remove(u),a.Ka.delete(e),Dg(a)}else await Nm(a.localStore,e,!1).then(()=>xm(a,e,n)).catch(ko)}async function ON(i,e){const n=Ue(i),a=e.batch.batchId;try{const o=await U2(n.localStore,e);uw(n,a,null),lw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await vu(n,o)}catch(o){await ko(o)}}async function MN(i,e,n){const a=Ue(i);try{const o=await function(f,m){const g=Ue(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(dt(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(a.localStore,e);uw(a,e,n),lw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await vu(a,o)}catch(o){await ko(o)}}function lw(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function uw(i,e,n){const a=Ue(i);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function xm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.qa.get(e))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(a=>{i.Ua.containsKey(a)||cw(i,a)})}function cw(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Tg(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),Dg(i))}function D0(i,e,n){for(const a of n)a instanceof iw?(i.Ua.addReference(a.key,e),xN(i,a)):a instanceof aw?(pe(Ig,"Document no longer in limbo: "+a.key),i.Ua.removeReference(a.key,e),i.Ua.containsKey(a.key)||cw(i,a.key)):Ve()}function xN(i,e){const n=e.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(pe(Ig,"New document in limbo: "+n),i.Qa.add(a),Dg(i))}function Dg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Oe(At.fromString(e)),a=i.za.next();i.Ka.set(a,new wN(n)),i.$a=i.$a.insert(n,a),ZT(i.remoteStore,new _a(Yr(wT(n.path)),a,"TargetPurposeLimboResolution",Dh.ae))}}async function vu(i,e,n){const a=Ue(i),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,g)=>{f.push(a.Ha(g,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=_g.Yi(g.targetId,y);u.push(S)}}))}),await Promise.all(f),a.La.p_(o),await async function(g,y){const E=Ue(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>re.forEach(y,R=>re.forEach(R.Hi,N=>E.persistence.referenceDelegate.addReference(S,R.targetId,N)).next(()=>re.forEach(R.Ji,N=>E.persistence.referenceDelegate.removeReference(S,R.targetId,N)))))}catch(S){if(!Uo(S))throw S;pe(Eg,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const N=E.Ts.get(R),L=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(R,$)}}}(a.localStore,u))}async function VN(i,e){const n=Ue(i);if(!n.currentUser.isEqual(e)){pe(Ig,"User change. New user:",e.toKey());const a=await $T(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new De(oe.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await vu(n,a.Rs)}}function LN(i,e){const n=Ue(i),a=n.Ka.get(e);if(a&&a.Ba)return Xe().add(a.key);{let o=Xe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function hw(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NN.bind(null,e),e.La.p_=yN.bind(null,e.eventManager),e.La.Ja=vN.bind(null,e.eventManager),e}function PN(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ON.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return k2(this.persistence,new V2,e.initialUser,this.serializer)}Xa(e){return new QT(vg.ri,this.serializer)}Za(e){return new F2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class kN extends Eh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){dt(this.persistence.referenceDelegate instanceof vh);const a=this.persistence.referenceDelegate.garbageCollector;return new _2(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new QT(a=>vh.ri(a,n),this.serializer)}}class Vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>I0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=VN.bind(null,this.syncEngine),await fN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mN}()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),a=function(u){return new Y2(u)}(e.databaseInfo);return function(u,f,m,g){return new J2(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new tN(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>I0(this.syncEngine,n,0),function(){return w0.D()?new w0:new G2}())}createSyncEngine(e,n){return function(o,u,f,m,g,y,E){const S=new SN(o,u,f,m,g,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ue(o);pe(Ts,"RemoteStore shutting down."),u.W_.add(5),await yu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vm.provider={build:()=>new Vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class zN{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=aT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{pe(Ma,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(pe(Ma,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Rg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function sm(i,e){i.asyncQueue.verifyOperationInProgress(),pe(Ma,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await $T(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function N0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await jN(i);pe(Ma,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>b0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>b0(e.remoteStore,o)),i._onlineComponents=e}async function jN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(Ma,"Using user provided OfflineComponentProvider");try{await sm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await sm(i,new Eh)}}else pe(Ma,"Using default OfflineComponentProvider"),await sm(i,new kN(void 0));return i._offlineComponents}async function fw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(Ma,"Using user provided OnlineComponentProvider"),await N0(i,i._uninitializedComponentsProvider._online)):(pe(Ma,"Using default OnlineComponentProvider"),await N0(i,new Vm))),i._onlineComponents}function BN(i){return fw(i).then(e=>e.syncEngine)}async function HN(i){const e=await fw(i),n=e.eventManager;return n.onListen=bN.bind(null,e.syncEngine),n.onUnlisten=CN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IN.bind(null,e.syncEngine),n}function qN(i,e,n={}){const a=new ba;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new UN({next:R=>{E.su(),f.enqueueAndForget(()=>pN(u,S)),R.fromCache&&g.source==="server"?y.reject(new De(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new _N(m,E,{includeMetadataChanges:!0,Ta:!0});return gN(u,S)}(await HN(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(i,e,n){if(!n)throw new De(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FN(i,e,n,a){if(e===!0&&a===!0)throw new De(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function M0(i){if(!Oe.isDocumentKey(i))throw new De(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function x0(i){if(Oe.isDocumentKey(i))throw new De(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ng(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ve()}function Th(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new De(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(i);throw new De(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firestore.googleapis.com",V0=!0;class L0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new De(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gw,this.ssl=V0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:V0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y2)throw new De(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dw((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new De(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new De(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new De(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new QI;switch(a.type){case"firstParty":return new WI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new De(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=O0.get(n);a&&(pe("ComponentProvider","Removing Datastore"),O0.delete(n),a.terminate())}(this),Promise.resolve()}}function GN(i,e,n,a={}){var o;const u=(i=Th(i,Bh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==gw&&u.host!==m&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!ys(g,f)&&(i._setSettings(g),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=Sn.MOCK_USER;else{y=wR(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new De(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Sn(S)}i._authCredentials=new $I(new iT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Hh(this.firestore,e,this._query)}}class Rr{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class Aa extends Hh{constructor(e,n,a){super(e,n,wT(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new Oe(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function pw(i,e,...n){if(i=Cr(i),mw("collection","path",e),i instanceof Bh){const a=At.fromString(e,...n);return x0(a),new Aa(i,null,a)}{if(!(i instanceof Rr||i instanceof Aa))throw new De(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(At.fromString(e,...n));return x0(a),new Aa(i.firestore,null,a)}}function KN(i,e,...n){if(i=Cr(i),arguments.length===1&&(e=aT.newId()),mw("doc","path",e),i instanceof Bh){const a=At.fromString(e,...n);return M0(a),new Rr(i,null,new Oe(a))}{if(!(i instanceof Rr||i instanceof Aa))throw new De(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(At.fromString(e,...n));return M0(a),new Rr(i.firestore,i instanceof Aa?i.converter:null,new Oe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new XT(this,"async_queue_retry"),this.bu=()=>{const a=am();a&&pe(P0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ba;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Uo(e))throw e;pe(P0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw Vi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Ag.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Og extends Bh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new k0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function QN(i,e){const n=typeof i=="object"?i:vE(),a=typeof i=="string"?i:hh,o=Ym(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=ER("firestore");u&&GN(o,...u)}return o}function yw(i){if(i._terminated)throw new De(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$N(i),i._firestoreClient}function $N(i){var e,n,a;const o=i._freezeSettings(),u=function(m,g,y,E){return new hD(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,dw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new zN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(vn.fromBase64String(e))}catch(n){throw new De(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mo(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=/^__.*__$/;class XN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}function _w(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class Lg{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return wh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(_w(this.Lu)&&YN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class WN{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Uh(e)}ju(e,n,a,o=!1){return new Lg({Lu:e,methodName:n,zu:a,path:pn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZN(i){const e=i._freezeSettings(),n=Uh(i._databaseId);return new WN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function JN(i,e,n,a,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);Sw("Data must be an object, but it was:",f,a);const m=Tw(a,f);let g,y;if(u.merge)g=new br(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=eO(e,S,n);if(!f.contains(R))throw new De(oe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);nO(E,R)||E.push(R)}g=new br(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new XN(new fr(m),g,y)}function Ew(i,e){if(ww(i=Cr(i)))return Sw("Unsupported field value:",e,i),Tw(i,e);if(i instanceof vw)return function(a,o){if(!_w(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let g=Ew(m,o.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=Cr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return LD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ut.fromDate(a);return{timestampValue:yh(o.serializer,u)}}if(a instanceof Ut){const u=new Ut(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(a instanceof xg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Mo)return{bytesValue:zT(o.serializer,a._byteString)};if(a instanceof Rr){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Vg)return function(f,m){return{mapValue:{fields:{[dT]:{stringValue:mT},[fh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return dg(m.serializer,y)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Ng(a)}`)}(i,e)}function Tw(i,e){const n={};return oT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,(a,o)=>{const u=Ew(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function ww(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ut||i instanceof xg||i instanceof Mo||i instanceof Rr||i instanceof vw||i instanceof Vg)}function Sw(i,e,n){if(!ww(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Ng(n);throw a==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+a)}}function eO(i,e,n){if((e=Cr(e))instanceof Mg)return e._internalPath;if(typeof e=="string")return bw(i,e);throw wh("Field path arguments must be of type string or ",i,!1,void 0,n)}const tO=new RegExp("[~\\*/\\[\\]]");function bw(i,e,n){if(e.search(tO)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Mg(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function wh(i,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new De(oe.INVALID_ARGUMENT,m+i+g)}function nO(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rO extends Aw{data(){return super.data()}}function Rw(i,e){return typeof e=="string"?bw(i,e):e instanceof Mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new De(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aO{convertValue(e,n="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return bs(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[fh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>kt(f.doubleValue));return new Vg(u)}convertGeoPoint(e){return new xg(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Oh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Ia(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=At.fromString(e);dt(GT(a));const o=new ru(a.get(1),a.get(3)),u=new Oe(a.popFirst(5));return o.isEqual(n)||Vi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(i,e,n){let a;return a=i?i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oO extends Aw{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Rw("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Jc extends oO{data(e={}){return super.data(e)}}class lO{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Jc(this._firestore,this._userDataWriter,a.key,a,new jc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:uO(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}class cO extends aO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function hO(i){i=Th(i,Hh);const e=Th(i.firestore,Og),n=yw(e),a=new cO(e);return iO(i._query),qN(n,i._query).then(o=>new lO(e,a,i,o))}function fO(i,e){const n=Th(i.firestore,Og),a=KN(i),o=sO(i.converter,e);return dO(n,[JN(ZN(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,Oi.exists(!1))]).then(()=>a)}function dO(i,e){return function(a,o){const u=new ba;return a.asyncQueue.enqueueAndForget(async()=>DN(await BN(a),o,u)),u.promise}(yw(i),e)}(function(e,n=!0){(function(o){Po=o})(Vo),bo(new vs("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Og(new YI(a.getProvider("auth-internal")),new ZI(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new De(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),wa(F_,G_,e),wa(F_,G_,"esm2017")})();const mO={apiKey:"AIzaSyCXRE7z8vQTIrATYXJv7kG4rcNUjudtm1s",authDomain:"twonotes-edu.firebaseapp.com",projectId:"twonotes-edu",storageBucket:"twonotes-edu.firebasestorage.app",messagingSenderId:"573237270223",appId:"1:573237270223:web:f824d22c98e0194a3649ba",measurementId:"G-RKTR6XEESQ"},Cw=yE(mO),gO=qI(Cw),Iw=QN(Cw),pO=()=>{const i=Hm(),e=async()=>{try{const n=new Ci,a=await ZC(gO,n),o=await a.user.getIdToken();localStorage.setItem("authToken",o),localStorage.setItem("user",JSON.stringify(a.user)),console.log("Usuario autenticado:",a.user),i("/dashboard")}catch(n){console.error("Error en autenticacin:",n)}};return Z.jsxs("button",{onClick:e,className:"btn btn-outline",children:[Z.jsx("i",{class:"bi bi-google"}),"Iniciar sesin con Google"]})};function yO(){return Z.jsxs("div",{className:"w-full flex flex-col items-center justify-center",children:[Z.jsxs("div",{className:"text-center my-3",children:[Z.jsx("h1",{className:"text-4xl font-bold my-5",children:"TwoNotes"}),Z.jsx("p",{className:"text-center text-white-50",children:"Bienvenido a TwoNotes"}),Z.jsx("p",{className:"text-center text-white-50",children:"Inicia sesion para continuar"})]}),Z.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-2 px-20 lg:px-32",children:[Z.jsx("input",{type:"text",placeholder:"Email",className:"input rounded-md w-full"}),Z.jsx("a",{href:"/dashboard",className:"btn btn-primary w-full",children:"Login"})]}),Z.jsxs("div",{class:"flex w-full px-20 lg:px-32 flex-col my-3",children:[Z.jsx("div",{class:"divider",children:"OR"}),Z.jsx(pO,{})]})]})}function vO(){return Z.jsxs(xo,{className:"w-full h-full flex flex-row",children:[Z.jsxs("div",{className:"hidden lg:block w-1/2 h-full bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/Simple Book Preloader.gif')"},children:[Z.jsx("img",{src:"/Simple Book Preloader.gif",alt:"Gif de prueba"}),Z.jsx("span",{className:"sr-only",children:"Imagen decorativa del login"})]}),Z.jsx("div",{className:"flex flex-col justify-center items-center w-full lg:w-1/2",children:Z.jsx(yO,{})})]})}function Dw(){return Z.jsxs("div",{className:"navbar bg-base-200 shadow-sm",children:[Z.jsx("div",{className:"navbar-start",children:Z.jsx("div",{tabindex:"0",role:"button",className:"drawer-button btn btn-ghost btn-circle",htmlFor:"my-drawer-2",children:Z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[" ",Z.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h7"})," "]})})}),Z.jsx("div",{className:"navbar-center",children:Z.jsx("a",{href:"/",className:"btn btn-ghost text-xl",children:"TwoNotes"})}),Z.jsxs("div",{className:"navbar-end",children:[Z.jsxs("label",{className:"swap swap-rotate",children:[Z.jsx("input",{type:"checkbox",className:"theme-controller",value:"light"}),Z.jsx("svg",{className:"swap-off h-7 w-7 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Z.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),Z.jsx("svg",{className:"swap-on h-7 w-7 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Z.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}),Z.jsx("button",{className:"btn btn-ghost btn-circle",children:Z.jsxs("div",{className:"indicator",children:[Z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[" ",Z.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})," "]}),Z.jsx("span",{className:"badge badge-xs badge-primary indicator-item"})]})})]})]})}function _O(i){return Z.jsx("svg",{...i,width:20,"data-slot":"icon",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:Z.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})})}function U0(){return Z.jsxs("div",{className:"flex flex-col items-center justify-center h-full mx-10 md:mx-44 lg:mx-52",children:[Z.jsx(_O,{className:"w-28 text-base-content/60"}),Z.jsxs("div",{className:"flex flex-col items-center my-5 gap-3",children:[Z.jsx("h1",{className:"text-3xl font-bold",children:"Bienvenido a TwoNotes"}),Z.jsx("p",{className:" text-center",children:"Para iniciar, sube tu horario"}),Z.jsx("button",{className:"btn btn-primary",children:"Horario"})]})]})}function EO(){const[i,e]=Q.useState("");return Q.useEffect(()=>{const n=localStorage.getItem("user");if(n){const a=JSON.parse(n);e(a.displayName||"Tu espacio")}console.log(n)},[]),Z.jsx(xo,{className:"w-full h-full px-5 py-32",children:i?Z.jsx(U0,{}):Z.jsx(U0,{})})}function TO(){return Z.jsxs("div",{className:"drawer w-fit lg:drawer-open",children:[Z.jsx("input",{id:"my-drawer-2",type:"checkbox",className:"drawer-toggle"}),Z.jsx("div",{className:"drawer-content flex flex-col items-center justify-center"}),Z.jsxs("div",{className:"drawer-side",children:[Z.jsx("label",{htmlFor:"my-drawer-2","aria-label":"close sidebar",className:"drawer-overlay"}),Z.jsxs("ul",{className:"menu bg-base-200 text-base-content min-h-full w-80 p-4",children:[Z.jsx("li",{children:Z.jsx("a",{children:"Sidebar Item 1"})}),Z.jsx("li",{children:Z.jsx("a",{children:"Sidebar Item 2"})})]})]})]})}function wO(){return Z.jsxs(xo,{className:"w-screen h-screen flex flex-col overflow-x-hidden",children:[Z.jsx(Dw,{}),Z.jsxs("div",{className:"flex flex-row",children:[Z.jsx(TO,{}),Z.jsx(EO,{})]})]})}const z0=({children:i})=>{const e=Hm(),n=localStorage.getItem("authToken");return Q.useEffect(()=>{n||e("/login")},[n,e]),n?i:null},mn=[];for(let i=0;i<256;++i)mn.push((i+256).toString(16).slice(1));function SO(i,e=0){return(mn[i[e+0]]+mn[i[e+1]]+mn[i[e+2]]+mn[i[e+3]]+"-"+mn[i[e+4]]+mn[i[e+5]]+"-"+mn[i[e+6]]+mn[i[e+7]]+"-"+mn[i[e+8]]+mn[i[e+9]]+"-"+mn[i[e+10]]+mn[i[e+11]]+mn[i[e+12]]+mn[i[e+13]]+mn[i[e+14]]+mn[i[e+15]]).toLowerCase()}let om;const bO=new Uint8Array(16);function AO(){if(!om){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");om=crypto.getRandomValues.bind(crypto)}return om(bO)}const RO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j0={randomUUID:RO};function CO(i,e,n){var o;if(j0.randomUUID&&!i)return j0.randomUUID();i=i||{};const a=i.random??((o=i.rng)==null?void 0:o.call(i))??AO();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,SO(a)}const IO=async(i,e)=>{const n=CO();await fO(pw(Iw,`usuarios/${i}/tareas`),{id:n,...e})},DO=async i=>(await hO(pw(Iw,`usuarios/${i}/tareas`))).docs.map(n=>({id:n.id,...n.data()}));function NO(i){return Z.jsx("svg",{...i,"data-slot":"icon",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:Z.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})})}function OO({closeModal:i}){const[e,n]=Q.useState(""),[a,o]=Q.useState(""),[u,f]=Q.useState(new Date(new Date().setDate(new Date().getDate()+7))),[m,g]=Q.useState("1"),[y]=Q.useState(!1),[E,S]=Q.useState(!1),[R,N]=Q.useState(null),[L,$]=Q.useState(null),H=async()=>{const X=localStorage.getItem("user"),ee=X?JSON.parse(X).uid:null;if(!ee){N("Error: Usuario no autenticado");return}S(!0),N(null),$(null);try{const ie={descripcion:e,fecha_creacion:Ut.fromDate(new Date),fecha_entrega:Ut.fromDate(u),curso:a,prioridad:parseInt(m,10),estado:y};await IO(ee,ie),$("Tarea creada exitosamente"),n(""),f(new Date(new Date().setDate(new Date().getDate()+7))),o(""),g("1")}catch(ie){N("Error al crear la tarea"),console.error(ie)}finally{S(!1)}};return Z.jsxs("div",{className:"modal-box p-6 rounded-lg shadow-lg",children:[Z.jsx("h3",{className:"font-bold text-lg mb-4",children:"Crea tu nueva tarea"}),R&&Z.jsx("p",{className:"text-red-500",children:R}),L&&Z.jsx("p",{className:"text-green-500",children:L}),Z.jsxs("div",{className:"flex flex-col gap-2 bg-base-200 p-4 rounded-lg",children:[Z.jsx("label",{className:"font-bold",children:"Descripcin"}),Z.jsx("input",{type:"text",placeholder:"Escribe la descripcin de la tarea",className:"input",value:e,onChange:X=>n(X.target.value)}),Z.jsx("label",{className:"font-bold",children:"Curso"}),Z.jsx("input",{type:"text",className:"input",value:a,onChange:X=>o(X.target.value)}),Z.jsx("label",{className:"font-bold",children:"Fecha de Entrega"}),Z.jsx("input",{type:"date",className:"input",value:u.toISOString().split("T")[0],onChange:X=>f(new Date(X.target.value))}),Z.jsx("label",{className:"font-bold",children:"Prioridad"}),Z.jsxs("select",{className:"input",value:m,onChange:X=>g(X.target.value),children:[Z.jsx("option",{value:"1",children:"Baja"}),Z.jsx("option",{value:"2",children:"Media"}),Z.jsx("option",{value:"3",children:"Alta"})]})]}),Z.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[Z.jsx("button",{onClick:H,disabled:E,className:"btn btn-primary",children:E?"Guardando...":"Crear Tarea"}),Z.jsx("button",{onClick:i,className:"btn btn-secondary",children:"Cancelar"})]})]})}function MO(){const[i,e]=Q.useState(!1),n=()=>e(!0),a=()=>e(!1);return Z.jsxs(Z.Fragment,{children:[Z.jsxs(xo,{className:"flex flex-col justify-center items-center py-20",children:[Z.jsx(NO,{className:"w-52"}),Z.jsxs("div",{className:"flex flex-col items-center",children:[Z.jsx("h2",{className:"text-2xl font-bold",children:"Comienza creando tu nueva tarea!"}),Z.jsx("div",{className:"mt-4",children:Z.jsx("button",{onClick:n,className:"btn btn-primary",children:"Crear nueva tarea"})})]})]}),i&&Z.jsx("div",{className:"modal modal-open",children:Z.jsx(OO,{closeModal:a})})]})}function xO(){const[i,e]=Q.useState([]),[n,a]=Q.useState(!0),[o,u]=Q.useState(null);return Q.useEffect(()=>{let f=!0,m=null;try{const g=localStorage.getItem("user");m=g?JSON.parse(g).uid:null,console.log(" User ID desde localStorage:",m)}catch(g){console.error(" Error leyendo localStorage",g),u("Error obteniendo usuario"),a(!1);return}if(!m){u("Usuario no autenticado"),a(!1);return}return DO(m).then(g=>{f&&(console.log(" Tareas obtenidas:",g),e(g),a(!1))}).catch(g=>{f&&(console.error(" Error al obtener tareas:",g),u("Error al obtener tareas"),a(!1))}),()=>{f=!1}},[]),n?Z.jsx("div",{className:"w-full h-full flex justify-center items-center",children:Z.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}):o?Z.jsx("p",{className:"text-red-500 text-center",children:o}):Z.jsx("div",{children:i.length>0?i.map(f=>{var m;return Z.jsxs("div",{className:"p-4 border-b border-gray-200",children:[Z.jsx("h2",{className:"text-lg font-bold",children:f.descripcion}),Z.jsxs("p",{className:"text-gray-500",children:["Curso: ",f.curso]}),Z.jsxs("p",{className:"text-gray-500",children:["Entrega:"," ",(m=f.fechaEntrega)!=null&&m.toDate?new Date(f.fechaEntrega.toDate()).toLocaleDateString():new Date(f.fechaEntrega).toLocaleDateString()]})]},f.id)}):Z.jsx(MO,{})})}function VO(){return Z.jsxs(xo,{children:[Z.jsx(Dw,{}),Z.jsx(xO,{})]})}const LO=WA([{path:"/",element:Z.jsx(hR,{})},{path:"/login",element:Z.jsx(vO,{})},{path:"/dashboard",element:Z.jsx(z0,{children:Z.jsx(wO,{})})},{path:"/dashboard/tareas",element:Z.jsx(z0,{children:Z.jsx(VO,{})})}]);function PO(){return Z.jsxs("main",{className:"w-screen h-screen relative",children:[Z.jsx(cR,{router:LO}),Z.jsxs("footer",{className:"absolute bottom-0 w-full text-center text-gray-500 text-sm py-3",children:["Creado por ",Z.jsx("a",{href:"https://github.com/techatlasdev/",children:"TechAtlasDev"})]})]})}lb.createRoot(document.getElementById("root")).render(Z.jsx(Q.StrictMode,{children:Z.jsx(PO,{})}));
